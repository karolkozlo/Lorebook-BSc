{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/RichEditor.vue?60b7","webpack:///./src/pages/universeElementPages/CategoryPage.vue?e48c","webpack:///./src/assets/screenshots/manage-content-element-2.jpg","webpack:///./src/components/LbSearchBar.vue?0416","webpack:///./src/popups/EventDatePopup.vue?9d31","webpack:///./src/popups/TagsPopup.vue?a15e","webpack:///./src/components/LbChapterElement.vue?fa47","webpack:///./src/components/contentElements/LbLinkGroupElement.vue?822d","webpack:///./src/pages/UserPage.vue?c4f5","webpack:///./src/pages/elementPage/LocationParentSection.vue?ab1b","webpack:///./src/components/Icon.vue?b58c","webpack:///./src/pages/storyPage/StoryPage.vue?8899","webpack:///./src/components/LbEditableText.vue?3077","webpack:///./src/popups/CreateUniversePopup.vue?c79c","webpack:///./src/components/LbAccordion.vue?128c","webpack:///./src/popups/ChapterLinkPopup.vue?3305","webpack:///./src/components/LbSpinner.vue?c457","webpack:///./src/assets/screenshots/manage-content-element-1.jpg","webpack:///./src/pages/RegisterPage.vue?4af2","webpack:///./src/components/LbToast.vue?8b39","webpack:///./src/pages/storyPage/StoryChapters.vue?dfc5","webpack:///./src/components/LbUniverseNav.vue?7d6b","webpack:///./src/App.vue","webpack:///./src/components/LbHeader.vue","webpack:///./src/httpLayers/LbAPI.js","webpack:///./src/httpLayers/login.http.js","webpack:///./src/components/LbHeader.vue?2e87","webpack:///./src/components/LbToast.vue","webpack:///./src/components/LbToast.vue?27be","webpack:///./src/App.vue?6697","webpack:///./src/store/notifications.store.js","webpack:///./src/httpLayers/universe.http.js","webpack:///./src/store/universe.store.js","webpack:///./src/store/popup.store.js","webpack:///./src/domain/contentElementTypes.js","webpack:///./src/store/element.store.js","webpack:///./src/store/index.js","webpack:///./src/pages/MainPage.vue","webpack:///./src/components/LbAccordion.vue","webpack:///./src/components/LbEditableText.vue","webpack:///./src/components/LbEditableText.vue?4d09","webpack:///./src/components/LbAccordion.vue?f52a","webpack:///./src/pages/MainPage.vue?4ea7","webpack:///./src/pages/ChapterPage.vue","webpack:///./src/components/RichEditor.vue","webpack:///./src/components/RichEditor.vue?0be0","webpack:///./src/httpLayers/chapter.http.js","webpack:///./src/httpLayers/link.http.js","webpack:///./src/popups/LinkPopup.vue","webpack:///./src/components/LbInput.vue","webpack:///./src/components/LbSmallError.vue","webpack:///./src/components/LbSmallError.vue?648a","webpack:///./src/components/LbInput.vue?480a","webpack:///./src/components/LbSelect.vue","webpack:///./src/components/LbSelect.vue?000b","webpack:///./src/components/LbSelectList.vue","webpack:///./src/components/LbSelectList.vue?e39a","webpack:///./src/components/LbSearchBar.vue","webpack:///./src/components/LbSearchBar.vue?cc9b","webpack:///./src/components/LbPageNav.vue","webpack:///./src/components/LbPageNav.vue?1dae","webpack:///./src/httpLayers/category.http.js","webpack:///./src/domain/errors.js","webpack:///./src/httpLayers/character.http.js","webpack:///./src/httpLayers/entry.http.js","webpack:///./src/httpLayers/location.http.js","webpack:///./src/httpLayers/event.http.js","webpack:///./src/httpLayers/universeElement.interface.js","webpack:///./src/popups/LinkPopup.vue?dc33","webpack:///./src/components/LbChapterLink.vue","webpack:///./src/components/LbChapterLink.vue?acad","webpack:///./src/popups/ChapterLinkPopup.vue","webpack:///./src/popups/ChapterLinkPopup.vue?968b","webpack:///./src/pages/ChapterPage.vue?ba0c","webpack:///./src/pages/RegisterPage.vue","webpack:///./src/components/LbPopupBox.vue","webpack:///./src/components/LbPopper.vue","webpack:///./src/components/LbPopper.vue?3f49","webpack:///./src/components/LbPopupBox.vue?910f","webpack:///./src/httpLayers/account.http.js","webpack:///./src/pages/RegisterPage.vue?b096","webpack:///./src/pages/LoginPage.vue","webpack:///./src/components/LbSearchSelect.vue","webpack:///./src/components/LbSearchSelect.vue?06e3","webpack:///./src/pages/LoginPage.vue?6ca2","webpack:///./src/pages/UserPage.vue","webpack:///./src/popups/CreateUniversePopup.vue","webpack:///./src/popups/CreateUniversePopup.vue?a35d","webpack:///./src/pages/UserPage.vue?525c","webpack:///./src/pages/universePage/UniversePage.vue","webpack:///./src/popups/CategoriesPopup.vue","webpack:///./src/popups/CategoriesPopup.vue?9500","webpack:///./src/popups/UniverseElementPopup.vue","webpack:///./src/popups/UniverseElementPopup.vue?8a12","webpack:///./src/popups/TagsPopup.vue","webpack:///./src/httpLayers/tag.http.js","webpack:///./src/popups/TagsPopup.vue?d75d","webpack:///./src/pages/universePage/UniversePage.vue?a314","webpack:///./src/pages/universePage/UniverseMainPage.vue","webpack:///./src/components/LbContentSwapper.vue","webpack:///./src/components/LbContentSwapper.vue?c9f6","webpack:///./src/pages/universePage/UniverseElements.vue","webpack:///./src/components/LbUniverseElementList.vue","webpack:///./src/components/LbUniverseElementList.vue?02ac","webpack:///./src/httpLayers/search.http.js","webpack:///./src/pages/universePage/UniverseElements.vue?62b0","webpack:///./src/pages/universePage/UniverseStories.vue","webpack:///./src/popups/CreateStoryPopup.vue","webpack:///./src/httpLayers/story.http.js","webpack:///./src/popups/CreateStoryPopup.vue?4513","webpack:///./src/components/LbStoryElement.vue","webpack:///./src/components/LbStoryElement.vue?5a79","webpack:///./src/pages/universePage/UniverseStories.vue?74f7","webpack:///./src/pages/universePage/UniverseMainPage.vue?4178","webpack:///./src/components/LbUniverseNav.vue","webpack:///./src/components/LbUniverseNav.vue?9a1b","webpack:///./src/pages/universeElementPages/CategoryPage.vue","webpack:///./src/utils.js","webpack:///./src/pages/universeElementPages/CategoryPage.vue?49f3","webpack:///./src/pages/universeElementPages/CategoryElementsPage.vue","webpack:///./src/pages/universeElementPages/CategoryElementsPage.vue?606f","webpack:///./src/pages/elementPage/ElementPage.vue","webpack:///./src/components/contentElements/LbContent.vue","webpack:///./src/components/LbMenuButton.vue","webpack:///./src/components/LbMenuButton.vue?a456","webpack:///./src/components/contentElements/LbTextElement.vue","webpack:///./src/components/contentElements/LbContentElement.vue","webpack:///./src/components/contentElements/LbContentElement.vue?0add","webpack:///./src/components/contentElements/ContentElement.mixin.js","webpack:///./src/httpLayers/text.http.js","webpack:///./src/components/contentElements/LbTextElement.vue?9830","webpack:///./src/components/contentElements/LbListElement.vue","webpack:///./src/components/contentElements/LbListItem.vue","webpack:///./src/httpLayers/list.http.js","webpack:///./src/components/contentElements/LbListItem.vue?1334","webpack:///./src/components/contentElements/LbListElement.vue?3a9a","webpack:///./src/components/contentElements/LbLinkGroupElement.vue","webpack:///./src/components/contentElements/LbContentLink.vue","webpack:///./src/components/contentElements/LbContentLink.vue?2972","webpack:///./src/components/contentElements/LbLinkGroupElement.vue?8389","webpack:///./src/components/contentElements/LbImageGroupElement.vue","webpack:///./src/components/contentElements/LbImageGroupElement.vue?8b0d","webpack:///./src/httpLayers/content.http.js","webpack:///./src/httpLayers/image.http.js","webpack:///./src/httpLayers/contentElement.interface.js","webpack:///./src/components/contentElements/LbContent.vue?3d45","webpack:///./src/components/LbTagContainer.vue","webpack:///./src/components/LbTagContainer.vue?b491","webpack:///./src/pages/elementPage/EventDateSection.vue","webpack:///./src/popups/EventDatePopup.vue","webpack:///./src/popups/EventDatePopup.vue?d0b4","webpack:///./src/pages/elementPage/EventDateSection.vue?c976","webpack:///./src/pages/elementPage/LocationParentSection.vue","webpack:///./src/popups/LocationParentPopup.vue","webpack:///./src/popups/LocationParentPopup.vue?fadf","webpack:///./src/pages/elementPage/LocationParentSection.vue?a8e7","webpack:///./src/pages/elementPage/DummyComponent.vue","webpack:///./src/pages/elementPage/DummyComponent.vue?2798","webpack:///./src/pages/elementPage/ElementPage.vue?e17c","webpack:///./src/pages/ElementNotFoundPage.vue","webpack:///./src/pages/ElementNotFoundPage.vue?445c","webpack:///./src/pages/SearchPage.vue","webpack:///./src/pages/SearchPage.vue?aa88","webpack:///./src/pages/storyPage/StoryPage.vue","webpack:///./src/pages/storyPage/StoryPage.vue?9da8","webpack:///./src/pages/storyPage/StoryChaptersPage.vue","webpack:///./src/pages/storyPage/StoryChapters.vue","webpack:///./src/popups/CreateChapterPopup.vue","webpack:///./src/popups/CreateChapterPopup.vue?014e","webpack:///./src/components/LbChapterElement.vue","webpack:///./src/components/LbChapterElement.vue?d664","webpack:///./src/pages/storyPage/StoryChapters.vue?007b","webpack:///./src/pages/storyPage/StoryChaptersPage.vue?775b","webpack:///./src/router/router.js","webpack:///./src/components/Icon.vue","webpack:///./src/components/Icon.vue?8490","webpack:///./src/components/LbButton.vue","webpack:///./src/components/LbButton.vue?9976","webpack:///./src/components/LbSpinner.vue","webpack:///./src/components/LbSpinner.vue?6c5e","webpack:///./src/main.js","webpack:///./src/pages/storyPage/StoryChaptersPage.vue?5c67","webpack:///./src/components/contentElements/LbContentLink.vue?4405","webpack:///./src/components/LbSmallError.vue?fc26","webpack:///./src/popups/CategoriesPopup.vue?428c","webpack:///./src/components/LbMenuButton.vue?903e","webpack:///./src/popups/CreateStoryPopup.vue?53ff","webpack:///./src/components/LbUniverseElementList.vue?f6de","webpack:///./src/components/LbSelectList.vue?f6c2","webpack:///./src/pages/universePage/UniversePage.vue?88f1","webpack:///./src/popups/LocationParentPopup.vue?4bad","webpack:///./src/components/LbInput.vue?888d","webpack:///./src/components/contentElements/LbContentElement.vue?af55","webpack:///./src/pages/ChapterPage.vue?c3cc","webpack:///./src/pages/elementPage/ElementPage.vue?65de","webpack:///./src/components/LbPageNav.vue?96be","webpack:///./src/components/contentElements/LbListItem.vue?0683","webpack:///./src/components/LbPopper.vue?79ca","webpack:///./src/components/contentElements/LbTextElement.vue?3d19","webpack:///./src/pages/universePage/UniverseElements.vue?5a02","webpack:///./src/popups/LinkPopup.vue?848b","webpack:///./src/pages/SearchPage.vue?96cf","webpack:///./src/components/LbTagContainer.vue?6582","webpack:///./src/components/LbChapterLink.vue?9b95","webpack:///./src/components/contentElements/LbContent.vue?ec0d","webpack:///./src/components/contentElements/LbListElement.vue?25ef","webpack:///./src/components/LbHeader.vue?84dc","webpack:///./src/components/LbButton.vue?3bcc","webpack:///./src/assets/screenshots/edit-universe-title-1.jpg","webpack:///./src/components/LbSelect.vue?1bca","webpack:///./src/components/LbPopupBox.vue?bf98","webpack:///./src/components/LbSearchSelect.vue?2e51","webpack:///./src/assets/screenshots/edit-universe-title-2.jpg","webpack:///./src/App.vue?b9d0","webpack:///./src/assets/screenshots/search-elements-1.jpg","webpack:///./src/components/LbStoryElement.vue?51ef","webpack:///./src/pages/ElementNotFoundPage.vue?8ff4","webpack:///./src/pages/elementPage/EventDateSection.vue?dc25","webpack:///./src/popups/UniverseElementPopup.vue?a43a","webpack:///./src/pages/LoginPage.vue?14a0","webpack:///./src/pages/universePage/UniverseMainPage.vue?4e29","webpack:///./src/pages/universeElementPages/CategoryElementsPage.vue?ebb4","webpack:///./src/pages/MainPage.vue?0062","webpack:///./src/popups/CreateChapterPopup.vue?5e63","webpack:///./src/pages/universePage/UniverseStories.vue?3249","webpack:///./src/components/LbContentSwapper.vue?52bd"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","type","notificationType","message","notificationMessage","isOpen","isNotificationOpen","closeNotification","to","setLink","setAccountLinkText","icon","size","logOut","LbAPI","a","baseURL","timeout","withCredentials","loginUser","async","password","user","post","then","response","catch","error","Error","request","logoutUser","refreshToken","computed","this","username","methods","err","console","clearUser","clearUserUniverses","clearUniverse","$router","__exports__","setTypeClass","$emit","emits","props","String","default","Boolean","components","LbHeader","LbToast","render","notificationsModule","namespaced","mutations","state","payload","getters","getUserUniverses","userID","path","getUserUniverseList","createUniverse","description","removeUniverse","universeID","delete","getUniverse","updateUniverse","fields","patch","universeModule","universeName","userUniverses","universesFetchedFlag","checkIfUserOwnsUniverse","find","uni","id","newName","categories","universes","filter","actions","context","rootGetters","commit","root","popupModule","isCategoriesPopupOpen","isUniverseElementPopupOpen","isLinkPopupOpen","isTagsPopupOpen","contentElementType","text","list","imageGroup","linkGroup","elementModule","contentElements","contentID","map","el","getElementById","getListItemById","listID","itemID","items","it","getListItemByOrder","ordinalNumber","getLinkById","linkGroupID","linkID","group","links","store","notifications","universe","popups","element","email","isAuth","tokenRefreshedFlag","src","title","isTitleEditable","toggleContent","width","changeTitle","maxLength","customClass","subtext","toggleButtonIcon","style","setWidth","deactivate","active","textClass","activate","noContent","maxlength","ref","saveWithShortcut","editedValue","minHeight","save","includes","Number","$nextTick","$refs","input","focus","textarea","e","keyCode","ctrlKey","watch","LbEditableText","required","newTitle","LbAccordion","sidePanelVisibility","openLinkPopup","link","index","chapterID","parseInt","openChapterLinkPopup","variant","removeChapter","loading","chapterRemoveLoading","changeChapterTitle","changeChapterDescription","content","chapterText","saveLoading","updateChapterText","saveChapterText","addNewLink","isChapterLinkPopupOpen","linkInPopup","changeLinkDescription","deleteLink","closeChapterLinkPopup","bold","italic","underline","editor","EditorContent","chain","toggleBold","run","toggleItalic","toggleUnderline","isSame","JSON","stringify","getJSON","commands","setContent","extensions","onUpdate","destroy","defaultChapterText","chaptersMapper","chapters","ch","ordinal_number","getChapter","chapterToGet","storyID","Story_id","getStoryChapters","createChapter","chapterToPost","updateChapter","updateChapterPosition","deleteChapter","linkTargetID","Character_id","Location_id","Event_id","Entry_id","linkMapper","targetName","target","targetID","categoryName","Category","categoryID","createLinkGroup","fieldsToSend","updateLink","url","updateLinkGroup","deleteLinkGroup","createLink","targetType","bodyToSend","getChapterLinks","close","placeholder","categoriesLoading","selectCategory","selectedCategory","search","searchText","filteredElements","areElementsLoading","selectedID","targetElementID","selectTargetElement","maxHeight","totalPages","currentPage","changePage","createNewLink","disabled","isCreateButtonDisabled","createLoading","setSize","isFocused","fieldClass","LbSmallError","fontSize","setClass","toggleOpen","setSelectText","setIcon","itemsToSelect","item","selectItem","selected","Array","multiselect","selectedItems","headText","itemsStyle","itemChecked","listItem","line","noItemsText","visibility","handleEnterPress","event","preventDefault","newText","prevButtonState","min","max","submitOnKey","pageNumber","nextButtonState","submitPageNumber","getUniverseCategories","getUniverseCategoryList","createCategory","updateCategory","removeCategory","getCategory","super","getCharacter","status","updateCharacter","createCharacter","searchCharacters","query","limit","offset","encodedQuery","encodeURIComponent","deleteCharacter","characterID","getEntry","updateEntry","createEntry","searchEntries","deleteEntry","entryID","locationMapper","location","parentID","Universe_id","parentName","getLocation","updateLocation","createLocation","parentLocation","locationID","getUniverseLocations","searchLocations","deleteLocation","getEvent","updateEvent","createEvent","date","searchEvents","deleteEvent","eventID","getElement","updateElement","searchElements","queryText","elementsPerPage","page","elements","searchResult","rows","elementCount","count","Math","ceil","deleteElement","LbInput","LbSelect","LbSelectList","LbSearchBar","LbPageNav","elementID","elementCategoryID","closeLinkPopup","basicCategories","customCategories","notify","newPage","selection","fetchElements","newPageNumber","category","cat","targetElement","descriptionToSend","createdLink","fetchCategories","navigateToElement","showLink","rquired","params","editableDescription","deleteChapterLink","removeLinkLoading","newValue","RichEditor","LinkPopup","LbChapterLink","ChapterLinkPopup","oldChapterText","linksLoading","textPatch","fetchedChapter","newLink","change","replace","fetchChapter","fetchChapterLinks","isFormVisible","setUsername","errorMsg","setEmail","setPassword","passwordConfirm","setPasswordConfirm","register","isButtonDisabled","thickness","isPopupOpen","resultTitle","resultMessage","closePopup","setVariantClass","tabindex","FocusTrap","LbPopper","registerUser","LbPopupBox","resultType","formValidation","registeredUser","logIn","isErrorOpen","closeError","isControlVisible","selectedItem","removeSelection","filteredItems","isDropdownOpen","toLowerCase","LbSearchSelect","start","Date","now","timeRemaining","setTimeout","setUser","fetchUserUniverses","openUniverseCreator","deleteUniverse","isCreateUniverseOpen","closeUniverseCreator","onCreateUniverse","setVisibilityOnLoading","setTitle","isFormValid","createdUniverse","CreateUniversePopup","confirm","removerUserUniverse","pushUserUniverse","fetchUserUniverseList","universeDescriptionProp","universeDescription","setName","categoryNameError","setButtonsClass","addCategory","disableFormButtons","isAddCategoryLoading","cancelEdit","renameCategory","categoriesList","isRowEdited","navigateToCategory","isCategoryMutable","editCategory","deleteCategory","closeCategoriesPopup","route","isCategoryNameValid","createdCategory","$route","closeUniverseElementPopup","eventDate","year","setEventMonth","month","setEventDay","day","locations","areLocationsLoading","selectLocation","createElement","fetchLocationsFlag","fetchLocations","tagsLoadingVisibility","tagName","setTagName","tagNameError","renameTag","renameLoading","disableRenameButton","selectedTag","tagList","tag","editTag","removeTag","createTagInContent","deleteTag","tagID","deleteTagFromContent","searchTagList","updateTag","tagsLoading","closeTagsPopup","fetchTagList","erorr","CategoriesPopup","UniverseElementPopup","TagsPopup","currentUniverse","setUniverse","changeUniverseTitle","changeDescription","options","contentOptions","activeOption","changeContent","option","setActiveClass","selectOption","elementLists","elementList","footerLink","isContentVisible","categoryLink","elementCountText","formatDate","last_modified","catID","interactive","isoDate","formattedDate","format","getUniverseElementsShortLists","universeElementsMapper","lastModified","Category_id","getSearchedUniverseElements","tags","queryParams","encodedCategories","encoded","forEach","encodedTags","queryParamsString","qp","LbUniverseElementList","sort","el2","el1","fetchElementLists","openPopup","storiesListVisibility","storiesList","story","initDescription","chapterCount","removeStory","addStory","getStory","NotFoundException","createStory","getUniverseStoryList","updateStory","deleteStory","createdStory","navigateToStory","chapterCountText","newDescription","CreateStoryPopup","LbStoryElement","newStory","storyToAdd","fetchListOfStories","LbContentSwapper","UniverseElements","UniverseStories","contentKey","setUniverseName","openUniverseElementPopup","openCategoriesPopup","openTagsPopup","navigateToSearch","isCategoryHardcoded","fetchCategory","from","sideInfoVisibility","saveName","saveDescription","specificElement","addTag","contentLoading","buttonLoading","tagLoading","deleteCurrentElement","deleteLoading","clickOnMenuBtn","componentType","position","isLast","buttonsLoading","elementButtonsLoading","moveElement","removeElement","clickActivator","clickOption","optionSize","moveContentElement","saveText","isUpBtnDisabled","LbContentElementMixin","newPosition","oldPosition","createText","updateText","deleteText","mixins","LbContentElement","elementType","sortedItems","isItemLast","moveItem","deleteItem","addListItem","saveTitle","moveListItem","createList","updateList","deleteList","createListItem","deleteListItem","updateListItem","updateListItemPosition","oldOrdinalNumber","newOrdinalNumber","LbListItem","it1","it2","newItem","createdItem","order","item1","item2","deleteContentLink","newDesc","LbContentLink","universeElementType","entry","character","linkGroupMapper","linkGroups","lg","Link_group_id","listItemMapper","listMapper","lists","ListItems","textsMapper","texts","imageGroupMapper","imageGroups","ig","getFullContent","ownerID","mappedResponse","configuration","updateContentConfig","config","createImageGroup","deleteImageGroup","createContentElement","deleteContentElement","LbMenuButton","LbTextElement","LbListElement","LbLinkGroupElement","LbImageGroupElement","positions","elToDel","removeContentElement","createdElement","tagExists","undefined","changeDate","EventDatePopup","validator","newDate","navigateToParent","currentParentID","currentParentName","setParent","filteredLocations","locationsLoading","selectParent","setParentLoading","LocationParentPopup","newParent","LbContent","LbTagContainer","EventDateSection","DummyComponent","LocationParentSection","elementLoading","elID","clearContent","setContentID","newTag","success","fetchElement","fetchFullContent","newRoute","init","loadingVisibility","elementsLoading","tagsToSend","selectedCategories","storyLoadingVisibility","storyTitle","changeStoryTitle","storyDescription","changeStoryDescription","sortedChapters","chapter","moveChapter","newChapterOrdinalNumber","addNewChapter","titleError","createdChapter","navigateToChapter","require","CreateChapterPopup","LbChapterElement","ch1","ch2","newChapter","chapter1","chapter2","fetchChapters","StoryChapters","storyLoading","canShowChapters","fetchedStory","fetchStory","categoryRoute","CategoryPage","children","component","CategoryElementsPage","ElementPage","universeMainRoute","UniverseMainPage","elementNotFoundRoute","ElementNotFoundPage","searchRoute","SearchPage","storyPage","StoryPage","ChapterPage","StoryChaptersPage","routes","MainPage","RegisterPage","meta","requiresUnAuth","LoginPage","UserPage","requiresAuth","UniversePage","header","LbUniverseNav","universeRelated","next","dispatch","redirect","router","history","beforeEach","_","setStyleClass","onClick","setSpinnerVariant","setVariant","setStyle","app","App","use","Icon","LbButton","LbSpinner","mount"],"mappings":"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","file":"js/app.9d5884d3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./RichEditor.vue?vue&type=style&index=0&id=6953f704&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CategoryPage.vue?vue&type=style&index=0&id=2e296aae&lang=less\"","module.exports = __webpack_public_path__ + \"img/manage-content-element-2.d457ed06.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbSearchBar.vue?vue&type=style&index=0&id=63b623e6&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./EventDatePopup.vue?vue&type=style&index=0&id=041bc6ec&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TagsPopup.vue?vue&type=style&index=0&id=340b933a&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbChapterElement.vue?vue&type=style&index=0&id=1abc0e22&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbLinkGroupElement.vue?vue&type=style&index=0&id=8383313c&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserPage.vue?vue&type=style&index=0&id=4a4a0cd3&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LocationParentSection.vue?vue&type=style&index=0&id=5fd5da47&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Icon.vue?vue&type=style&index=0&id=1091c13e&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StoryPage.vue?vue&type=style&index=0&id=b020f8e6&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbEditableText.vue?vue&type=style&index=0&id=567439a8&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CreateUniversePopup.vue?vue&type=style&index=0&id=7b1e8eaa&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbAccordion.vue?vue&type=style&index=0&id=d671cfe0&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ChapterLinkPopup.vue?vue&type=style&index=0&id=0753fc84&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbSpinner.vue?vue&type=style&index=0&id=52809c72&lang=less\"","module.exports = __webpack_public_path__ + \"img/manage-content-element-1.f0e21097.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./RegisterPage.vue?vue&type=style&index=0&id=1afa8862&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbToast.vue?vue&type=style&index=0&id=cf31e1a6&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StoryChapters.vue?vue&type=style&index=0&id=7dab2b12&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbUniverseNav.vue?vue&type=style&index=0&id=3f7c81ae&lang=less\"","<template>\r\n  <main>\r\n    <lb-header/>\r\n    <div class=\"main__content\">\r\n      <lb-toast :type=\"notificationType\" :message=\"notificationMessage\" :isOpen=\"isNotificationOpen\" @close=\"closeNotification\"></lb-toast>\r\n      <router-view></router-view>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport LbHeader from './components/LbHeader.vue';\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport LbToast from './components/LbToast.vue';\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    LbHeader,\r\n    LbToast\r\n  },\r\n  computed: {\r\n    ...mapGetters('notifications', ['isNotificationOpen', 'notificationMessage', 'notificationType'])\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setUser']),\r\n    ...mapMutations('notifications', ['closeNotification'])\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import './common.less';\r\n\r\nhtml {\r\n  font-size: 16px;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nmain {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100vh;\r\n  font-family: 'Roboto';\r\n  background-color: @tertiary-color;\r\n\r\n  .main__nav {\r\n    display: flex;\r\n    background-color: @primary-color;\r\n    padding: 5px;\r\n    gap: 10px;\r\n\r\n    .main__nav-link {\r\n      color: white;\r\n      font-size: 1.2em;\r\n    }\r\n  }\r\n\r\n  .main__content {\r\n    position: relative;\r\n    overflow-y: auto;\r\n    height: 100%;\r\n  }\r\n}\r\n</style>\r\n\r\n","<template>\r\n  <header class=\"lb-header\">\r\n    <nav class=\"lb-header__nav\">\r\n        <div class=\"lb-header__nav-left\">\r\n            <router-link class=\"lb-header__link lb-header__link--main\" to=\"/\">Lorebook</router-link>\r\n        </div>\r\n        <div class=\"lb-header__nav-center\">\r\n            <router-view name=\"header\"></router-view>\r\n        </div>\r\n        <div class=\"lb-header__nav-right\">\r\n            <router-link class=\"lb-header__link lb-header__link--account\" :to=\"setLink\">\r\n                <span class=\"lb-header__account-text\">{{ setAccountLinkText }}</span>\r\n                <icon icon=\"lb-user\" :size=\"1.5\"></icon>\r\n            </router-link>\r\n            <lb-button v-if=\"this.username\" icon=\"lb-logout\" :size=\"1.5\" @click=\"logOut\"></lb-button>\r\n        </div>\r\n    </nav>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport { logoutUser } from '../httpLayers/login.http.js';\r\n\r\nexport default {\r\n    name: 'LbHeader',\r\n    computed: {\r\n        ...mapGetters(['username']),\r\n        setAccountLinkText() {\r\n            return this.username ? this.username : 'Log In';\r\n        },\r\n        setLink() {\r\n            return this.username ? '/user' : '/login';\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations(['clearUser']),\r\n        ...mapMutations('universe', ['clearUserUniverses', 'clearUniverse']),\r\n        async logOut() {\r\n            try {\r\n                await logoutUser();\r\n            }\r\n            catch(err) {\r\n                console.error(err.message);\r\n            } finally {\r\n                this.clearUser();\r\n                this.clearUserUniverses();\r\n                this.clearUniverse();\r\n                this.$router.push('/login');\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-header {\r\n    display: flex;\r\n    background-color: @primary-color;\r\n    padding: 0px 5px;\r\n\r\n    .lb-header__nav {\r\n        display: flex;\r\n        gap: 10px;\r\n        width: 100%;\r\n\r\n        .lb-header__nav-left {\r\n            display: flex;\r\n            justify-content: flex-start;\r\n            align-items: center;\r\n            padding: 0.5em;\r\n        }\r\n\r\n        .lb-header__nav-center {\r\n            flex: 1;\r\n        }\r\n\r\n        .lb-header__nav-right {\r\n            display: flex;\r\n            justify-content: flex-end;\r\n            align-items: center;\r\n            gap: 15px;\r\n            padding: 0.5em 0.5em 0.5em 0em;\r\n        }\r\n\r\n        .lb-header__link {\r\n            color: white;\r\n            font-size: 1.2em;\r\n            text-decoration: none;\r\n\r\n            &--account {\r\n                display: flex;\r\n                align-items: center;\r\n                flex-wrap: nowrap;\r\n                gap: 10px;\r\n            }\r\n\r\n            &--main {\r\n                font-size: 2rem;\r\n                font-weight: bold;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</style>","import axios from \"axios\";\r\n\r\nconst LbAPI = axios.create({\r\n  baseURL: \"https://ec2-3-75-217-172.eu-central-1.compute.amazonaws.com/api\",\r\n  timeout: 5000,\r\n  withCredentials: true,\r\n})\r\n\r\nexport default LbAPI;\r\n","import LbAPI from \"./LbAPI.js\";\r\n\r\nconst loginUser = async (name, password) => {\r\n  const user = await LbAPI\r\n    .post(\"/login\", { name: name, password: password })\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      if (error.response) {\r\n        throw new Error(`${error.response.data.message}`);\r\n      } else if (error.request) {\r\n        throw new Error(\"Service refused connection\");\r\n      } else {\r\n        throw new Error(\"Undefined error\");\r\n      }\r\n    });\r\n  return user;\r\n};\r\n\r\nasync function logoutUser() {\r\n  return await LbAPI\r\n    .get(\"/logout\")\r\n    .then(() => {\r\n      return true;\r\n    })\r\n    .catch((error) => {\r\n      if (error.response) {\r\n        throw new Error(`${error.message}`);\r\n      } else if (error.request) {\r\n        throw new Error(\"Service refused connection\");\r\n      } else {\r\n        throw new Error(\"Undefined error\");\r\n      }\r\n    });\r\n};\r\n\r\nconst refreshToken = async () => {\r\n  const user = await LbAPI.get('/refreshToken')\r\n  .then((response) => {\r\n    return response.data;\r\n  }).catch(() => {\r\n  });\r\n  return user;\r\n};\r\n\r\nexport { loginUser, logoutUser, refreshToken };\r\n","import { render } from \"./LbHeader.vue?vue&type=template&id=7f363eb0\"\nimport script from \"./LbHeader.vue?vue&type=script&lang=js\"\nexport * from \"./LbHeader.vue?vue&type=script&lang=js\"\n\nimport \"./LbHeader.vue?vue&type=style&index=0&id=7f363eb0&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <transition name=\"toast\">\r\n        <div class=\"lb-toast\" :class=\"setTypeClass\" v-if=\"isOpen\">\r\n            <icon class=\"lb-toast__close-button\" icon=\"lb-cancel-circled\" :size=\"1.2\" @click=\"$emit('close')\"/>\r\n            <span class=\"lb-toast__message\">{{ message }}</span>\r\n        </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'LbToast',\r\n    emits: ['close'],\r\n    props: {\r\n        message: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        type: {\r\n            type: String,\r\n            validator(value) {\r\n                if (value === \"positive\" || value === \"negative\" || value === '') {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        },\r\n        isOpen: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    computed: {\r\n        setTypeClass() {\r\n            return `lb-toast--${this.type}`;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-toast {\r\n    display: flex;\r\n    align-items: center;\r\n    position: absolute;\r\n    color: @light-text-color;\r\n    border-radius: 15px;\r\n    padding: 0.4em;\r\n    z-index: 9999;\r\n    gap: 10px;\r\n    font-size: 1.2rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n\r\n    &--negative {\r\n        background-color: @negative-color;\r\n    }\r\n\r\n    &--positive {\r\n        background-color: @positive-color;\r\n    }\r\n\r\n    .lb-toast__close-button {\r\n        &:hover {\r\n            color: @neutral-color;\r\n        }\r\n    }\r\n}\r\n\r\n.toast-enter-from, .toast-leave-to {\r\n    opacity: 0;\r\n    transform: translateY(-30px) translateX(-50%);\r\n}\r\n\r\n.toast-enter-active, .toast-leave-active {\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n.toast-enter-to, .toast-leave-from {\r\n    opacity: 1;\r\n    transform: translateY(0) translateX(-50%);\r\n}\r\n\r\n\r\n</style>","import { render } from \"./LbToast.vue?vue&type=template&id=cf31e1a6\"\nimport script from \"./LbToast.vue?vue&type=script&lang=js\"\nexport * from \"./LbToast.vue?vue&type=script&lang=js\"\n\nimport \"./LbToast.vue?vue&type=style&index=0&id=cf31e1a6&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=4fd028d6\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4fd028d6&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const notificationsModule = {\r\n    namespaced: true,\r\n    state() {\r\n        return {\r\n            isNotificationOpen: false,\r\n            notificationType: '',\r\n            message: ''\r\n        };\r\n    },\r\n    mutations: {\r\n        notify(state, payload) {\r\n            state.notificationType = payload.type;\r\n            state.message = payload.message;\r\n            state.isNotificationOpen = true;\r\n        },\r\n        closeNotification(state) {\r\n            state.notificationType = '';\r\n            state.message = '';\r\n            state.isNotificationOpen = false;\r\n        }\r\n    },\r\n    getters: {\r\n        isNotificationOpen(state) {\r\n            return state.isNotificationOpen;\r\n        },\r\n        notificationMessage(state) {\r\n            return state.message;\r\n        },\r\n        notificationType(state) {\r\n            return state.notificationType;\r\n        }\r\n    }\r\n};\r\n\r\nexport default notificationsModule;","import LbAPI from \"./LbAPI.js\";\r\n\r\nasync function getUserUniverses(userID) {\r\n    return await LbAPI\r\n        .get(`/universes/user/${userID}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                err.path = error.response.data.path;\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function getUserUniverseList(userID) {\r\n    return await LbAPI\r\n        .get(`/universes/user/list/${userID}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                err.path = error.response.data.path;\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function createUniverse({name, description, userID}) {\r\n    return await LbAPI\r\n        .post(`/universes`, {name, description, userID})\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function removeUniverse(universeID) {\r\n    return await LbAPI\r\n        .delete(`/universes/${universeID}`)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function getUniverse(universeID) {\r\n    return await LbAPI\r\n        .get(`/universes/${universeID}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                err.path = error.response.data.path;\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function updateUniverse(universeID, fields) {\r\n    return await LbAPI\r\n        .patch(`/universes/${universeID}`, fields)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nexport {\r\n    getUniverse,\r\n    getUserUniverses,\r\n    getUserUniverseList,\r\n    createUniverse,\r\n    removeUniverse,\r\n    updateUniverse\r\n};","import { getUserUniverses } from \"../httpLayers/universe.http\";\r\n\r\nconst universeModule = {\r\n    namespaced: true,\r\n    state() {\r\n        return {\r\n            universeID: null,\r\n            universeName: null,\r\n            userUniverses: [],\r\n            universesFetchedFlag: false\r\n        };\r\n    },\r\n    getters: {\r\n        universeID(state) {\r\n            return state.universeID;\r\n        },\r\n        universeName(state) {\r\n            return state.universeName;\r\n        },\r\n        userUniverses(state) {\r\n            return state.userUniverses;\r\n        },\r\n        checkIfUserOwnsUniverse: (state) => (payload) => {\r\n            return state.userUniverses.find(uni => {\r\n                return uni.id == payload.universeID;\r\n            });\r\n        },\r\n        universesFetchedFlag(state) {\r\n            return state.universesFetchedFlag;\r\n        }\r\n    },\r\n    mutations: {\r\n        setUniverse(state, payload) {\r\n            state.universeID = payload.id;\r\n            state.universeName = payload.name;\r\n        },\r\n        setUniverseName(state, newName) {\r\n            state.universeName = newName;\r\n        },\r\n        clearUniverse(state) {\r\n            state.universeID = null;\r\n            state.universeName = null;\r\n            state.categories = [];\r\n        },\r\n        setUserUniverses(state, universes) {\r\n            state.userUniverses = universes;\r\n        },\r\n        setUniversesFetchedFlag(state, value) {\r\n            state.universesFetchedFlag = value;\r\n        },\r\n        pushUserUniverse(state, payload) {\r\n            state.userUniverses.push(payload);\r\n        },\r\n        removerUserUniverse(state, universeID) {\r\n            state.userUniverses = state.userUniverses.filter(uni => uni.id !== universeID);\r\n        },\r\n        clearUserUniverses(state) {\r\n            state.userUniverses = [];\r\n        }\r\n    },\r\n    actions: {\r\n        async fetchUserUniverses(context) {\r\n            try {\r\n                if (context.rootGetters.userID) {\r\n                    const universes = await getUserUniverses(context.rootGetters.userID);\r\n                    context.commit('setUserUniverses', universes);\r\n                    context.commit('setUniversesFetchedFlag', true);\r\n                }\r\n            } catch (error) {\r\n                context.commit('notifications/notify', {type: 'negative', message: `${error.message}`}, { root: true });\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport default universeModule;","const popupModule = {\r\n    namespaced: true,\r\n    state() {\r\n        return {\r\n            isCategoriesPopupOpen: false,\r\n            isUniverseElementPopupOpen: false,\r\n            isLinkPopupOpen: false,\r\n            isTagsPopupOpen: false\r\n        };\r\n    },\r\n    getters: {\r\n        isCategoriesPopupOpen(state) {\r\n            return state.isCategoriesPopupOpen;\r\n        },\r\n        isUniverseElementPopupOpen(state) {\r\n            return state.isUniverseElementPopupOpen;\r\n        },\r\n        isLinkPopupOpen(state) {\r\n            return state.isLinkPopupOpen;\r\n        },\r\n        isTagsPopupOpen(state) {\r\n            return state.isTagsPopupOpen;\r\n        }\r\n    },\r\n    mutations: {\r\n        openCategoriesPopup(state) {\r\n            state.isCategoriesPopupOpen = true;\r\n        },\r\n        closeCategoriesPopup(state) {\r\n            state.isCategoriesPopupOpen = false;\r\n        },\r\n        openUniverseElementPopup(state) {\r\n            state.isUniverseElementPopupOpen = true;\r\n        },\r\n        closeUniverseElementPopup(state) {\r\n            state.isUniverseElementPopupOpen = false;\r\n        },\r\n        openLinkPopup(state) {\r\n            state.isLinkPopupOpen = true;\r\n        },\r\n        closeLinkPopup(state) {\r\n            state.isLinkPopupOpen = false;\r\n        },\r\n        openTagsPopup(state) {\r\n            state.isTagsPopupOpen = true;\r\n        },\r\n        closeTagsPopup(state) {\r\n            state.isTagsPopupOpen = false;\r\n        }\r\n    },\r\n};\r\n\r\nexport default popupModule;","const contentElementType = {\r\n  text: 'TEXT',\r\n  list: 'LIST',\r\n  imageGroup: 'IMAGE_GROUP',\r\n  linkGroup: 'LINK_GROUP',\r\n};\r\n\r\nexport default contentElementType;","import contentElementType from '@/domain/contentElementTypes.js';\r\n\r\nconst elementModule = {\r\n  namespaced: true,\r\n  state() {\r\n    return {\r\n      contentElements: [],\r\n      contentID: null\r\n    };\r\n  },\r\n  getters: {\r\n    contentElements(state) {\r\n      return state.contentElements;\r\n    },\r\n    contentID(state) {\r\n      return state.contentID;\r\n    },\r\n    config(state) {\r\n      return state.contentElements.map(el => {\r\n        return {\r\n          id: el.id,\r\n          type: el.type\r\n        };\r\n      });\r\n    },\r\n    getElementById: (state) => (id, type) => {\r\n      return state.contentElements.find(el => (el.id == id && el.type == type));\r\n    },\r\n    getListItemById: (state) => (listID, itemID) => {\r\n      const list = state.contentElements.find(el => (el.id == listID && el.type == contentElementType.list));\r\n      if (!list) return null;\r\n      return list.items.find(it => (it.id == itemID));\r\n    },\r\n    getListItemByOrder: (state) => (listID, ordinalNumber) => {\r\n      const list = state.contentElements.find(el => (el.id == listID && el.type == contentElementType.list));\r\n      if (!list) return null;\r\n      return list.items.find(it => (it.ordinalNumber == ordinalNumber));\r\n    },\r\n    getLinkById: (state) => (linkGroupID, linkID) => {\r\n      const group = state.contentElements.find(el => (el.id == linkGroupID && el.type == contentElementType.linkGroup));\r\n      if (!group) return null;\r\n      return group.links.find(it => (it.id == linkID));\r\n    }\r\n  },\r\n  mutations: {\r\n    clearContent(state) {\r\n      state.contentElements = [];\r\n      state.contentID = null;\r\n    },\r\n    setContent(state, contentElements) {\r\n      state.contentElements = contentElements;\r\n    },\r\n    setContentID(state, id) {\r\n      state.contentID = id;\r\n    },\r\n    removeContentElement(state, payload) {\r\n      state.contentElements = state.contentElements.filter(el => { return !(el.id == payload.id && el.type == payload.type); });\r\n    }\r\n\r\n  },\r\n};\r\n\r\nexport default elementModule;","import { createStore } from 'vuex';\r\nimport notificationsModule from './notifications.store';\r\nimport universeModule from './universe.store';\r\nimport popupModule from './popup.store';\r\nimport elementModule from './element.store';\r\n\r\nconst store = createStore({\r\n  modules: {\r\n    notifications: notificationsModule,\r\n    universe: universeModule,\r\n    popups: popupModule,\r\n    element: elementModule\r\n  },\r\n  state: {\r\n    userID: null,\r\n    username: null,\r\n    email: null,\r\n    isAuth: false,\r\n    tokenRefreshedFlag: false,\r\n  },\r\n  getters: {\r\n    userID(state) {\r\n      return state.userID;\r\n    },\r\n    username(state) {\r\n      return state.username;\r\n    },\r\n    email(state) {\r\n      return state.email;\r\n    },\r\n    isAuth(state) {\r\n      return state.isAuth;\r\n    },\r\n    tokenRefreshedFlag(state) {\r\n      return state.tokenRefreshedFlag;\r\n    }\r\n  },\r\n  mutations: {\r\n    setTokenRefreshedFlag(state, value) {\r\n      state.tokenRefreshedFlag = value;\r\n    },\r\n    setUser(state, payload) {\r\n      state.userID = payload.id;\r\n      state.username = payload.name;\r\n      state.email = payload.email;\r\n      state.isAuth = true;\r\n    },\r\n    clearUser(state) {\r\n      state.userID = null;\r\n      state.username =  null;\r\n      state.email =  null;\r\n      state.isAuth = false;\r\n    }\r\n  },\r\n  actions: {\r\n  },\r\n});\r\n\r\nexport default store;\r\n","<template>\r\n    <div class=\"main-page\">\r\n        <div class=\"main-page__content\">\r\n            <div class=\"main-page__section\">\r\n                <h2 class=\"main-page__section-title\">\r\n                    What is Lorebook?\r\n                </h2>\r\n                <div class=\"util__horizontal-line--black\"></div>\r\n                <div class=\"main-page__section-content\">\r\n                    <p class=\"main-page__paragraph\">\r\n                        Lorebook is an application designed to help writers create their own universes for books, movies, games etc.\r\n                        Creating an entire world can be a very difficult task that requires the collection of a lot of different information. Each universe can consist of many different elements belonging to different categories. These elements are often strongly connected with each other (e.g. locations with events or characters). Keeping all this information in plain text files and documents would be very inefficient for larger projects. It would be hard to maintain relationships between items.\r\n                    </p>\r\n                    <p class=\"main-page__paragraph\">\r\n                        Lorebook is an application that will allow users to save all relevant items in a well-organized database. It allows you to create any elements, describe them, put them in appropriate categories and create connections between them. With Lorebook, you can also create your own stories in your universes.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div class=\"main-page__section\">\r\n                <h2 class=\"main-page__section-title\">\r\n                    What features does Lorebook offer?\r\n                </h2>\r\n                <div class=\"util__horizontal-line--black\"></div>\r\n                <div class=\"main-page__section-content\">\r\n                    <ul class=\"main-page__ulist\">\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Create your own universes\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Create characters\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Create locations in hierarchy (city in country, country on a continent... etc.)\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Create events with dates\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Create your own element categories (eg: creatures, religions, items, magic systems)\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Describe elements with texts, lists, links etc. on their pages\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Tagging elements in a universe\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Searching all elements created in universe\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Write your stories with use of rich text editor\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Use links to maintain relations between elements\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n             <div class=\"main-page__section\">\r\n                <h2 class=\"main-page__section-title\">\r\n                    What new features will come in the future?\r\n                </h2>\r\n                <div class=\"util__horizontal-line--black\"></div>\r\n                <div class=\"main-page__section-content\">\r\n                    <ul class=\"main-page__ulist\">\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Interactive maps with layers for locations\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Images in content of universe elements\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Character relations page (relations will be displayed as lists and graphs)\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Timelines for events\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Information about all links connected to a specific universe element\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Tree view for hierarchy of locations\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Support for other languages\r\n                        </li>\r\n                        <li class=\"main-page__ulist-item\">\r\n                            Upgrade for rich text editor\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <div class=\"main-page__section\">\r\n                <h2 class=\"main-page__section-title\">\r\n                    Instructions\r\n                </h2>\r\n                <div class=\"util__horizontal-line--black\"></div>\r\n                <div class=\"main-page__section-content main-page__section-content--instructions\">\r\n                    <lb-accordion title=\"How to create universe?\">\r\n                        <div class=\"answer\">\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Log In to your account\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Go to user page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Create New Universe\" button\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter title to input (description is optional)\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Create\" button\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    You should see newly created universe on list of Your Universes on User Page\r\n                                </li>\r\n                            </ol>\r\n                        </div>\r\n                    </lb-accordion>\r\n\r\n                    <lb-accordion title=\"How to edit titles and descriptions of universe, stories, chapters and universe elements?\">\r\n                        <div class=\"answer\">\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Move your cursor over the title or description\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    If you see this half-transparent, blurred background, it means, that this text is editable.\r\n                                    <img src=\"../assets/screenshots/edit-universe-title-1.jpg\">\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    <strong>Double Click on this text.</strong> You will enter in edit mode for this text. You can change the text.\r\n                                    <img src=\"../assets/screenshots/edit-universe-title-2.jpg\">\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    If you want to save the text, click on green button or use Ctrl+S shortcut.\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    If you want to cancel changes, click on red button.\r\n                                </li>\r\n                            </ol>\r\n                        </div>\r\n                    </lb-accordion>\r\n\r\n                    <lb-accordion title=\"How to create and manage new categories?\">\r\n                        <div class=\"answer\">\r\n                            <h4 class=\"answer__subtitle\">\r\n                                Creating new category\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the universe page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Manage Categories\" button on top navigation\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the name into input (Name should be unique to the universe)\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Add new category\" button. Now you should be able to use new category\r\n                                </li>\r\n                            </ol>\r\n                            <h4 class=\"answer__subtitle\">\r\n                                Changing category name\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the universe page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Manage Categories\" button on top navigation\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click edit button next to category name. You will enter in edit mode for this category.\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Change text in \"Name\" field, then click \"Rename\" button\r\n                                </li>\r\n                            </ol>\r\n                            <h4 class=\"answer__subtitle\">\r\n                                Deleting category\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the universe page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Manage Categories\" button on top navigation\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click red remove button next to category name, then confirm action.\r\n                                </li>\r\n                            </ol>\r\n                        </div>\r\n                    </lb-accordion>\r\n\r\n                    <lb-accordion title=\"How to create new elements?\">\r\n                        <div class=\"answer\">\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the universe page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Create Element\" button on top navigation\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter title for new element (description is optional)\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Select type (category) of new element\r\n                                    <ul class=\"answer__sublist\">\r\n                                        <li class=\"answer__sublist-item\">\r\n                                            If type is \"Locations\", you can choose parent location.\r\n                                        </li>\r\n                                        <li class=\"answer__sublist-item\">\r\n                                            If type is \"Events\", you should set date.\r\n                                        </li>\r\n                                    </ul>\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Create Element\" button\r\n                                </li>\r\n                            </ol>\r\n                        </div>\r\n                    </lb-accordion>\r\n\r\n                    <lb-accordion title=\"How to manage content items of Universe Elements?\">\r\n                        <div class=\"answer\">\r\n                            <h4 class=\"answer__subtitle\">\r\n                                How to create new content element\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the Universe Element Page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    <div class=\"answer__olist-item-content\">\r\n                                        <span>Click button for adding new content elements</span>\r\n                                        <img src=\"../assets/screenshots/manage-content-element-1.jpg\">\r\n                                    </div>\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click on type of content element you want to create\r\n                                </li>\r\n                            </ol>\r\n                            <h4 class=\"answer__subtitle\">\r\n                                How to move content element\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the Universe Element Page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    <div class=\"answer__olist-item-content\">\r\n                                        <span>Move cursor over the content element. You will see new buttons on the right</span>\r\n                                        <img src=\"../assets/screenshots/manage-content-element-2.jpg\">\r\n                                    </div>\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click on available chosen button\r\n                                </li>\r\n                            </ol>\r\n                            <h4 class=\"answer__subtitle\">\r\n                                How to delete content element\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Move cursor over the content element\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click on red delete button with trash icon\r\n                                </li>\r\n                            </ol>\r\n                        </div>\r\n                    </lb-accordion>\r\n\r\n                    <lb-accordion title=\"How to search universe elements?\">\r\n                        <div class=\"answer\">\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the universe page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Search\" button in top navigation\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Write text to search bar (optional)\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Choose one or more categories in select (optional)\r\n                                </li>\r\n                                 <li class=\"answer__olist-item\">\r\n                                    Add some tags (optional)\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    <div class=\"answer__olist-item-content\">\r\n                                        <span>Click search button with magnifier icon (next to search bar)</span>\r\n                                        <img src=\"../assets/screenshots/search-elements-1.jpg\">\r\n                                    </div>\r\n                                </li>\r\n                            </ol>\r\n                        </div>\r\n                    </lb-accordion>\r\n\r\n                    <lb-accordion title=\"How to create links to universe elements?\">\r\n                        <div class=\"answer\">\r\n                            <h4 class=\"answer__subtitle\">\r\n                                Create link in content of universe element\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the universe element page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Create \"Link Group\" in content, if you don't have one\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Add new link\" button in link group. It will open popup\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Follow next steps in \"How to use popup to create link?\"\r\n                                </li>\r\n                            </ol>\r\n                            <h4 class=\"answer__subtitle\">\r\n                                Create link in story chapter\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the chapter page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Add new link\" button on left side panel. It will open popup.\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Follow next steps in \"How to use popup to create link?\"\r\n                                </li>\r\n                            </ol>\r\n                            <h4 class=\"answer__subtitle\">\r\n                                How to use popup to create link?\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Select type (category) of the element to be linked\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    You will see search bar and list of elements belonging to selected category\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click on list item to select it.\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Write description (optional)\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Create link\" button\r\n                                </li>\r\n                            </ol>\r\n                        </div>\r\n                    </lb-accordion>\r\n\r\n                    <lb-accordion title=\"How to manage tags in universe?\">\r\n                        <div class=\"answer\">\r\n                            <h4 class=\"answer__subtitle\">\r\n                                Adding new tags\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Go to universe element page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    You can see tag section in left side panel. Enter text to bottom input, next to green plus button\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click green plus button to add tag\r\n                                </li>\r\n                            </ol>\r\n                            <h4 class=\"answer__subtitle\">\r\n                                Managing used tags in universe\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Go to universe page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Tags\" button in top navigation. It will open popup\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    You can see list of all tags used in Universe. You can search them with use of search bar.\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    If you want to delete existing tag, click red button with trash icon next to tag name\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    If you want to edit extisting tag, click blue edit button. You will enter edit mode.\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Change name in the input, then click \"Rename Tag\" button\r\n                                </li>\r\n                            </ol>\r\n                        </div>\r\n                    </lb-accordion>\r\n\r\n                    <lb-accordion title=\"How to create stories and chapters?\">\r\n                        <div class=\"answer\">\r\n                            <h4 class=\"answer__subtitle\">\r\n                                Create Story\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Go to universe main page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Stories\" button (next to \"Elements\" button)\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Create new Story\" button. It will open popup for you\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the title and descripton, then click \"Create\" button\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Popup will close. You will see your story in the list. Click on name to enter the story page\r\n                                </li>\r\n                            </ol>\r\n                            <h4 class=\"answer__subtitle\">\r\n                                Create Chapter\r\n                            </h4>\r\n                            <ol class=\"answer__olist\">\r\n                                <li class=\"answer__olist-item\">\r\n                                    Go to story page\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Click \"Create new Chapter\" button. It will open popup for you\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Enter the title and descripton, then click \"Create\" button\r\n                                </li>\r\n                                <li class=\"answer__olist-item\">\r\n                                    Popup will close. You will see your chapter in the list. Click on name to enter the story page.\r\n                                    You can change order of chapter with arrow buttons.\r\n                                </li>\r\n                            </ol>\r\n                        </div>\r\n                    </lb-accordion>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport LbAccordion from '../components/LbAccordion.vue';\r\n\r\nexport default {\r\n  name: \"MainPage\",\r\n  components: {\r\n    LbAccordion\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.main-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 1em 0em;\r\n\r\n  .main-page__content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 75%;\r\n    gap: 1em;\r\n    padding-bottom: 30vh;\r\n\r\n    .main-page__section {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n      font-size: 1.2rem;\r\n\r\n      .main-page__section-title {\r\n        margin: 0;\r\n        font-size: 1.6rem;\r\n      }\r\n\r\n      .main-page__section-content {\r\n        display: flex;\r\n        width: 100%;\r\n        flex-direction: column;\r\n        padding: 0.5em 0.2em 0.2em 0.2em;\r\n\r\n        &--instructions {\r\n            gap: 0.5em;\r\n        }\r\n\r\n        .main-page__paragraph {\r\n          margin: 0;\r\n          margin-block-end: 0.5em;\r\n        }\r\n\r\n        .main-page__ulist {\r\n            margin: 0;\r\n            padding: 0px 0px 0px 30px;\r\n        }\r\n      }\r\n\r\n      .answer {\r\n        display: flex;\r\n        flex-direction: column;\r\n\r\n        .answer__olist {\r\n            margin: 0;\r\n            padding: 0.3em 0px 0.3em 30px;\r\n\r\n            .answer__olist-item {\r\n                .answer__olist-item-content {\r\n                    display: flex;\r\n                    flex-direction: column;\r\n\r\n                    img {\r\n                        width: fit-content;\r\n                        border: 1px solid black;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .answer__subtitle {\r\n            margin: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"lb-accordion\">\r\n    <div class=\"lb-accordion__activator\">\r\n      <h3 class=\"lb-accordion__title lb-accordion__title--static\" v-if=\"!isTitleEditable\" @click=\"toggleContent\">{{ title }}</h3>\r\n      <lb-editable-text v-if=\"isTitleEditable\"\r\n                        :value=\"title\"\r\n                        :width=\"'100%'\"\r\n                        @onSave=\"changeTitle\"\r\n                        :maxLength=\"maxLength\"\r\n                        :customClass=\"'lb-accordion__title lb-accordion__title--editable'\">\r\n      </lb-editable-text>\r\n      <div class=\"lb-accordion__activator-right\">\r\n        <span class=\"lb-accordion__activator-subtext\" v-if=\"subtext\">\r\n          {{ subtext }}\r\n        </span>\r\n        <div class=\"lb-accordion__activator-button\" @click=\"toggleContent\">\r\n          <icon :icon=\"toggleButtonIcon\" :size=\"2\"></icon>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"lb-accordion__content\" v-if=\"isOpen\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbEditableText from './LbEditableText.vue';\r\n\r\nexport default {\r\n  name: 'LbAccordion',\r\n  components: {\r\n    LbEditableText\r\n  },\r\n  emits: ['changeTitle'],\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    isTitleEditable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    maxLength: {\r\n      type: Number\r\n    },\r\n    subtext: {\r\n      type: String,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isOpen: false\r\n    };\r\n  },\r\n  computed: {\r\n    toggleButtonIcon() {\r\n      return this.isOpen ? 'lb-down' : 'lb-right';\r\n    }\r\n  },\r\n  methods: {\r\n    toggleContent() {\r\n      this.isOpen = !this.isOpen;\r\n    },\r\n    changeTitle(newTitle) {\r\n      this.$emit('changeTitle', newTitle);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-accordion {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n\r\n  .lb-accordion__activator {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n    background-color: @secondary-color;\r\n    padding: 1.5em 1em;\r\n    border-radius: 8px;\r\n    gap: 1em;\r\n\r\n    .lb-accordion__title {\r\n      margin: 0;\r\n      color: @light-text-color;\r\n      font-size: 1.4rem;\r\n      font-weight: 500;\r\n      cursor: pointer;\r\n\r\n      &--static {\r\n        width: 100%;\r\n        &:hover {\r\n          color: @special-color;\r\n        }\r\n      }\r\n\r\n      &--editable {\r\n        font-weight: 500;\r\n\r\n        .lb-editable-text__input, .lb-editable-text__text {\r\n          font-size: inherit;\r\n        }\r\n      }\r\n    }\r\n\r\n    .lb-accordion__activator-right {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 1em;\r\n\r\n      .lb-accordion__activator-subtext {\r\n        font-size: 1.2rem;\r\n        color: @neutral-color;\r\n        text-align: center;\r\n      }\r\n\r\n      .lb-accordion__activator-button {\r\n        width: 2rem;\r\n        color: @light-text-color;\r\n        cursor: pointer;\r\n\r\n        &:hover {\r\n          color: @special-color;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .lb-accordion__content {\r\n    background-color: @element-color;\r\n    padding: 0.2em;\r\n    border-radius: 0px 0px 8px 8px;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"lb-editable-text\">\r\n    <div class=\"lb-editable-text__content\" :style=\"setWidth\" :class=\"customClass\">\r\n        <div class=\"lb-editable-text__cancel-button\" v-if=\"active\">\r\n            <icon icon=\"lb-cancel-circled\" :size=\"1.22\" @click=\"deactivate\"></icon>\r\n        </div>\r\n            <pre v-if=\"!active\" class=\"lb-editable-text__text\" :class=\"textClass\" v-on:dblclick=\"activate\">{{ value ? value : noContent }}</pre>\r\n            <input v-show=\"active && type == 'input'\"\r\n                   class=\"lb-editable-text__input\"\r\n                   type=\"text\"\r\n                   v-model=\"editedValue\"\r\n                   :maxlength=\"maxLength\"\r\n                   ref=\"input\"\r\n                   @keydown.ctrl.prevent.stop=\"saveWithShortcut\">\r\n            <textarea v-show=\"active && type == 'textarea'\"\r\n                      class=\"lb-editable-text__input\"\r\n                      v-model=\"editedValue\"\r\n                      :maxlength=\"maxLength\"\r\n                      ref=\"textarea\"\r\n                      :style=\"`min-height: ${minHeight}px;`\"\r\n                      @keydown.ctrl.prevent.stop=\"saveWithShortcut\"/>\r\n        <div class=\"lb-editable-text__save-button\" v-if=\"active\">\r\n            <icon icon=\"lb-ok-circle-fill\" :size=\"1.22\" @click=\"save\"></icon>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'LbEditableText',\r\n    props: {\r\n        value: {\r\n            type: String,\r\n            default: '',\r\n        },\r\n        type: {\r\n            type: String,\r\n            default: 'input',\r\n            validator(value) {\r\n                return [\"input\", \"textarea\"].includes(value);\r\n            }\r\n        },\r\n        width: {\r\n            type: String,\r\n        },\r\n        customClass: {\r\n            type: String,\r\n        },\r\n        maxLength: {\r\n            type: Number\r\n        },\r\n        minHeight: {\r\n            type: Number,\r\n            default: 150\r\n        },\r\n        noContent: {\r\n            type: String,\r\n            default: 'No text'\r\n        }\r\n    },\r\n    emits: ['onSave'],\r\n    data() {\r\n        return {\r\n            active: false,\r\n            editedValue: this.value\r\n        };\r\n    },\r\n    computed: {\r\n        textClass() {\r\n            if(!this.value) {\r\n                return 'lb-editable-text__text--no-content';\r\n            }\r\n            return '';\r\n        },\r\n        setWidth() {\r\n            return this.width ? `width: ${this.width};` : '';\r\n        }\r\n    },\r\n    methods: {\r\n        activate() {\r\n            this.active = true;\r\n            if (this.type === 'input') {\r\n                this.$nextTick(() => {\r\n                    this.$refs.input.focus();\r\n                });\r\n            } else if (this.type === 'textarea') {\r\n                this.$nextTick(() => {\r\n                    this.$refs.textarea.focus();\r\n                });\r\n            }\r\n        },\r\n        deactivate() {\r\n            this.active = false;\r\n            this.editedValue = this.value;\r\n        },\r\n        save() {\r\n            this.$emit('onSave', this.editedValue);\r\n            this.active = false;\r\n        },\r\n        saveWithShortcut(e) {\r\n            if (!(e.keyCode === 83 && e.ctrlKey)) {\r\n                return;\r\n            }\r\n            this.save();\r\n        }\r\n    },\r\n    watch: {\r\n        value() {\r\n            this.editedValue = this.value;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-editable-text {\r\n    display: flex;\r\n    flex: 1;\r\n\r\n    .lb-editable-text__content {\r\n        display: flex;\r\n        align-items: flex-start;\r\n        position: relative;\r\n        gap: 5px;\r\n\r\n        .lb-editable-text__text {\r\n            flex: 1;\r\n            font-size: 1.22rem;\r\n            margin: 0;\r\n            font-family: 'Roboto';\r\n            white-space: pre-wrap;\r\n            white-space: -moz-pre-wrap;\r\n            white-space: -o-pre-wrap;\r\n\r\n            &--no-content {\r\n                font-style: italic;\r\n            }\r\n\r\n            &:hover {\r\n                box-shadow: inset 0px 0px 10px 12px fade(@canvas-white-color, 15);\r\n                border-radius: 10px;\r\n            }\r\n        }\r\n\r\n        .lb-editable-text__input {\r\n            width: 100%;\r\n            flex: 1;\r\n            font-size: 1.22rem;\r\n            padding: 0;\r\n            border: none;\r\n            background-color: fade(@canvas-white-color, 30);\r\n            resize: vertical;\r\n            font-family: inherit;\r\n            font-weight: inherit;\r\n            color: inherit;\r\n\r\n            &:focus {\r\n                outline: none;\r\n                box-shadow: inset 0px 1px 8px rgba(0, 0, 0, 0.3);\r\n                background-color: fade(@canvas-white-color, 50);\r\n            }\r\n        }\r\n\r\n        .lb-editable-text__save-button {\r\n            color: @positive-color;\r\n\r\n            &:hover {\r\n                color: @positive-secondary-color;\r\n            }\r\n        }\r\n\r\n        .lb-editable-text__cancel-button {\r\n            color: @negative-color;\r\n\r\n            &:hover {\r\n                color: @negative-secondary-color;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</style>","import { render } from \"./LbEditableText.vue?vue&type=template&id=567439a8\"\nimport script from \"./LbEditableText.vue?vue&type=script&lang=js\"\nexport * from \"./LbEditableText.vue?vue&type=script&lang=js\"\n\nimport \"./LbEditableText.vue?vue&type=style&index=0&id=567439a8&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LbAccordion.vue?vue&type=template&id=d671cfe0\"\nimport script from \"./LbAccordion.vue?vue&type=script&lang=js\"\nexport * from \"./LbAccordion.vue?vue&type=script&lang=js\"\n\nimport \"./LbAccordion.vue?vue&type=style&index=0&id=d671cfe0&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MainPage.vue?vue&type=template&id=764b54f1\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js\"\n\nimport \"./MainPage.vue?vue&type=style&index=0&id=764b54f1&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"chapter-page\">\r\n    <div class=\"chapter-page__side-panel\">\r\n      <div class=\"chapter-page__side-panel-content\" :style=\"sidePanelVisibility\">\r\n        <h2 class=\"chapter-page__side-panel-header-text\">\r\n          Links in Chapter\r\n        </h2>\r\n        <div class=\"util__horizontal-line--white\"></div>\r\n        <lb-button icon=\"lb-link\" :size=\"1.1\" @click=\"openLinkPopup\">Add new link</lb-button>\r\n        <div class=\"chapter-page__side-panel-links\" v-if=\"links.length\">\r\n          <lb-chapter-link v-for=\"(link, index) in links\" :key=\"index\"\r\n                           v-bind=\"link\"\r\n                           :chapterID=\"parseInt(chapterID)\"\r\n                           @showLink=\"openChapterLinkPopup\">\r\n          </lb-chapter-link>\r\n        </div>\r\n        <div class=\"chapter-page__side-panel-no-links\" v-if=\"!links.length\">\r\n          No links\r\n        </div>\r\n        <div class=\"chapter-page__side-panel-bottom\">\r\n          <lb-button icon=\"lb-trash\" variant=\"negative\" :size=\"1.2\" @click=\"removeChapter\" :loading=\"chapterRemoveLoading\">Remove chapter</lb-button>\r\n        </div>\r\n      </div>\r\n      <lb-spinner v-if=\"linksLoading\"></lb-spinner>\r\n    </div>\r\n    <div class=\"chapter-page__main\">\r\n      <div class=\"chapter-page__main-header\">\r\n        <lb-editable-text :value=\"title\"\r\n                          :maxLength=\"80\"\r\n                          customClass=\"chapter-page__title\"\r\n                          class=\"chapter-page__title-container\"\r\n                          @onSave=\"changeChapterTitle\"/>\r\n        <label class=\"chapter-page__main-header-label\">Description</label>\r\n        <lb-editable-text :value=\"description\"\r\n                          :maxLength=\"500\"\r\n                          type=\"textarea\"\r\n                          class=\"chapter-page__description-container\"\r\n                          customClass=\"chapter-page__description\"\r\n                          @onSave=\"changeChapterDescription\"\r\n                          noContent=\"No description\"/>\r\n      </div>\r\n      <div class=\"chapter-page__main-content\">\r\n        <rich-editor\r\n          :content=\"chapterText\"\r\n          :saveLoading=\"saveLoading\"\r\n          @update=\"updateChapterText\"\r\n          @save=\"saveChapterText\">\r\n        </rich-editor>\r\n      </div>\r\n    </div>\r\n    <link-popup v-if=\"isLinkPopupOpen\"\r\n                :chapterID=\"parseInt(chapterID)\"\r\n                @onResult=\"addNewLink\">\r\n    </link-popup>\r\n    <chapter-link-popup v-if=\"isChapterLinkPopupOpen\"\r\n                        :isOpen=\"isChapterLinkPopupOpen\"\r\n                        v-bind=\"linkInPopup\"\r\n                        @changeDescription=\"changeLinkDescription\"\r\n                        @deleteLink=\"deleteLink\"\r\n                        @close=\"closeChapterLinkPopup\">\r\n    </chapter-link-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RichEditor from \"../components/RichEditor.vue\";\r\nimport { createPatch } from \"diff\";\r\nimport { getChapter, updateChapter, deleteChapter } from \"../httpLayers/chapter.http.js\";\r\nimport { getChapterLinks } from \"@/httpLayers/link.http.js\";\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport LbEditableText from '@/components/LbEditableText.vue';\r\nimport LinkPopup from '@/popups/LinkPopup.vue';\r\nimport LbChapterLink from '@/components/LbChapterLink.vue';\r\nimport ChapterLinkPopup from '@/popups/ChapterLinkPopup.vue';\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    RichEditor,\r\n    LbEditableText,\r\n    LinkPopup,\r\n    LbChapterLink,\r\n    ChapterLinkPopup\r\n  },\r\n  props: {\r\n    chapterID: {\r\n      type: String,\r\n    },\r\n    storyID: {\r\n      type: String,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      title: '',\r\n      description: '',\r\n      chapterText: {\r\n        type: \"doc\",\r\n        content: [\r\n          {\r\n            type: \"paragraph\",\r\n          },\r\n        ],\r\n      },\r\n      oldChapterText: {\r\n        type: \"doc\",\r\n        content: [\r\n          {\r\n            type: \"paragraph\",\r\n          },\r\n        ],\r\n      },\r\n      saveLoading: false,\r\n      linksLoading: false,\r\n      links: [],\r\n      linkInPopup: null,\r\n      isChapterLinkPopupOpen: false,\r\n      chapterRemoveLoading: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('popups', ['isLinkPopupOpen']),\r\n    ...mapGetters('universe', ['universeID']),\r\n    sidePanelVisibility() {\r\n      return this.linksLoading ? 'visibility: hidden;' : 'visibility: visible;';\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    ...mapMutations('popups', ['openLinkPopup']),\r\n    updateChapterText(newText) {\r\n      this.chapterText = newText;\r\n    },\r\n    async saveChapterText() {\r\n      this.saveLoading = true;\r\n      const patch = createPatch(\"newText\", JSON.stringify(this.oldChapterText), JSON.stringify(this.chapterText));\r\n      try {\r\n        await updateChapter(this.chapterID, {textPatch: patch});\r\n        this.oldChapterText = this.chapterText;\r\n      } catch(error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.saveLoading = false;\r\n      }\r\n    },\r\n    async fetchChapter() {\r\n      try {\r\n        const fetchedChapter = await getChapter(this.chapterID);\r\n        this.chapterText = fetchedChapter.text;\r\n        this.title = fetchedChapter.title;\r\n        this.description = fetchedChapter.description;\r\n        this.oldChapterText = this.chapterText;\r\n      } catch(error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async fetchChapterLinks() {\r\n      try {\r\n        this.linksLoading = true;\r\n        this.links = await getChapterLinks(this.chapterID);\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.linksLoading = false;\r\n      }\r\n    },\r\n    async changeChapterTitle(newValue) {\r\n      try {\r\n        await updateChapter(this.chapterID, {title: newValue});\r\n        this.title = newValue;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async changeChapterDescription(newValue) {\r\n      try {\r\n        await updateChapter(this.chapterID, {description: newValue});\r\n        this.description = newValue;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    addNewLink(newLink) {\r\n      this.links.push(newLink);\r\n    },\r\n    openChapterLinkPopup(linkID) {\r\n      this.linkInPopup = this.links.find(link => (link.id === linkID));\r\n      this.isChapterLinkPopupOpen = true;\r\n    },\r\n    closeChapterLinkPopup() {\r\n      this.isChapterLinkPopupOpen = false;\r\n      this.linkInPopup = null;\r\n    },\r\n    changeLinkDescription(change) {\r\n      try {\r\n        const { id, newValue } = change;\r\n        const link = this.links.find(link => (link.id === id));\r\n        link.description = newValue;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    deleteLink(id) {\r\n      try {\r\n        this.links = this.links.filter(link => (link.id !== id));\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async removeChapter() {\r\n      try {\r\n        this.chapterRemoveLoading = true;\r\n        await deleteChapter(this.chapterID);\r\n        this.$router.replace({\r\n          name: 'StoryChaptersPage',\r\n          params: {\r\n            universeID: this.universeID,\r\n            storyID: this.storyID\r\n          }\r\n        });\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.chapterRemoveLoading = false;\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchChapter();\r\n    await this.fetchChapterLinks();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../common.less\";\r\n\r\n.chapter-page {\r\n  display: flex;\r\n  width: 100%;\r\n  min-height: 95vh;\r\n\r\n  .chapter-page__side-panel {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: ~\"max(15%, 200px)\";\r\n    background-color: @primary-side-color;\r\n    padding: 0.5em 0.2em;\r\n\r\n    .chapter-page__side-panel-content {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      width: 100%;\r\n      gap: 0.5em;\r\n\r\n      .chapter-page__side-panel-header-text {\r\n        margin: 0;\r\n        color: @light-text-color;\r\n      }\r\n\r\n      .chapter-page__side-panel-links {\r\n        display: flex;\r\n        flex-direction: column;\r\n        width: 100%;\r\n        gap: 3px;\r\n        overflow-y: auto;\r\n        max-height: 80vh;\r\n      }\r\n\r\n      .chapter-page__side-panel-no-links {\r\n        display: flex;\r\n        width: 100%;\r\n        text-align: center;\r\n      }\r\n\r\n      .chapter-page__side-panel-bottom {\r\n        position: fixed;\r\n        bottom: 1em;\r\n      }\r\n    }\r\n  }\r\n\r\n  .chapter-page__main {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    flex: 1;\r\n    padding: 1em;\r\n    position: relative;\r\n\r\n    .chapter-page__main-header {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      width: 80%;\r\n      padding-bottom: 2em;\r\n\r\n      .chapter-page__title-container {\r\n        width: 100%;\r\n      }\r\n\r\n      .chapter-page__title {\r\n        font-weight: 600;\r\n        width: 100%;\r\n\r\n        .lb-editable-text__text, .lb-editable-text__input {\r\n          font-size: 2rem;\r\n          text-align: center;\r\n          width: 100%;\r\n        }\r\n      }\r\n\r\n      .chapter-page__description-container {\r\n        width: 100%;\r\n      }\r\n\r\n      .chapter-page__description {\r\n        width: 100%;\r\n      }\r\n\r\n      .chapter-page__main-header-label {\r\n        width: 100%;\r\n        text-align: start;\r\n        font-size: 0.9rem;\r\n        color: @secondary-color;\r\n      }\r\n    }\r\n\r\n    .chapter-page__main-content {\r\n      display: flex;\r\n      justify-content: center;\r\n      flex: 1;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"rich-editor\">\r\n    <div class=\"rich-editor__menu\">\r\n      <button class=\"rich-editor__menu-btn rich-editor__menu-btn--bold\" @click=\"bold\">B</button>\r\n      <button class=\"rich-editor__menu-btn rich-editor__menu-btn--italic\" @click=\"italic\">I</button>\r\n      <button class=\"rich-editor__menu-btn rich-editor__menu-btn--underline\" @click=\"underline\">U</button>\r\n      <lb-button class=\"rich-editor__save-btn\" variant=\"positive\" :size=\"1.1\" :loading=\"saveLoading\" @click=\"$emit('save')\">Save</lb-button>\r\n    </div>\r\n    <editor-content class=\"rich-editor__content\" :editor=\"editor\" @keydown.ctrl.prevent.stop=\"saveWithShortcut\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Editor, EditorContent } from \"@tiptap/vue-3\";\r\nimport Underline from \"@tiptap/extension-underline\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\n\r\nexport default {\r\n  name: \"RichEditor\",\r\n  components: {\r\n    EditorContent,\r\n  },\r\n  props: {\r\n    content: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          type: \"doc\",\r\n          content: [\r\n            {\r\n              type: \"paragraph\",\r\n            },\r\n          ],\r\n        };\r\n      },\r\n    },\r\n    saveLoading: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editor: null,\r\n    };\r\n  },\r\n  methods: {\r\n    bold() {\r\n      this.editor.chain().focus().toggleBold().run();\r\n    },\r\n    italic() {\r\n      this.editor.chain().focus().toggleItalic().run();\r\n    },\r\n    underline() {\r\n      this.editor.chain().focus().toggleUnderline().run();\r\n    },\r\n    saveWithShortcut(e) {\r\n      if (!(e.keyCode === 83 && e.ctrlKey)) {\r\n        return;\r\n      }\r\n      this.$emit('save');\r\n    }\r\n  },\r\n  watch: {\r\n    content(value) {\r\n      const isSame =\r\n        JSON.stringify(this.editor.getJSON()) === JSON.stringify(value);\r\n      if (isSame) {\r\n        return;\r\n      }\r\n      this.editor.commands.setContent(value, false);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.editor = new Editor({\r\n      content: this.content,\r\n      extensions: [StarterKit, Underline],\r\n      onUpdate: () => {\r\n        this.$emit(\"update\", this.editor.getJSON());\r\n      },\r\n    });\r\n  },\r\n  beforeUnmount() {\r\n    this.editor.destroy();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.rich-editor {\r\n  display: flex;\r\n  background-color: @secondary-color;\r\n  padding: 0.75em;\r\n  border-radius: 0.5em;\r\n  width: 80%;\r\n  flex-direction: column;\r\n  height: 90vh;\r\n\r\n  .rich-editor__menu {\r\n    display: flex;\r\n    padding: 0.3em;\r\n    gap: 0.5em;\r\n    background-color: @accent-darker-color;\r\n    align-items: center;\r\n\r\n    .rich-editor__save-btn {\r\n      margin-left: auto;\r\n    }\r\n\r\n    .rich-editor__menu-btn {\r\n      border: none;\r\n      border-radius: 5px;\r\n      color: @light-text-color;\r\n      background-color: transparent;\r\n      font-size: 1.2rem;\r\n      padding: 0.3em 0.5em;\r\n      font-weight: 500;\r\n\r\n      &:hover {\r\n        background-color: @accent-color;\r\n      }\r\n\r\n      &--italic {\r\n        font-style: italic;\r\n      }\r\n\r\n      &--underline {\r\n        text-decoration: underline;\r\n      }\r\n\r\n      &--bold {\r\n        font-weight: 700;\r\n      }\r\n    }\r\n  }\r\n\r\n  .rich-editor__content {\r\n    display: flex;\r\n    width: 100%;\r\n    min-height: 95%;\r\n\r\n    .ProseMirror {\r\n      width: 100%;\r\n      background-color: @canvas-white-color;\r\n      padding: 0.4em;\r\n      overflow-y: auto;\r\n\r\n      p {\r\n        margin-block-start: 0.3em;\r\n        margin-block-end: 0.3em;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./RichEditor.vue?vue&type=template&id=6953f704\"\nimport script from \"./RichEditor.vue?vue&type=script&lang=js\"\nexport * from \"./RichEditor.vue?vue&type=script&lang=js\"\n\nimport \"./RichEditor.vue?vue&type=style&index=0&id=6953f704&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import LbAPI from \"./LbAPI\";\r\n\r\nconst url = \"/chapters\";\r\n\r\nconst defaultChapterText = {\r\n  type: \"doc\",\r\n  content: [\r\n    {\r\n      type: \"paragraph\",\r\n    },\r\n  ],\r\n};\r\n\r\nfunction chaptersMapper(chapters) {\r\n  return chapters.map(ch => {\r\n    return {\r\n      id: ch.id,\r\n      title: ch.title,\r\n      description: ch.description,\r\n      ordinalNumber: ch.ordinal_number\r\n    };\r\n  });\r\n};\r\n\r\nasync function getChapter(id) {\r\n    return LbAPI.get(`${url}/${id}`)\r\n    .then((response) => {\r\n      let chapterToGet = {\r\n        id: response.data.id,\r\n        title: response.data.title,\r\n        description: response.data.description,\r\n        text: response.data.text,\r\n        ordinalNumber: response.data.ordinal_number,\r\n        storyID: response.data.Story_id\r\n      };\r\n      return chapterToGet;\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        throw new Error(`${err.message}`);\r\n      } else if (err.request) {\r\n        throw new Error(\"Service refused connection\");\r\n      } else {\r\n        throw new Error(\"Undefined error\");\r\n      }\r\n    });\r\n};\r\n\r\nasync function getStoryChapters(storyID) {\r\n  return await LbAPI\r\n  .get(`/chapters/story/${storyID}`)\r\n  .then((response) => {\r\n    return chaptersMapper(response.data);\r\n  })\r\n  .catch((error) => {\r\n    if (error.response && error.response.data.message) {\r\n      const err = new Error(`${error.response.data.message}`);\r\n      throw err;\r\n    } else if (error.request) {\r\n      throw new Error(\"Service refused connection\");\r\n    } else {\r\n      throw new Error(\"Undefined error\");\r\n    }\r\n  });\r\n};\r\n\r\nasync function createChapter(title, description, ordinalNumber, storyID) {\r\n    const chapterToPost =  {\r\n        title: title,\r\n        description: description,\r\n        text: defaultChapterText,\r\n        ordinalNumber: ordinalNumber,\r\n        storyID: storyID\r\n    };\r\n    return LbAPI\r\n    .post('/chapters', chapterToPost)\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        throw new Error(`${err.message}`);\r\n      } else if (err.request) {\r\n        throw new Error(\"Service refused connection\");\r\n      } else {\r\n        throw new Error(\"Undefined error\");\r\n      }\r\n    });\r\n}\r\n\r\n// If you want to patch text, add field named \"textPatch\"\r\nasync function updateChapter(id, fields) {\r\n  if (fields.text) {\r\n    throw new Error('Cannot update text directly. You should use \"textPatch\" field.');\r\n  }\r\n  return await LbAPI.patch(`/chapters/${id}`, fields)\r\n  .then((response) => {\r\n    return true;\r\n  }).catch((err) => {\r\n    if (err.response) {\r\n      throw new Error(`${err.response.data.message}`);\r\n    } else if (err.request) {\r\n      throw new Error(\"Service refused connection\");\r\n    } else {\r\n      throw new Error(\"Undefined error\");\r\n    }\r\n  });\r\n};\r\n\r\n// fields {storyID, oldOrdinalNumber, newOrdinalNumber}\r\nasync function updateChapterPosition(id, fields,) {\r\n  return await LbAPI\r\n      .patch(`/chapters/position/${id}`, fields)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              throw new Error(`${error.response.data.message}`);\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function deleteChapter(chapterID) {\r\n  return await LbAPI\r\n  .delete(`/chapters/${chapterID}`)\r\n  .then((response) => {\r\n    return true;\r\n  })\r\n  .catch((error) => {\r\n    if (error.response && error.response.data.message) {\r\n      const err = new Error(`${error.response.data.message}`);\r\n      throw err;\r\n    } else if (error.request) {\r\n      throw new Error(\"Service refused connection\");\r\n    } else {\r\n      throw new Error(\"Undefined error\");\r\n    }\r\n  });\r\n};\r\n\r\nexport {\r\n  updateChapter,\r\n  createChapter,\r\n  getChapter,\r\n  getStoryChapters,\r\n  updateChapterPosition,\r\n  deleteChapter\r\n};","import LbAPI from \"./LbAPI.js\";\r\n\r\nfunction linkTargetID(link) {\r\n  if (link.Character_id) return link.Character_id;\r\n  if (link.Location_id) return link.Location_id;\r\n  if (link.Event_id) return link.Event_id;\r\n  if (link.Entry_id) return link.Entry_id;\r\n};\r\n\r\nfunction linkMapper(link) {\r\n  return {\r\n    id: link.id,\r\n    description: link.description,\r\n    targetName: link.target.name,\r\n    targetID: linkTargetID(link),\r\n    categoryName: link.target.Category.name,\r\n    categoryID: link.target.Category.id\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param {{ title: String }} fields\r\n * @param { Number } contentID\r\n */\r\n async function createLinkGroup(fields, contentID) {\r\n    let fieldsToSend = fields;\r\n    fieldsToSend.contentID = contentID;\r\n    return await LbAPI\r\n        .post(`/link_groups/`, fieldsToSend)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                throw new Error(`${error.response.data.message}`);\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function updateLink(id, description, contentID) {\r\n  const url = contentID ? `/links/${id}/content/${contentID}` : `/links/${id}`;\r\n  return await LbAPI\r\n      .patch(url, description)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              const err = new Error(`${error.response.data.message}`);\r\n              throw err;\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function updateLinkGroup(id, title, contentID) {\r\n  return await LbAPI\r\n      .patch(`/link_groups/${id}/content/${contentID}`, title)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              const err = new Error(`${error.response.data.message}`);\r\n              throw err;\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function deleteLinkGroup(id, contentID) {\r\n    return await LbAPI\r\n        .delete(`/link_groups/${id}/content/${contentID}`)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                throw new Error(`${error.response.data.message}`);\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function deleteLink(id, contentID) {\r\n  const url = contentID ? `/links/${id}/content/${contentID}` : `/links/${id}`;\r\n  return await LbAPI\r\n      .delete(url)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              const err = new Error(`${error.response.data.message}`);\r\n              throw err;\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function createLink(targetID, categoryID, description, linkGroupID, chapterID) {\r\n  let targetType;\r\n  switch (categoryID) {\r\n    case 'Locations':\r\n      targetType = 'Location';\r\n    break;\r\n    case 'Characters':\r\n      targetType = 'Character';\r\n    break;\r\n    case 'Events':\r\n      targetType = 'Event';\r\n    break;\r\n    default:\r\n      targetType = 'Entry';\r\n    break;\r\n  };\r\n  const bodyToSend = {\r\n    targetID,\r\n    targetType,\r\n    description\r\n  };\r\n  if (linkGroupID && !chapterID) {\r\n    bodyToSend.linkGroupID = linkGroupID;\r\n  } else if (chapterID && !linkGroupID) {\r\n    bodyToSend.chapterID = chapterID;\r\n  } else {\r\n    throw new Error('You should give linkGroupID OR chapterID in arguments');\r\n  }\r\n  return await LbAPI\r\n    .post(`/links`, bodyToSend)\r\n    .then((response) => {\r\n        return response.data;\r\n    })\r\n    .catch((error) => {\r\n      if (error.response && error.response.data.message) {\r\n        const err = new Error(`${error.response.data.message}`);\r\n        throw err;\r\n      } else if (error.request) {\r\n            throw new Error(\"Service refused connection\");\r\n      } else {\r\n          throw new Error(\"Undefined error\");\r\n      }\r\n  });\r\n};\r\n\r\nasync function getChapterLinks(chapterID) {\r\n  return await LbAPI\r\n    .get(`/links/chapter/${chapterID}`)\r\n    .then((response) => {\r\n          return response.data.map(l => {\r\n            return linkMapper(l);\r\n          });\r\n        })\r\n    .catch((error) => {\r\n      if (error.response && error.response.data.message) {\r\n        const err = new Error(`${error.response.data.message}`);\r\n        throw err;\r\n      } else if (error.request) {\r\n        throw new Error(\"Service refused connection\");\r\n      } else {\r\n        throw new Error(\"Undefined error\");\r\n      }\r\n    });\r\n};\r\n\r\nexport {\r\n  createLinkGroup,\r\n  updateLinkGroup,\r\n  deleteLinkGroup,\r\n  deleteLink,\r\n  updateLink,\r\n  createLink,\r\n  getChapterLinks\r\n};","<template>\r\n  <lb-popup-box :isOpen=\"isLinkPopupOpen\" title=\"Create Link\" @close=\"close\">\r\n    <div class=\"link-popup\">\r\n      <div>\r\n        <h2 class=\"link-popup__field-title\">Type of target</h2>\r\n        <lb-select :items=\"categories\"\r\n                   width=\"100%\"\r\n                   placeholder=\"Select type of link target\"\r\n                   :loading=\"categoriesLoading\"\r\n                   @handleSelection=\"selectCategory\"/>\r\n      </div>\r\n      <div class=\"link-popup__search-field\" v-if=\"selectedCategory !== null\">\r\n        <h2 class=\"link-popup__field-title\">Target</h2>\r\n        <lb-search-bar :placeholder=\"`Search target`\" @search=\"search\" :text=\"searchText\"></lb-search-bar>\r\n        <lb-select-list :items=\"filteredElements\"\r\n                        :loading=\"areElementsLoading\"\r\n                        :selectedID=\"targetElementID\"\r\n                        @onSelect=\"selectTargetElement\"\r\n                        maxHeight=\"250px\">\r\n        </lb-select-list>\r\n        <lb-page-nav :currentPage=\"currentPage\"\r\n                     :totalPages=\"totalPages\"\r\n                     @go=\"changePage\"\r\n                     class=\"link-popup__page-nav\"\r\n                     v-if=\"totalPages != 1\"></lb-page-nav>\r\n      </div>\r\n      <lb-input name=\"Description\" type=\"textarea\" v-model:value=\"description\" :maxLength=\"250\"/>\r\n      <div class=\"link-popup__buttons\">\r\n        <lb-button variant=\"outline\" :size=\"1.4\" @click=\"close\">Cancel</lb-button>\r\n        <lb-button variant=\"positive\" :size=\"1.4\" @click=\"createNewLink\" :disabled=\"isCreateButtonDisabled\" :loading=\"createLoading\">Create Link</lb-button>\r\n      </div>\r\n    </div>\r\n  </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport LbInput from '@/components/LbInput.vue';\r\nimport LbSelect from '@/components/LbSelect.vue';\r\nimport LbSelectList from '@/components/LbSelectList.vue';\r\nimport LbSearchBar from '@/components/LbSearchBar.vue';\r\nimport LbPageNav from '@/components/LbPageNav.vue';\r\nimport { getUniverseCategories } from '@/httpLayers/category.http.js';\r\nimport { searchElements } from '@/httpLayers/universeElement.interface.js';\r\nimport { createLink } from '@/httpLayers/link.http.js';\r\n\r\n\r\nexport default {\r\n  name: 'LinkPopup',\r\n  emits: [\"onResult\"],\r\n  components: {\r\n    LbInput,\r\n    LbSelect,\r\n    LbSelectList,\r\n    LbSearchBar,\r\n    LbPageNav\r\n  },\r\n  props: {\r\n    chapterID: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    linkGroupID: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    elementID: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    elementCategoryID: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      createLoading: false,\r\n      description: '',\r\n      categories: [],\r\n      selectedCategory: null,\r\n      categoriesLoading: false,\r\n      elements: [],\r\n      targetElementID: null,\r\n      areElementsLoading: false,\r\n      searchText: '',\r\n      currentPage: 1,\r\n      totalPages: 1\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('popups', ['isLinkPopupOpen']),\r\n    ...mapGetters('universe', ['universeID']),\r\n    isCreateButtonDisabled() {\r\n      if(this.selectedCategory === null || this.targetElementID === null) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    filteredElements() {\r\n      if (this.selectedCategory == this.elementCategoryID) {\r\n        return this.elements.filter(el => (el.id != this.elementID));\r\n      }\r\n      return this.elements;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('popups', ['closeLinkPopup']),\r\n    ...mapMutations('notifications', ['notify']),\r\n    close() {\r\n      this.closeLinkPopup();\r\n    },\r\n    async fetchCategories() {\r\n      try {\r\n        this.categoriesLoading = true;\r\n        const basicCategories = [\r\n                {\r\n                    id: 'Characters',\r\n                    name: 'Characters'\r\n                },\r\n                {\r\n                    id: 'Locations',\r\n                    name: 'Locations'\r\n                },\r\n                {\r\n                    id: 'Events',\r\n                    name: 'Events'\r\n                }\r\n        ];\r\n        const customCategories = await getUniverseCategories(this.universeID);\r\n        this.categories.push(...basicCategories, ...customCategories);\r\n      } catch(error) {\r\n        this.notify({ type: 'negative', message: error.message });\r\n      } finally {\r\n        this.categoriesLoading = false;\r\n      }\r\n    },\r\n    async fetchElements(queryText, page) {\r\n      let newPage = page;\r\n      if (this.searchText !== queryText) {\r\n        this.currentPage = 1;\r\n        newPage = 1;\r\n      }\r\n      this.searchText = queryText;\r\n      const elementsPerPage = 25;\r\n      this.areElementsLoading = true;\r\n      try {\r\n        const offset = newPage !== 0 ? (newPage * elementsPerPage) - elementsPerPage : 0;\r\n        const result = await searchElements(this.universeID, queryText, elementsPerPage, offset, this.selectedCategory)\r\n        this.elementCount = result.elementCount;\r\n        this.elements = result.elements;\r\n        this.totalPages = result.totalPages;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.areElementsLoading = false;\r\n      }\r\n    },\r\n    async selectCategory(selection) {\r\n      this.selectedCategory = selection.length ? selection[0].id : null;\r\n      if (this.selectedCategory !== null) {\r\n        this.targetElementID = null;\r\n        this.searchText = '';\r\n        this.currentPage = 1;\r\n        await this.search(this.searchText);\r\n      }\r\n    },\r\n    async selectTargetElement(selection) {\r\n      this.targetElementID = this.targetElementID !== selection ? selection : null;\r\n    },\r\n    async search(queryText) {\r\n      const page = this.currentPage == 1 ? 0 : this.currentPage;\r\n      await this.fetchElements(queryText, page);\r\n    },\r\n    async changePage(newPageNumber) {\r\n      this.currentPage = newPageNumber;\r\n      await this.search(this.searchText);\r\n    },\r\n    async createNewLink() {\r\n      try {\r\n        if (this.chapterID && this.linkGroupID) {\r\n          throw new Error('Only one of this must be defined (chapterID or linkGroupID)');\r\n        }\r\n        this.createLoading = true;\r\n        const category = this.categories.find(cat => (cat.id == this.selectedCategory));\r\n        const targetElement = this.elements.find(el => (el.id == this.targetElementID));\r\n        const descriptionToSend = this.description;\r\n        const createdLink = await createLink(this.targetElementID, this.selectedCategory, descriptionToSend, this.linkGroupID, this.chapterID);\r\n        this.$emit('onResult', {\r\n          id: createdLink.id,\r\n          description: descriptionToSend,\r\n          targetID: targetElement.id,\r\n          targetName: targetElement.name,\r\n          categoryID: category.id,\r\n          categoryName: category.name\r\n        });\r\n        this.closeLinkPopup();\r\n      } catch (error) {\r\n        this.notify({ type: 'negative', message: error.message });\r\n      } finally {\r\n        this.createLoading = false;\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchCategories();\r\n  },\r\n  unmounted() {\r\n    this.closeLinkPopup();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.link-popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  width: 1000px;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n\r\n  .link-popup__search-field {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n\r\n    .link-popup__page-nav {\r\n      align-self: center;\r\n      width: 300px;\r\n    }\r\n  }\r\n\r\n  .link-popup__field-title {\r\n    margin: 0;\r\n    margin-right: 0.5em;\r\n    margin-bottom: 5px;\r\n    font-weight: 500;\r\n    font-size: 1.4rem;\r\n    color: @light-text-color;\r\n  }\r\n\r\n  .link-popup__buttons {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"lb-input\">\r\n    <div class=\"lb-input__header\">\r\n      <h2 class=\"lb-input__title\" :style=\"setSize.title\" v-if=\"name\">{{ name}}</h2>\r\n      <lb-small-error v-if=\"error.length && !isFocused\" :text=\"error\" :size=\"1.5\" />\r\n    </div>\r\n    <input v-if=\"type !== 'textarea'\"\r\n           v-model=\"value\"\r\n           :type=\"type\"\r\n           :class=\"fieldClass\"\r\n           :maxlength=\"maxLength\"\r\n           :style=\"setSize.input\"\r\n           @input=\"$emit('update:value', value)\"\r\n           @change=\"$emit('change:value', value)\"\r\n           @focus=\"isFocused = true\"\r\n           @blur=\"isFocused = false\" />\r\n    <textarea v-else\r\n           v-model=\"value\"\r\n           :class=\"fieldClass\"\r\n           :maxlength=\"maxLength\"\r\n           :style=\"setSize.textarea\"\r\n           @input=\"$emit('update:value', value)\"\r\n           @focus=\"isFocused = true\"\r\n           @blur=\"isFocused = false\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbSmallError from './LbSmallError.vue'\r\n\r\nexport default {\r\n  components: { LbSmallError },\r\n  name: 'LbInput',\r\n  emits: ['update:value', 'change:value'],\r\n  props: {\r\n    name: {\r\n      type: String\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'text'\r\n    },\r\n    value: {\r\n      type: [String, Number],\r\n      required: true,\r\n    },\r\n    error: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    maxLength: {\r\n      type: Number,\r\n    },\r\n    minHeight: {\r\n        type: Number,\r\n        default: 150\r\n    },\r\n    fontSize: {\r\n      type: Number,\r\n      default: 1.2\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isFocused: false,\r\n    };\r\n  },\r\n  computed: {\r\n    fieldClass() {\r\n      return this.error.length && !this.isFocused ? 'lb-input__field lb-input__field--invalid' : 'lb-input__field';\r\n    },\r\n    setSize() {\r\n      return {\r\n        title: `font-size: ${this.fontSize + 0.2}rem;`,\r\n        input: `font-size: ${this.fontSize}rem;`,\r\n        textarea: `font-size: ${this.fontSize}rem; min-height: ${this.minHeight}px;`\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-input {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n\r\n  .lb-input__header {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &:has(.lb-input__title) {\r\n      margin-bottom: 5px;\r\n    }\r\n\r\n    .lb-input__title {\r\n      margin: 0;\r\n      margin-right: 0.5em;\r\n      font-weight: 500;\r\n      color: @light-text-color;\r\n    }\r\n  }\r\n\r\n  .lb-input__field {\r\n    border: 2px solid transparent;\r\n    padding: 0.2em;\r\n    box-shadow: inset 0px 1px 8px rgba(0, 0, 0, 0.2);\r\n    resize: vertical;\r\n    width: 100%;\r\n\r\n    &:focus {\r\n      background-color: @neutral-secondary-color;\r\n      box-shadow: inset 0px 1px 8px rgba(0, 0, 0, 0.2);\r\n      border: 2px solid @neutral-color;\r\n    }\r\n\r\n    &.lb-input__field--invalid {\r\n      border-color: @negative-color;\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n<div class=\"lb-small-error\" v-if=\"haveText\">\r\n    <div class=\"lb-small-error__container\">\r\n        <div class=\"lb-small-error__icon\">\r\n            <icon icon=\"lb-warning-circle-fill\" :size=\"this.size\"/>\r\n        </div>\r\n        <div class=\"lb-small-error__wrap-text\" :style=\"`left: ${size}rem; min-width: ${size*10}rem;`\">\r\n            <div class=\"lb-small-error__content\" :style=\"`font-size: ${size*0.5}rem;`\">\r\n                {{ text }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"LbSmallError\",\r\n  props: {\r\n      size: {\r\n          type: Number,\r\n          default: 1\r\n      },\r\n      text:{\r\n          type: String,\r\n          default: '',\r\n      }\r\n  },\r\n  computed: {\r\n      haveText(){\r\n        return this.text != '';\r\n      }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-small-error{\r\n    .lb-small-error__container{\r\n        display: flex;\r\n        position: relative;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        .lb-small-error__icon{\r\n            color: @negative-color;\r\n            order: 1;\r\n        }\r\n        .lb-small-error__icon:hover ~ .lb-small-error__wrap-text .lb-small-error__content{\r\n                    display: flex;\r\n        }\r\n\r\n        .lb-small-error__wrap-text{\r\n            position:absolute;\r\n            order:3;\r\n\r\n            .lb-small-error__content{\r\n                border-radius: 1em;\r\n                padding: 0.35em;\r\n                color: @light-text-color;\r\n                background-color: @negative-color;\r\n                order: 2;\r\n                flex-basis: auto;\r\n                align-content: center;\r\n                width: fit-content;\r\n                display: none;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./LbSmallError.vue?vue&type=template&id=2e5c1744\"\nimport script from \"./LbSmallError.vue?vue&type=script&lang=js\"\nexport * from \"./LbSmallError.vue?vue&type=script&lang=js\"\n\nimport \"./LbSmallError.vue?vue&type=style&index=0&id=2e5c1744&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LbInput.vue?vue&type=template&id=443282eb\"\nimport script from \"./LbInput.vue?vue&type=script&lang=js\"\nexport * from \"./LbInput.vue?vue&type=script&lang=js\"\n\nimport \"./LbInput.vue?vue&type=style&index=0&id=443282eb&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"lb-select\" :style=\"setWidth\">\r\n    <div class=\"lb-select__control\" @click=\"toggleOpen\" :class=\"setClass\">\r\n      <div class=\"lb-select__text-field\">\r\n        {{ setSelectText }}\r\n      </div>\r\n      <div class=\"lb-select__button\">\r\n        <icon :icon=\"setIcon\"></icon>\r\n      </div>\r\n      <lb-spinner v-if=\"loading\" variant=\"dark\" size=\"25px\"></lb-spinner>\r\n    </div>\r\n    <div class=\"lb-select__dropdown\" v-show=\"isOpen\">\r\n        <div class=\"lb-select__dropdown-content\" v-if=\"itemsToSelect.length > 0\">\r\n            <div class=\"lb-select__item\" v-for=\"(item, index) in itemsToSelect\" :key=\"index\" @click=\"selectItem(index)\">\r\n                <span class=\"lb-select__item-text\">\r\n                    {{ item.name }}\r\n                </span>\r\n                <div class=\"lb-select__item-icon\" :style=\"item.selected ? 'visibility: visible;': 'visibility: hidden;'\">\r\n                    <icon icon=\"lb-ok\"></icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-else class=\"lb-select__no-content\">\r\n            No items\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"LbSelect\",\r\n  props: {\r\n    items: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    multiselect: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    placeholder: {\r\n        type: String,\r\n        default: \"\"\r\n    },\r\n    width: {\r\n        type: String,\r\n        default: \"150px\"\r\n    },\r\n    loading: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n  },\r\n  emits: [\"handleSelection\"],\r\n  data() {\r\n    return {\r\n        isOpen: false,\r\n        itemsToSelect: this.items,\r\n        selectedItems: []\r\n    };\r\n  },\r\n  computed: {\r\n    setClass() {\r\n        if (this.loading) return 'lb-select__control--loading';\r\n        return '';\r\n    },\r\n    setIcon() {\r\n        return this.isOpen ? 'lb-up' : 'lb-down';\r\n    },\r\n    setSelectText() {\r\n        if (this.selectedItems.length === 0) {\r\n            return this.placeholder;\r\n        } else {\r\n            if (this.selectedItems.length == 1) {\r\n                return this.selectedItems[0].name;\r\n            } else {\r\n                return `${this.selectedItems.length} selected options`;\r\n            }\r\n        }\r\n    },\r\n    setWidth() {\r\n        return `width: ${this.width};`;\r\n    }\r\n  },\r\n  methods: {\r\n    toggleOpen() {\r\n        if (!this.loading) {\r\n            this.isOpen = !this.isOpen;\r\n        }\r\n    },\r\n    selectItem(index) {\r\n        if(this.multiselect) {\r\n            this.itemsToSelect[index].selected = !this.itemsToSelect[index].selected;\r\n            this.selectedItems = this.itemsToSelect.filter(item => {\r\n                return item.selected;\r\n            });\r\n            this.$emit(\"handleSelection\", this.selectedItems);\r\n        } else {\r\n            this.itemsToSelect[index].selected = !this.itemsToSelect[index].selected;\r\n            for (let i=0; i<this.itemsToSelect.length; i++) {\r\n                if(i != index) {\r\n                    this.itemsToSelect[i].selected = false;\r\n                }\r\n            }\r\n            this.selectedItems = this.itemsToSelect[index].selected ? [this.itemsToSelect[index]] : [];\r\n            this.$emit(\"handleSelection\", this.selectedItems);\r\n            this.isOpen = false;\r\n        }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../common.less\";\r\n\r\n.lb-select {\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  font-family: 'Roboto';\r\n\r\n  .lb-select__control {\r\n    display: flex;\r\n\r\n    .lb-select__button {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        color: @light-text-color;\r\n        background-color: @accent-color;\r\n        padding: 0.3em;\r\n        border-radius: 0px 5px 5px 0px;\r\n    }\r\n\r\n    .lb-select__text-field {\r\n        display: block;\r\n        align-items: center;\r\n        color: @dark-text-color;\r\n        background-color: @light-text-color;\r\n        padding: 0.3em;\r\n        width: 100%;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        border-bottom: 1px solid @dark-text-color;\r\n    }\r\n\r\n    &:hover {\r\n        .lb-select__button {\r\n            background-color: @accent-brighter-color;\r\n        }\r\n    }\r\n\r\n    &--loading {\r\n        .lb-select__text-field {\r\n           color: @light-text-color;\r\n        }\r\n\r\n        &:hover {\r\n            .lb-select__button {\r\n                background-color: @accent-color;\r\n            }\r\n        }\r\n    }\r\n  }\r\n\r\n  .lb-select__dropdown {\r\n    display: flex;\r\n    flex-direction: column;\r\n    z-index: 9998;\r\n\r\n    .lb-select__dropdown-content, .lb-select__no-content {\r\n        position: absolute;\r\n        box-shadow: 2px 2px 2px #727272;\r\n        width: 100%;\r\n\r\n        .lb-select__item {\r\n            display: flex;\r\n            flex-direction: row;\r\n            background-color: @canvas-white-color;\r\n            border-bottom: 1px solid @dark-text-color;\r\n            max-height: min-content;\r\n            padding: 0.2em;\r\n            color: @dark-text-color;\r\n\r\n            .lb-select__item-icon {\r\n                padding-left: 0.4em;\r\n            }\r\n\r\n            &:hover {\r\n                box-shadow: inset 0px 1px 8px rgba(0, 0, 0, 0.2);\r\n            }\r\n        }\r\n\r\n        .lb-select__item:last-child {\r\n            border-bottom: none;\r\n        }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./LbSelect.vue?vue&type=template&id=f96fc27c\"\nimport script from \"./LbSelect.vue?vue&type=script&lang=js\"\nexport * from \"./LbSelect.vue?vue&type=script&lang=js\"\n\nimport \"./LbSelect.vue?vue&type=style&index=0&id=f96fc27c&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"lb-select-list\">\r\n    <div class=\"lb-select-list__header\">\r\n      <h2 class=\"lb-select-list__header-text\" :style=\"`font-size: ${size + 0.3}rem`\">{{ headText }}</h2>\r\n      <div class=\"util__horizontal-line--white\"></div>\r\n    </div>\r\n    <div class=\"lb-select-list__items\" v-if=\"items.length\" :style=\"itemsStyle\">\r\n      <div class=\"lb-select-list__item\" v-for=\"(item, index) in items\" :key=\"index\"\r\n                                        :class=\"itemChecked(item.id).listItem\"\r\n                                        @click=\"selectItem(item.id)\">\r\n        <div class=\"lb-select-list__item-content\" :style=\"`font-size: ${size}rem`\">\r\n          <span class=\"lb-select-list__item-name\">{{ item.name }}</span>\r\n          <icon icon=\"lb-ok\" class=\"lb-select-list__check-icon\" :size=\"size\"></icon>\r\n        </div>\r\n        <div :class=\"itemChecked(item.id).line\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"lb-select-list__no-items\" v-if=\"items.length == 0\">\r\n      {{ noItemsText }}\r\n    </div>\r\n    <lb-spinner v-if=\"loading\"></lb-spinner>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'LbSelectList',\r\n  emits: ['onSelect'],\r\n  props: {\r\n    headText: {\r\n      type: String,\r\n      default: 'Name'\r\n    },\r\n    selectedID: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    items: {\r\n      type: Array,\r\n      default: []\r\n    },\r\n    noItemsText: {\r\n      type: String,\r\n      default: 'No Elements'\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    size: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    maxHeight: {\r\n      type: String\r\n    }\r\n  },\r\n  computed: {\r\n    itemsStyle() {\r\n      const maxHeight = this.maxHeight ? `max-height: ${this.maxHeight};` : '';\r\n      const visibility = this.loading ? 'visibility: hidden;' : 'visibility: visible;';\r\n      return `${maxHeight} ${visibility}`;\r\n    }\r\n  },\r\n  methods: {\r\n    itemChecked(id) {\r\n      if (this.selectedID == id) return {\r\n        listItem: 'lb-select-list__item--checked',\r\n        line: 'util__horizontal-line--green'\r\n      };\r\n      return {\r\n        listItem: '',\r\n        line: 'util__horizontal-line--white'\r\n      };\r\n    },\r\n    selectItem(id) {\r\n      if (!this.loading) {\r\n        this.$emit('onSelect', id);\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../common.less\";\r\n\r\n.lb-select-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-color: @secondary-color;\r\n  border-radius: 10px;\r\n  color: @light-text-color;\r\n  width: 100%;\r\n  padding: 0.5em;\r\n  position: relative;\r\n\r\n  .lb-select-list__header {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n\r\n    .lb-select-list__header-text {\r\n      margin: 0;\r\n      // font-size: 1.3rem;\r\n      font-weight: 500;\r\n      margin-bottom: 5px;\r\n    }\r\n  }\r\n\r\n  .lb-select-list__items {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    width: 100%;\r\n    overflow-y: auto;\r\n\r\n    .lb-select-list__item {\r\n      display: flex;\r\n      flex-direction: column;\r\n\r\n      &:hover {\r\n        .lb-select-list__item-content {\r\n          .lb-select-list__check-icon {\r\n            visibility: visible;\r\n          }\r\n        }\r\n      }\r\n\r\n      .lb-select-list__item-content {\r\n        display: flex;\r\n        justify-content: space-between;\r\n\r\n        .lb-select-list__check-icon {\r\n          visibility: hidden;\r\n        }\r\n      }\r\n\r\n      &--checked {\r\n        color: @green-light-color;\r\n        .lb-select-list__item-content {\r\n          color: @green-light-color;\r\n\r\n          .lb-select-list__check-icon {\r\n            visibility: visible;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .lb-select-list__no-items {\r\n    font-style: italic;\r\n    font-weight: 400;\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LbSelectList.vue?vue&type=template&id=5a2331d8\"\nimport script from \"./LbSelectList.vue?vue&type=script&lang=js\"\nexport * from \"./LbSelectList.vue?vue&type=script&lang=js\"\n\nimport \"./LbSelectList.vue?vue&type=style&index=0&id=5a2331d8&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"lb-search-bar\" :style=\"`width: ${width};`\">\r\n        <input\r\n            class=\"lb-search-bar__input\"\r\n            type=\"text\"\r\n            v-model=\"value\"\r\n            :placeholder=\"placeholder\"\r\n            @keydown=\"handleEnterPress\">\r\n        <button class=\"lb-search-bar__button\" @click=\"$emit('search', value)\">\r\n            <icon icon=\"lb-search\"></icon>\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'LbSearchBar',\r\n    emits: ['search'],\r\n    props: {\r\n        placeholder: {\r\n            type: String,\r\n            default: \"Search...\"\r\n        },\r\n        width: {\r\n            type: String,\r\n            default: \"100%\"\r\n        },\r\n        text: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            value: this.text,\r\n        };\r\n    },\r\n    methods: {\r\n        handleEnterPress(event) {\r\n            if(event.key == 'Enter') {\r\n                event.preventDefault();\r\n                this.$emit('search', this.value);\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        text(newText) {\r\n            this.value = newText;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../common.less\";\r\n\r\n.lb-search-bar {\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n\r\n    .lb-search-bar__input {\r\n        background-color: @canvas-white-color;\r\n        border: none;\r\n        border-bottom: 1px solid transparent;\r\n        padding: 0.5em 0.5em 0.2em 0.5em;\r\n        width: 100%;\r\n        font-size: 1.2rem;\r\n\r\n        &::placeholder {\r\n            color: @neutral-color;\r\n        }\r\n\r\n        &:focus {\r\n            outline: none;\r\n            box-shadow: inset 3px 3px 2px #C4C4C4;\r\n            border-color: @dark-text-color;\r\n        }\r\n    }\r\n\r\n    .lb-search-bar__button {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background-color: @accent-color;\r\n        color: @light-text-color;\r\n        border: none;\r\n        padding: 0.4em;\r\n        font-size: 1.2rem;\r\n\r\n        &:hover {\r\n            background-color: @accent-brighter-color;\r\n        }\r\n\r\n        &:active {\r\n            background-color: @accent-darker-color;\r\n            color: @special-color;\r\n        }\r\n    }\r\n}\r\n\r\n</style>","import { render } from \"./LbSearchBar.vue?vue&type=template&id=63b623e6\"\nimport script from \"./LbSearchBar.vue?vue&type=script&lang=js\"\nexport * from \"./LbSearchBar.vue?vue&type=script&lang=js\"\n\nimport \"./LbSearchBar.vue?vue&type=style&index=0&id=63b623e6&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"lb-page-nav\">\r\n        <lb-button icon=\"lb-left\"\r\n                    :size=\"1.4\"\r\n                    :disabled=\"prevButtonState\"\r\n                    @click=\"this.$emit('go', this.currentPage-1)\">\r\n        </lb-button>\r\n        <div class=\"lb-page-nav__pages\">\r\n            <input class=\"lb-page-nav__input\" type=\"number\" :min=\"1\" :max=\"totalPages\" v-model=\"pageNumber\" @keydown=\"submitOnKey\">\r\n            <span>of</span>\r\n            <span class=\"lb-page-nav__total-pages\">{{ totalPages }}</span>\r\n        </div>\r\n        <lb-button icon=\"lb-right\"\r\n                    :size=\"1.4\"\r\n                    :disabled=\"nextButtonState\"\r\n                    @click=\"this.$emit('go', this.currentPage+1)\">\r\n        </lb-button>\r\n        <lb-button :size=\"1.1\" @click=\"submitPageNumber\" class=\"lb-page-nav__go-button\">\r\n            Go\r\n        </lb-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'LbPageNav',\r\n    props: {\r\n        currentPage: {\r\n            type: Number,\r\n            default: 1\r\n        },\r\n        totalPages: {\r\n            type: Number,\r\n            required: true\r\n        }\r\n    },\r\n    emits: ['go'],\r\n    data() {\r\n        return {\r\n            pageNumber: this.currentPage\r\n        };\r\n    },\r\n    computed: {\r\n        prevButtonState() {\r\n            if(this.currentPage-1 < 1) {\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        nextButtonState() {\r\n             if(this.currentPage+1 > this.totalPages) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    },\r\n    methods: {\r\n        submitPageNumber() {\r\n            if(this.pageNumber < 1) {\r\n                this.$emit('go', 1);\r\n                this.pageNumber = 1;\r\n            } else if(this.pageNumber > this.totalPages) {\r\n                this.$emit('go', this.totalPages);\r\n                this.pageNumber = this.totalPages;\r\n            } else {\r\n                this.$emit('go', this.pageNumber);\r\n            }\r\n        },\r\n        submitOnKey(event) {\r\n            if (event.keyCode === 13) {\r\n                event.preventDefault();\r\n                this.submitPageNumber();\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        currentPage(value) {\r\n            this.pageNumber = value;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-page-nav {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 0.5em 1em;\r\n    background-color: @secondary-color;\r\n    border-radius: 20px;\r\n    width: min-content;\r\n    height: min-content;\r\n\r\n    .lb-page-nav__pages {\r\n        display: flex;\r\n        color: @light-text-color;\r\n        padding: 0em 1em;\r\n\r\n        .lb-page-nav__input {\r\n            font-size: 1rem;\r\n            font-weight: 600;\r\n            text-align: center;\r\n            border: none;\r\n            border-radius: 15px;\r\n            box-shadow: inset 0px 1px 8px rgba(0, 0, 0, 0.2);\r\n            -moz-appearance: textfield;\r\n\r\n            &::-webkit-outer-spin-button,\r\n            &::-webkit-inner-spin-button {\r\n                -webkit-appearance: none;\r\n                margin: 0;\r\n            }\r\n\r\n            &:focus {\r\n                box-shadow: inset 0px 1px 8px rgba(0, 0, 0, 0.2);\r\n                outline: none;\r\n            }\r\n        }\r\n\r\n        .lb-page-nav__total-pages {\r\n            font-weight: 700;\r\n            margin: 0px 0px;\r\n        }\r\n\r\n        span {\r\n            font-family: 'Roboto';\r\n            margin: 0px 5px;\r\n        }\r\n    }\r\n\r\n    .lb-page-nav__go-button {\r\n        margin-left: 0.3em;\r\n    }\r\n}\r\n\r\n</style>","import { render } from \"./LbPageNav.vue?vue&type=template&id=e03864e2\"\nimport script from \"./LbPageNav.vue?vue&type=script&lang=js\"\nexport * from \"./LbPageNav.vue?vue&type=script&lang=js\"\n\nimport \"./LbPageNav.vue?vue&type=style&index=0&id=e03864e2&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import LbAPI from \"./LbAPI.js\";\r\n\r\nasync function getUniverseCategories(universeID) {\r\n    return await LbAPI\r\n        .get(`/categories/universe/${universeID}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function getUniverseCategoryList(universeID) {\r\n    return await LbAPI\r\n        .get(`/categories/universe/list/${universeID}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function createCategory({name, universeID}) {\r\n    return await LbAPI\r\n        .post(`/categories`, {name, universeID})\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function updateCategory(categoryID, name) {\r\n    return await LbAPI\r\n    .patch(`/categories/${categoryID}`, {name})\r\n    .then(() => {\r\n        return true;\r\n    })\r\n    .catch((error) => {\r\n        if (error.response && error.response.data.message) {\r\n            const err = new Error(`${error.response.data.message}`);\r\n            throw err;\r\n        } else if (error.request) {\r\n            throw new Error(\"Service refused connection\");\r\n        } else {\r\n            throw new Error(\"Undefined error\");\r\n        }\r\n    });\r\n};\r\n\r\nasync function removeCategory(categoryID) {\r\n    return await LbAPI\r\n        .delete(`/categories/${categoryID}`)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function getCategory(categoryID) {\r\n    return await LbAPI\r\n        .get(`/categories/${categoryID}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nexport {\r\n    getCategory,\r\n    getUniverseCategories,\r\n    getUniverseCategoryList,\r\n    createCategory,\r\n    updateCategory,\r\n    removeCategory\r\n};","class NotFoundException extends Error {\r\n  constructor(message) {\r\n    super(message);\r\n    this.name = \"NotFoundException\";\r\n  }\r\n};\r\n\r\nexport {\r\n  NotFoundException\r\n};","import LbAPI from \"./LbAPI.js\";\r\nimport { NotFoundException } from '@/domain/errors.js';\r\n\r\nasync function getCharacter(id) {\r\n    return await LbAPI\r\n        .get(`/characters/${id}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                if (error.response.status == 404) {\r\n                    throw new NotFoundException(`${error.response.data.message}`);\r\n                }\r\n                throw new Error(`${error.response.data.message}`);\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function updateCharacter(id, fields) {\r\n    return await LbAPI\r\n        .patch(`/characters/${id}`, fields)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function createCharacter(name, description, universeID) {\r\n    return await LbAPI\r\n        .post(`/characters`, {name, description, universeID})\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function searchCharacters(universeID, query, limit, offset) {\r\n    const encodedQuery = encodeURIComponent(query);\r\n    return await LbAPI\r\n        .get(`/characters/search/${universeID}?q=${encodedQuery}&limit=${limit}&offset=${offset}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function deleteCharacter(characterID) {\r\n    return await LbAPI\r\n        .delete(`/characters/${characterID}`)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nexport {\r\n    getCharacter,\r\n    updateCharacter,\r\n    createCharacter,\r\n    searchCharacters,\r\n    deleteCharacter\r\n};","import LbAPI from \"./LbAPI.js\";\r\nimport { NotFoundException } from '@/domain/errors.js';\r\n\r\nasync function getEntry(id) {\r\n    return await LbAPI\r\n        .get(`/entries/${id}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                if (error.response.status == 404) {\r\n                    throw new NotFoundException(`${error.response.data.message}`);\r\n                }\r\n                throw new Error(`${error.response.data.message}`);\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function updateEntry(id, fields) {\r\n    return await LbAPI\r\n        .patch(`/entries/${id}`, fields)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function createEntry(name, description, categoryID) {\r\n    return await LbAPI\r\n        .post(`/entries`, {name, description, categoryID})\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function searchEntries(categoryID, query, limit, offset) {\r\n    const encodedQuery = encodeURIComponent(query);\r\n    return await LbAPI\r\n        .get(`/entries/search/${categoryID}?q=${encodedQuery}&limit=${limit}&offset=${offset}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n}\r\n\r\nasync function deleteEntry(entryID) {\r\n    return await LbAPI\r\n        .delete(`/entries/${entryID}`)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nexport {\r\n    getEntry,\r\n    updateEntry,\r\n    createEntry,\r\n    searchEntries,\r\n    deleteEntry\r\n};","import LbAPI from \"./LbAPI.js\";\r\nimport { NotFoundException } from '@/domain/errors.js';\r\n\r\nfunction locationMapper(location) {\r\n    return {\r\n        id: location.id,\r\n        name: location.name,\r\n        description: location.description,\r\n        parentID: location.Location_id,\r\n        Universe_id: location.Universe_id,\r\n        parentName: location.parentName\r\n    };\r\n}\r\n\r\nasync function getLocation(id) {\r\n    return await LbAPI\r\n        .get(`/locations/${id}`)\r\n        .then((response) => {\r\n            return locationMapper(response.data);\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                if (error.response.status == 404) {\r\n                    throw new NotFoundException(`${error.response.data.message}`);\r\n                }\r\n                throw new Error(`${error.response.data.message}`);\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function updateLocation(id, fields) {\r\n    return await LbAPI\r\n        .patch(`/locations/${id}`, fields)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function createLocation(name, description, universeID, parentLocation) {\r\n    return await LbAPI\r\n        .post(`/locations`, {name, description, universeID, locationID: parentLocation})\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function getUniverseLocations(universeID) {\r\n    return await LbAPI\r\n        .get(`/locations/universe/${universeID}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function searchLocations(universeID, query, limit, offset) {\r\n    const encodedQuery = encodeURIComponent(query);\r\n    return await LbAPI\r\n        .get(`/locations/search/${universeID}?q=${encodedQuery}&limit=${limit}&offset=${offset}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n}\r\n\r\nasync function deleteLocation(locationID) {\r\n    return await LbAPI\r\n        .delete(`/locations/${locationID}`)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nexport {\r\n    getLocation,\r\n    updateLocation,\r\n    createLocation,\r\n    getUniverseLocations,\r\n    searchLocations,\r\n    deleteLocation\r\n};","import LbAPI from \"./LbAPI.js\";\r\nimport { NotFoundException } from '@/domain/errors.js';\r\n\r\nasync function getEvent(id) {\r\n    return await LbAPI\r\n        .get(`/events/${id}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                if (error.response.status == 404) {\r\n                    throw new NotFoundException(`${error.response.data.message}`);\r\n                }\r\n                throw new Error(`${error.response.data.message}`);\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function updateEvent(id, fields) {\r\n    return await LbAPI\r\n        .patch(`/events/${id}`, fields)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function createEvent(name, description, date, universeID) {\r\n    return await LbAPI\r\n        .post(`/events`, {name, description, date, universeID,})\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function searchEvents(universeID, query, limit, offset) {\r\n    const encodedQuery = encodeURIComponent(query);\r\n    return await LbAPI\r\n        .get(`/events/search/${universeID}?q=${encodedQuery}&limit=${limit}&offset=${offset}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n}\r\n\r\nasync function deleteEvent(eventID) {\r\n    return await LbAPI\r\n        .delete(`/events/${eventID}`)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nexport {\r\n    getEvent,\r\n    updateEvent,\r\n    createEvent,\r\n    searchEvents,\r\n    deleteEvent\r\n};","import { getCharacter, updateCharacter, searchCharacters, deleteCharacter } from './character.http.js';\r\nimport { getEntry, updateEntry, searchEntries, deleteEntry } from './entry.http.js';\r\nimport { getLocation, updateLocation, searchLocations, deleteLocation } from './location.http.js';\r\nimport { getEvent, updateEvent, searchEvents, deleteEvent } from './event.http.js';\r\n\r\nasync function getElement(id, categoryID) {\r\n  let element = null;\r\n  if (categoryID == 'Characters') {\r\n    element = await getCharacter(id);\r\n  } else if (categoryID == 'Locations') {\r\n    element = await getLocation(id);\r\n  } else if (categoryID == 'Events') {\r\n    element = await getEvent(id);\r\n  } else {\r\n    element = await getEntry(id);\r\n  }\r\n  return element;\r\n};\r\n\r\nasync function updateElement(id, fields, categoryID) {\r\n  if (categoryID == 'Characters') {\r\n    await updateCharacter(id, fields);\r\n  } else if (categoryID == 'Locations') {\r\n    await updateLocation(id, fields);\r\n  } else if (categoryID == 'Events') {\r\n    await updateEvent(id, fields);\r\n  } else {\r\n    await updateEntry(id, fields);\r\n  }\r\n};\r\n\r\nasync function searchElements(universeID, queryText, elementsPerPage, page, categoryID) {\r\n  let elements = null;\r\n  switch (categoryID) {\r\n    case 'Locations':\r\n      elements = await searchLocations(universeID, queryText, elementsPerPage, page);\r\n      break;\r\n    case 'Characters':\r\n      elements = await searchCharacters(universeID, queryText, elementsPerPage, page);\r\n      break;\r\n    case 'Events':\r\n      elements = await searchEvents(universeID, queryText, elementsPerPage, page);\r\n      break;\r\n    default:\r\n      elements = await searchEntries(categoryID, queryText, elementsPerPage, page);\r\n      break;\r\n  };\r\n  const searchResult = {\r\n    elements: elements.rows,\r\n    elementCount: elements.count,\r\n    totalPages: Math.ceil(elements.count / elementsPerPage)\r\n  };\r\n  return searchResult;\r\n};\r\n\r\nasync function deleteElement(id, categoryID) {\r\n  if (categoryID == 'Characters') {\r\n    await deleteCharacter(id);\r\n  } else if (categoryID == 'Locations') {\r\n    await deleteLocation(id);\r\n  } else if (categoryID == 'Events') {\r\n    await deleteEvent(id);\r\n  } else {\r\n    await deleteEntry(id);\r\n  }\r\n}\r\n\r\nexport {\r\n  getElement,\r\n  updateElement,\r\n  searchElements,\r\n  deleteElement\r\n};","import { render } from \"./LinkPopup.vue?vue&type=template&id=f36f719a\"\nimport script from \"./LinkPopup.vue?vue&type=script&lang=js\"\nexport * from \"./LinkPopup.vue?vue&type=script&lang=js\"\n\nimport \"./LinkPopup.vue?vue&type=style&index=0&id=f36f719a&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"lb-chapter-link\">\r\n    <div class=\"lb-chapter-link__content\">\r\n      <div class=\"lb-chapter-link__category\">\r\n        {{ categoryName }}\r\n      </div>\r\n      <div class=\"lb-chapter-link__name\" @click=\"navigateToElement\">\r\n        {{ targetName }}\r\n      </div>\r\n    </div>\r\n    <div class=\"lb-chapter-link__button\">\r\n      <icon :size=\"1.1\" icon=\"lb-info-circle\" class=\"lb-chapter-link__button-icon\" @click=\"showLink\"></icon>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'LbChapterLink',\r\n  emits: ['showLink'],\r\n  props: {\r\n    chapterID: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    description: {\r\n      type: String\r\n    },\r\n    targetID: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    targetName: {\r\n      type: String,\r\n      rquired: true\r\n    },\r\n    categoryID: {\r\n      type: [Number, String],\r\n      required: true\r\n    },\r\n    categoryName: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID'])\r\n  },\r\n  methods: {\r\n    navigateToElement() {\r\n      this.$router.push({\r\n        name: 'ElementPage',\r\n        params: {\r\n          universeID: this.universeID,\r\n          categoryID: this.categoryID,\r\n          elementID: this.targetID\r\n        }\r\n      });\r\n    },\r\n    showLink() {\r\n      this.$emit('showLink', this.id);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-chapter-link {\r\n  display: flex;\r\n  width: 100%;\r\n  background-color: @secondary-color;\r\n  color: @light-text-color;\r\n  padding: 0.2em;\r\n  border-bottom: 1px solid @light-text-color;\r\n\r\n  .lb-chapter-link__content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: 1;\r\n\r\n    .lb-chapter-link__category {\r\n      font-size: 0.8rem;\r\n      color: @neutral-color;\r\n    }\r\n\r\n    .lb-chapter-link__name {\r\n      font-weight: 400;\r\n      font-size: 1rem;\r\n      cursor: pointer;\r\n      width: fit-content;\r\n\r\n      &:hover {\r\n        color: @special-color;\r\n      }\r\n    }\r\n  }\r\n\r\n  .lb-chapter-link__button {\r\n\r\n    .lb-chapter-link__button-icon {\r\n      color: @light-text-color;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        color: @neutral-color;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LbChapterLink.vue?vue&type=template&id=d8f98722\"\nimport script from \"./LbChapterLink.vue?vue&type=script&lang=js\"\nexport * from \"./LbChapterLink.vue?vue&type=script&lang=js\"\n\nimport \"./LbChapterLink.vue?vue&type=style&index=0&id=d8f98722&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <lb-popup-box :isOpen=\"isOpen\" title=\"Link in Chapter\" @close=\"$emit('close')\">\r\n    <div class=\"chapter-link-popup\">\r\n      <div class=\"chapter-link-popup__header\">\r\n        <div class=\"chapter-link-popup__category-name\">\r\n          {{ categoryName }}\r\n        </div>\r\n        <div class=\"chapter-link-popup__target-name\">\r\n          {{ targetName }}\r\n        </div>\r\n        <div class=\"util__horizontal-line--black\"></div>\r\n      </div>\r\n      <div class=\"chapter-link-popup__content\">\r\n        <label class=\"chapter-link-popup__description-label\">\r\n          Description\r\n        </label>\r\n        <lb-editable-text :value=\"editableDescription\"\r\n                          :maxLength=\"250\"\r\n                          type=\"textarea\"\r\n                          class=\"chapter-link-popup__description-container\"\r\n                          customClass=\"chapter-link-popup__description\"\r\n                          @onSave=\"changeChapterDescription\"\r\n                          noContent=\"No description\"/>\r\n        <div class=\"chapter-link-popup__delete-btn\">\r\n          <lb-button icon=\"lb-unlink\" variant=\"negative\" @click=\"deleteChapterLink\" :size=\"1.2\">Remove link from chapter</lb-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport LbEditableText from '@/components/LbEditableText.vue';\r\nimport { mapMutations } from 'vuex';\r\nimport { deleteLink, updateLink } from '@/httpLayers/link.http.js';\r\n\r\nexport default {\r\n  name: 'ChapterLinkPopup',\r\n  components: {\r\n    LbEditableText\r\n  },\r\n  emits: ['changeDescription', 'deleteLink', 'close'],\r\n  props: {\r\n    isOpen: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    description: {\r\n      type: String\r\n    },\r\n    targetID: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    targetName: {\r\n      type: String,\r\n      rquired: true\r\n    },\r\n    categoryID: {\r\n      type: [Number, String],\r\n      required: true\r\n    },\r\n    categoryName: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editableDescription: this.description,\r\n      removeLinkLoading: true,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    async changeChapterDescription(newValue) {\r\n      try {\r\n        await updateLink(this.id, {description: newValue});\r\n        this.editableDescription = newValue;\r\n        this.$emit('changeDescription', {\r\n          id: this.id,\r\n          newValue: this.editableDescription\r\n        });\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: error.message});\r\n      }\r\n    },\r\n    async deleteChapterLink() {\r\n      try {\r\n        this.removeLinkLoading = true;\r\n        await deleteLink(this.id);\r\n        this.$emit('deleteLink', this.id);\r\n        this.$emit('close');\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: error.message});\r\n      } finally {\r\n        this.removeLinkLoading = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.chapter-link-popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 1em;\r\n  width: 50vw;\r\n\r\n  .chapter-link-popup__header {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n\r\n    .chapter-link-popup__category-name {\r\n      font-weight: 400;\r\n      color: @secondary-color;\r\n      font-size: 1rem;\r\n    }\r\n\r\n    .chapter-link-popup__target-name {\r\n      font-size: 1.6rem;\r\n      color: @dark-text-color;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n\r\n  .chapter-link-popup__content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0.5em 0.1em;\r\n\r\n    .chapter-link-popup__description-label {\r\n      font-size: 0.9rem;\r\n      font-weight: 300;\r\n      color: @secondary-color;\r\n    }\r\n\r\n    .chapter-link-popup__description-container {\r\n      width: 100%;\r\n\r\n      .chapter-link-popup__description {\r\n        width: 100%;\r\n        color: @dark-text-color;\r\n      }\r\n    }\r\n\r\n    .chapter-link-popup__delete-btn {\r\n      display: flex;\r\n      margin-top: 3em;\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./ChapterLinkPopup.vue?vue&type=template&id=0753fc84\"\nimport script from \"./ChapterLinkPopup.vue?vue&type=script&lang=js\"\nexport * from \"./ChapterLinkPopup.vue?vue&type=script&lang=js\"\n\nimport \"./ChapterLinkPopup.vue?vue&type=style&index=0&id=0753fc84&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ChapterPage.vue?vue&type=template&id=3f9ee5e3\"\nimport script from \"./ChapterPage.vue?vue&type=script&lang=js\"\nexport * from \"./ChapterPage.vue?vue&type=script&lang=js\"\n\nimport \"./ChapterPage.vue?vue&type=style&index=0&id=3f9ee5e3&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"register-page\">\r\n    <div class=\"register-page__form\">\r\n      <div :style=\"isFormVisible\">\r\n        <h1 class=\"register-page__header\">Create new account</h1>\r\n        <div class=\"util__horizontal-line--white\"></div>\r\n        <div class=\"register-page__inputs\">\r\n          <lb-input :name=\"'Username'\"\r\n                    :value=\"username.value\"\r\n                    @update:value=\"setUsername\"\r\n                    :maxLength=\"45\"\r\n                    :error=\"username.errorMsg\"/>\r\n          <lb-input :name=\"'Email address'\"\r\n                    type=\"email\" :value=\"email.value\"\r\n                    @update:value=\"setEmail\"\r\n                    :maxLength=\"45\"\r\n                    :error=\"email.errorMsg\"/>\r\n          <lb-input :name=\"'Password'\"\r\n                    type=\"password\"\r\n                    :value=\"password.value\"\r\n                    @update:value=\"setPassword\"\r\n                    :maxLength=\"60\"\r\n                    :error=\"password.errorMsg\"/>\r\n          <lb-input :name=\"'Confirm Password'\"\r\n                    type=\"password\"\r\n                    :value=\"passwordConfirm.value\"\r\n                    @update:value=\"setPasswordConfirm\"\r\n                    :maxLength=\"60\"\r\n                    :error=\"passwordConfirm.errorMsg\"/>\r\n        </div>\r\n        <div class=\"register-page__bottom\">\r\n          <router-link to=\"/login\" class=\"register-page__link\">Already have an account? Log In</router-link>\r\n          <lb-button @click=\"register\" :size=\"1.2\" :disabled=\"isButtonDisabled\">Register</lb-button>\r\n        </div>\r\n      </div>\r\n      <lb-spinner v-if=\"loading\" size=\"70px\" thickness=\"10px\"></lb-spinner>\r\n      <lb-popup-box :isOpen=\"isPopupOpen\" :title=\"resultTitle\" :message=\"resultMessage\" @close=\"closePopup\"></lb-popup-box>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from \"vuex\";\r\nimport LbInput from \"../components/LbInput.vue\";\r\nimport LbPopupBox from '../components/LbPopupBox.vue';\r\nimport { registerUser } from '../httpLayers/account.http';\r\n\r\nexport default {\r\n  name: \"RegisterPage\",\r\n  components: {\r\n    LbInput,\r\n    LbPopupBox\r\n  },\r\n  data() {\r\n    return {\r\n      username: {\r\n        value: '',\r\n        errorMsg: ''\r\n      },\r\n      email: {\r\n        value: '',\r\n        errorMsg: ''\r\n      },\r\n      password: {\r\n        value: '',\r\n        errorMsg: ''\r\n      },\r\n      passwordConfirm: {\r\n        value: '',\r\n        errorMsg: ''\r\n      },\r\n      loading: false,\r\n      isPopupOpen: false,\r\n      resultTitle: '',\r\n      resultMessage: '',\r\n      resultType: ''\r\n    };\r\n  },\r\n  computed: {\r\n    isButtonDisabled() {\r\n        if( this.username.value.length === 0\r\n            || this.email.value.length === 0\r\n            || this.password.value.length === 0\r\n            || this.passwordConfirm.value.length === 0 ) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    isFormVisible() {\r\n      if(this.loading) {\r\n        return 'visibility: hidden;';\r\n      }\r\n      return 'visibility: visible;';\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    setUsername(newValue) {\r\n        this.username.errorMsg = '';\r\n        this.username.value = newValue;\r\n    },\r\n    setEmail(newValue) {\r\n      this.email.value = newValue;\r\n      if(!this.email.value.includes('@') && this.email.value.length > 0) {\r\n        this.email.errorMsg = 'Email should contain \"@\"';\r\n      } else {\r\n        this.email.errorMsg = '';\r\n      }\r\n    },\r\n    setPassword(newValue) {\r\n      this.password.value = newValue;\r\n      this.password.errorMsg = '';\r\n      if(this.passwordConfirm.value.length > 0 && this.passwordConfirm.value != this.password.value) {\r\n        this.passwordConfirm.errorMsg = 'Passwords do not match'\r\n      } else {\r\n        this.passwordConfirm.errorMsg = '';\r\n      }\r\n    },\r\n    setPasswordConfirm(newValue) {\r\n      this.passwordConfirm.value = newValue;\r\n      if(this.passwordConfirm.value != this.password.value) {\r\n        this.passwordConfirm.errorMsg = 'Passwords do not match'\r\n      } else {\r\n        this.passwordConfirm.errorMsg = '';\r\n      }\r\n    },\r\n    formValidation() {\r\n     if(this.username.errorMsg == '' && this.password.errorMsg == '' && this.passwordConfirm.errorMsg == '' && this.email.errorMsg == '') {\r\n        if(this.username.value.length > 0 && this.password.value.length > 0 && this.passwordConfirm.value.length > 0 && this.email.value.length > 0) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    closePopup() {\r\n      this.isPopupOpen = false;\r\n      this.resultMessage = '';\r\n      this.resultTitle = '';\r\n      this.resultType = '';\r\n    },\r\n    async register() {\r\n      if (this.formValidation()) {\r\n        let registeredUser = null;\r\n        this.loading = true;\r\n        try {\r\n          registeredUser = await registerUser(this.username.value, this.password.value, this.email.value);\r\n        } catch(err) {\r\n            switch(err.path) {\r\n              case 'password':\r\n                this.password.errorMsg = err.message;\r\n              break;\r\n              case 'email':\r\n                this.email.errorMsg = err.message;\r\n              break;\r\n              case 'username':\r\n                this.username.errorMsg = err.message;\r\n              break;\r\n              default:\r\n                this.resultTitle = 'Error';\r\n                this.resultMessage = err.message;\r\n                this.resultType = 'negative';\r\n                this.isPopupOpen = true;\r\n              break;\r\n            }\r\n        }\r\n        if(registeredUser) {\r\n          this.notify({type: 'positive', message: 'User Created'});\r\n        }\r\n        this.loading = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../common.less\";\r\n\r\n.register-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 1em;\r\n\r\n  .register-page__form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    padding: 1.7em;\r\n    border-radius: 15px;\r\n    width: ~\"max(50%, 700px)\";\r\n    background-color: @secondary-color;\r\n\r\n    .register-page__header {\r\n      text-align: center;\r\n      margin: 0;\r\n      color: @light-text-color;\r\n      font-size: 2rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .register-page__inputs {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 1em;\r\n      padding: 1.5em 1em;\r\n    }\r\n\r\n    .register-page__bottom {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0.5em 1em;\r\n\r\n      .register-page__link {\r\n        color: @light-text-color;\r\n\r\n        &:hover {\r\n            color: @special-color;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n    <lb-popper :isOpen=\"isOpen\">\r\n        <div v-if=\"isOpen\" :class=\"setVariantClass\">\r\n            <div class=\"lb-popup-box__header\">\r\n                <div class=\"lb-popup-box__title\">\r\n                    {{ title }}\r\n                </div>\r\n                <div class=\"lb-popup-box__close-window-block\">\r\n                    <icon :id=\"`lb-popup-box__close-button`\" @click=\"$emit('close')\" icon=\"lb-cancel-circled\" :size=1.5 />\r\n                </div>\r\n            </div>\r\n            <div class=\"lb-popup-box__content\">\r\n                <slot>\r\n                    <span class=\"lb-popup-box__message\">\r\n                        {{message}}\r\n                    </span>\r\n                </slot>\r\n            </div>\r\n        </div>\r\n    </lb-popper>\r\n</template>\r\n\r\n<script>\r\nimport LbPopper from './LbPopper.vue'\r\n\r\nexport default {\r\n  components: { LbPopper },\r\n    name: \"LbPopupBox\",\r\n    emits: ['close'],\r\n    props: {\r\n        isOpen: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        title: {\r\n            type: String,\r\n            default: \"Title\",\r\n        },\r\n        message: {\r\n            type: String,\r\n            default: \"Message text\"\r\n        },\r\n        variant: {\r\n            type: String,\r\n            default: \"default\",\r\n            validator(value) {\r\n                return [\"negative\", \"positive\", \"default\"].includes(value);\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n    setVariantClass() {\r\n      return `lb-popup-box lb-popup-box--${this.variant}`;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-popup-box {\r\n    display: flex;\r\n    background-color: @tertiary-color;\r\n    min-width: 400px;\r\n    flex-direction: column;\r\n    font-size: 1.5rem;\r\n    border-radius: 5px;\r\n    color: @light-text-color;\r\n    overflow-wrap: anywhere;\r\n\r\n    .lb-popup-box__header {\r\n        display: flex;\r\n        padding: 0.2em;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        background-color: @primary-color;\r\n        border-radius: 5px 5px 0 0;\r\n\r\n        .lb-popup-box__title{\r\n            order: 1;\r\n            text-align: left;\r\n            padding: 0.2em;\r\n            font-family: 'Roboto';\r\n            width: 100%;\r\n        }\r\n\r\n        .lb-popup-box__close-window-block {\r\n            order: 2;\r\n            padding: 0.2em;\r\n            cursor: pointer;\r\n\r\n            &:hover {\r\n                color: @neutral-color;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    .lb-popup-box__content{\r\n        padding: 1em;\r\n        overflow-wrap: anywhere;\r\n        font-size: 1.125rem;\r\n\r\n        .lb-popup-box__message {\r\n            font-family: 'Roboto';\r\n        }\r\n    }\r\n\r\n    &--negative {\r\n        background-color: @negative-tertiary-color;\r\n\r\n        .lb-popup-box__header {\r\n            background-color: @negative-color;\r\n        }\r\n\r\n        .lb-popup-box__content {\r\n            color: @dark-text-color;\r\n        }\r\n    }\r\n\r\n    &--positive {\r\n        background-color: @positive-tertiary-color;\r\n\r\n        .lb-popup-box__header {\r\n            background-color: @positive-color;\r\n        }\r\n\r\n        .lb-popup-box__content {\r\n            color: @dark-text-color;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","<template>\r\n    <focus-trap :active=\"isOpen\">\r\n        <div class=\"lb-popper\" v-if=\"this.isOpen\" :tabindex=\"-1\">\r\n            <div class=\"lb-popper__content\">\r\n                <slot></slot>\r\n            </div>\r\n        </div>\r\n    </focus-trap>\r\n</template>\r\n\r\n<script>\r\nimport {FocusTrap} from 'focus-trap-vue';\r\n\r\nexport default{\r\n    name: \"LbPopper\",\r\n    components: {\r\n        FocusTrap\r\n    },\r\n    props: {\r\n        isOpen:{\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\r\n.lb-popper{\r\n    position: fixed;\r\n    z-index: 9998;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n\r\n    .lb-popper__content{\r\n        top:50%;\r\n        left:50%;\r\n        position:fixed;\r\n        -webkit-transform: translate(-50%, -50%);\r\n        transform: translate(-50%, -50%);\r\n        align-content: center;\r\n        z-index: 9999;\r\n    }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./LbPopper.vue?vue&type=template&id=6ba9d1aa\"\nimport script from \"./LbPopper.vue?vue&type=script&lang=js\"\nexport * from \"./LbPopper.vue?vue&type=script&lang=js\"\n\nimport \"./LbPopper.vue?vue&type=style&index=0&id=6ba9d1aa&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LbPopupBox.vue?vue&type=template&id=60731b38\"\nimport script from \"./LbPopupBox.vue?vue&type=script&lang=js\"\nexport * from \"./LbPopupBox.vue?vue&type=script&lang=js\"\n\nimport \"./LbPopupBox.vue?vue&type=style&index=0&id=60731b38&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import LbAPI from \"./LbAPI.js\";\r\n\r\nasync function registerUser(username, password, email) {\r\n    return await LbAPI\r\n        .post(\"/users\", { username: username, password: password, email: email })\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                err.path = error.response.data.path;\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nexport { registerUser };","import { render } from \"./RegisterPage.vue?vue&type=template&id=1afa8862\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterPage.vue?vue&type=style&index=0&id=1afa8862&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"login-page\">\r\n    <div class=\"login-page__form\">\r\n      <div :style=\"isFormVisible\">\r\n        <h1 class=\"login-page__header\">Log In</h1>\r\n        <div class=\"util__horizontal-line--white\"></div>\r\n        <div class=\"login-page__inputs\">\r\n          <lb-input :name=\"'Username'\"\r\n                    :value=\"username.value\"\r\n                    @update:value=\"setUsername\"\r\n                    :maxLength=\"45\"\r\n                    :error=\"username.errorMsg\"/>\r\n          <lb-input :name=\"'Password'\"\r\n                    type=\"password\"\r\n                    :value=\"password.value\"\r\n                    @update:value=\"setPassword\"\r\n                    :maxLength=\"60\"\r\n                    :error=\"password.errorMsg\"/>\r\n        </div>\r\n        <div class=\"login-page__bottom\">\r\n          <router-link to=\"/register\" class=\"login-page__link\">Don't have an account? Sign Up</router-link>\r\n          <lb-button @click=\"logIn\" :size=\"1.2\" :disabled=\"isButtonDisabled\">Log In</lb-button>\r\n        </div>\r\n      </div>\r\n      <lb-spinner v-if=\"loading\" size=\"70px\" thickness=\"10px\"></lb-spinner>\r\n      <lb-popup-box v-if=\"isErrorOpen\" :isOpen=\"isErrorOpen\" title=\"Error\" :message=\"resultMessage\" :variant=\"resultType\" @close=\"closeError\"></lb-popup-box>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbInput from \"../components/LbInput.vue\";\r\nimport { loginUser } from \"@/httpLayers/login.http.js\";\r\nimport LbPopupBox from '../components/LbPopupBox.vue';\r\nimport { mapMutations, mapActions } from 'vuex';\r\nimport LbSearchSelect from '../components/LbSearchSelect.vue';\r\n\r\nexport default {\r\n  name: \"LoginPage\",\r\n  components: {\r\n    LbInput,\r\n    LbPopupBox,\r\n    LbSearchSelect,\r\n  },\r\n  data() {\r\n    return {\r\n      username: {\r\n        value: '',\r\n        errorMsg: ''\r\n      },\r\n      password: {\r\n        value: '',\r\n        errorMsg: ''\r\n      },\r\n      loading: false,\r\n      isErrorOpen: false,\r\n      resultMessage: '',\r\n      resultType: 'negative',\r\n    };\r\n  },\r\n  computed: {\r\n    isButtonDisabled() {\r\n        if( this.username.value.length === 0 || this.password.value.length === 0 ) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    isFormVisible() {\r\n      if(this.loading) {\r\n        return 'visibility: hidden;';\r\n      }\r\n      return 'visibility: visible;';\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setUser']),\r\n    ...mapActions('universe', ['fetchUserUniverses']),\r\n    setUsername(newValue) {\r\n      this.username.value = newValue;\r\n      this.username.errorMsg = '';\r\n    },\r\n    setPassword(newValue) {\r\n      this.password.value = newValue;\r\n      this.password.errorMsg = '';\r\n    },\r\n    formValidation() {\r\n     if(this.password.errorMsg == '' && this.username.errorMsg == '') {\r\n        if(this.password.value.length > 0 && this.username.value.length > 0) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    closeError() {\r\n      this.isErrorOpen = false;\r\n      this.resultMessage = '';\r\n    },\r\n    async logIn() {\r\n      this.loading = true;\r\n      let start = Date.now();\r\n      let result = null;\r\n      if(this.formValidation()) {\r\n        try {\r\n          result = await loginUser(this.username.value, this.password.value);\r\n        } catch(err) {\r\n          this.loading = false;\r\n          this.isErrorOpen = true;\r\n          this.resultMessage = err.message;\r\n        }\r\n        if(result) {\r\n          let timeRemaining = Date.now() - start;\r\n          if(timeRemaining < 500) {\r\n            setTimeout( async () => {\r\n              this.loading = false;\r\n              this.setUser(result);\r\n              await this.fetchUserUniverses(result.id);\r\n              this.$router.push('/user');\r\n            }, 500 - timeRemaining);\r\n          } else {\r\n            this.loading = false;\r\n            this.setUser(result);\r\n            await this.fetchUserUniverses(result.id);\r\n            this.$router.push('/user');\r\n          }\r\n        }\r\n      }\r\n      this.loading = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../common.less\";\r\n\r\n.login-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 1em;\r\n\r\n  .login-page__form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    padding: 1.7em;\r\n    border-radius: 15px;\r\n    width: ~\"max(50%, 700px)\";\r\n    background-color: @secondary-color;\r\n\r\n    .login-page__header {\r\n      text-align: center;\r\n      margin: 0;\r\n      color: @light-text-color;\r\n      font-size: 2rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .login-page__inputs {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 1em;\r\n      padding: 1.5em 1em;\r\n    }\r\n\r\n    .login-page__bottom {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0.5em 1em;\r\n\r\n      .login-page__link {\r\n        color: @light-text-color;\r\n\r\n        &:hover {\r\n            color: @special-color;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"lb-search-select\" >\r\n    <div class=\"lb-search-select__control\">\r\n      <div :style=\"isControlVisible\" class=\"lb-search-select__control-content\">\r\n        <div class=\"lb-search-select__selection\" v-if=\"selectedItem !== null\">\r\n          <span>{{ selectedItem.name }}</span>\r\n          <icon icon=\"lb-cancel\" @click=\"removeSelection\" class=\"lb-search-select__remove-button\" :size=\"1.2\"></icon>\r\n        </div>\r\n        <input type=\"text\"\r\n              v-model=\"value\"\r\n              :placeholder=\"placeholder\"\r\n              v-if=\"selectedItem === null\"\r\n              class=\"lb-search-select__input\"\r\n              :disabled=\"loading\"/>\r\n      </div>\r\n      <lb-spinner v-if=\"loading\" size=\"1.3rem\"></lb-spinner>\r\n    </div>\r\n    <div class=\"lb-search-select__dropdown\" v-show=\"isDropdownOpen\">\r\n        <div class=\"lb-search-select__dropdown-content\" v-if=\"filteredItems.length > 0\">\r\n            <div class=\"lb-search-select__item\" v-for=\"(item, index) in filteredItems\" :key=\"index\" @click=\"selectItem(index)\">\r\n                <span class=\"lb-search-select__item-text\">\r\n                    {{ item.name }}\r\n                </span>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"filteredItems.length == 0\" class=\"lb-search-select__no-content\">\r\n          No items\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'LbSearchSelect',\r\n    props: {\r\n      items: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n      placeholder: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      loading: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    emits: [\"onSelection\"],\r\n    data() {\r\n      return {\r\n        selectedItem: null,\r\n        value: '',\r\n      };\r\n    },\r\n    computed: {\r\n      filteredItems() {\r\n        if (this.value.length > 0) {\r\n          return this.items.filter(it => {\r\n            return it.name.toLowerCase().includes(this.value.toLowerCase());\r\n          });\r\n        }\r\n        return this.items;\r\n      },\r\n      isDropdownOpen() {\r\n        return this.selectedItem === null && !this.loading;\r\n      },\r\n      isControlVisible() {\r\n        if(this.loading) {\r\n          return 'visibility: hidden;';\r\n        }\r\n        return 'visibility: visible;';\r\n      }\r\n    },\r\n    methods: {\r\n      selectItem(index) {\r\n        this.selectedItem = this.filteredItems[index];\r\n        this.$emit('onSelection', this.selectedItem.id);\r\n        this.value = '';\r\n      },\r\n      removeSelection() {\r\n        this.selectedItem = null;\r\n        this.$emit('onSelection', null);\r\n        this.value = '';\r\n      }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-search-select {\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  font-family: 'Roboto';\r\n\r\n  .lb-search-select__control {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    background-color: fade(@canvas-white-color, 50%);\r\n    border: 1px solid @dark-text-color;\r\n    border-radius: 10px;\r\n    padding: 0em 0.4em;\r\n\r\n    .lb-search-select__control-content {\r\n      display: flex;\r\n      align-items: center;\r\n      width: 100%;\r\n    }\r\n\r\n    &:focus-within {\r\n      background-color: fade(@canvas-white-color, 70%);\r\n      border-bottom-left-radius: 0px;\r\n      border-bottom-right-radius: 0px;\r\n    }\r\n\r\n    .lb-search-select__input {\r\n      width: 100%;\r\n      background-color: transparent;\r\n      font-size: 1.3rem;\r\n      border: none;\r\n      padding: 0px;\r\n      font-family: 'Roboto';\r\n\r\n      &:focus {\r\n        outline: none;\r\n      }\r\n    }\r\n\r\n    .lb-search-select__selection {\r\n      display: flex;\r\n      width: 100%;\r\n      align-items: center;\r\n      gap: 0.4em;\r\n      font-size: 1.3rem;\r\n      font-family: 'Roboto';\r\n\r\n      .lb-search-select__remove-button:hover {\r\n        color: @accent-darker-color;\r\n      }\r\n    }\r\n  }\r\n\r\n  :not(.lb-search-select__control:focus-within) + .lb-search-select__dropdown {\r\n    display: none;\r\n    &:focus, &:active  {\r\n      display: flex;\r\n    }\r\n  }\r\n\r\n  .lb-search-select__dropdown {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .lb-search-select__dropdown-content, .lb-search-select__no-content {\r\n      display: block;\r\n      z-index: 9997;\r\n      position: absolute;\r\n      width: 100%;\r\n      overflow-y: scroll;\r\n      max-height: 50vh;\r\n      background-color: @canvas-white-color;\r\n      color: @dark-text-color;\r\n\r\n\r\n      .lb-search-select__item {\r\n            display: flex;\r\n            flex-direction: row;\r\n            background-color: @canvas-white-color;\r\n            color: @dark-text-color;\r\n            border-bottom: 1px solid @dark-text-color;\r\n            max-height: min-content;\r\n            padding: 0.2em;\r\n\r\n            .lb-search-select__item-text {\r\n              font-size: 1.2rem;\r\n            }\r\n        }\r\n\r\n        .lb-search-select__item:last-child {\r\n            border-bottom: none;\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LbSearchSelect.vue?vue&type=template&id=71a85677\"\nimport script from \"./LbSearchSelect.vue?vue&type=script&lang=js\"\nexport * from \"./LbSearchSelect.vue?vue&type=script&lang=js\"\n\nimport \"./LbSearchSelect.vue?vue&type=style&index=0&id=71a85677&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LoginPage.vue?vue&type=template&id=2b0f60ca\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=2b0f60ca&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"user-page\">\r\n    <section class=\"user-page__account-section\">\r\n        <div class=\"account-section__header\">\r\n            <h2 class=\"account-section__header-text\">Your Account</h2>\r\n            <div class=\"util__horizontal-line--white\"></div>\r\n        </div>\r\n        <div class=\"account-section__account-data\">\r\n            <div class=\"account-section__data-row\">\r\n                <span class=\"account-section__data-name\">Email address: </span>\r\n                <span class=\"account-section__data-value\">{{ email }}</span>\r\n            </div>\r\n            <div class=\"account-section__data-row\">\r\n                <span class=\"account-section__data-name\">Username: </span>\r\n                <span class=\"account-section__data-value\">{{ username }}</span>\r\n                <lb-button icon=\"lb-edit\" :size=\"1.2\"></lb-button>\r\n            </div>\r\n            <div class=\"account-section__data-row\">\r\n                <lb-button icon=\"lb-edit\" :size=\"1.3\">Change password</lb-button>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section class=\"user-page__universe-section\">\r\n      <div class=\"universe-section__header\">\r\n        <div class=\"universe-section__header-part\"></div>\r\n        <div class=\"universe-section__header-title-part\">\r\n          <h2>Your Universes</h2>\r\n        </div>\r\n        <div class=\"universe-section__header-part\">\r\n          <lb-button\r\n            class=\"universe-section__create-button\"\r\n            @click=\"openUniverseCreator\"\r\n            icon=\"lb-plus\"\r\n            :size=\"1.2\">Create New Universe</lb-button>\r\n        </div>\r\n      </div>\r\n      <table class=\"universe-section__universes-table\">\r\n        <tr class=\"universes-table__row universes-table__row--header\">\r\n          <th class=\"universes-table__cell\">Universe</th>\r\n          <th class=\"universes-table__cell\">Elements</th>\r\n          <th class=\"universes-table__cell\"></th>\r\n        </tr>\r\n        <tr class=\"universes-table__row\" v-for=\"uni in universes\" :key=\"uni.id\">\r\n          <td class=\"universes-table__cell\">\r\n            <router-link class=\"universes-table__link\" :to=\"`/universe/${uni.id}`\">\r\n                {{ uni.name }}\r\n            </router-link>\r\n          </td>\r\n          <td class=\"universes-table__cell\">\r\n            <span>{{ uni.elementCount }}</span>\r\n          </td>\r\n          <td class=\"universes-table__cell universes-table__cell--button\">\r\n            <lb-button variant=\"negative\" icon=\"lb-trash\" @click=\"deleteUniverse(uni.id, uni.name)\"></lb-button>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </section>\r\n    <create-universe-popup v-if=\"isCreateUniverseOpen\" :isOpen=\"isCreateUniverseOpen\" @close=\"closeUniverseCreator\" @onResult=\"onCreateUniverse\"></create-universe-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nimport { getUserUniverseList, removeUniverse } from '../httpLayers/universe.http.js';\r\nimport CreateUniversePopup from '../popups/CreateUniversePopup.vue';\r\n\r\nexport default {\r\n  name: \"UserPage\",\r\n  components: {\r\n    CreateUniversePopup\r\n  },\r\n  data() {\r\n    return {\r\n      isCreateUniverseOpen: false,\r\n      universes: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"username\", \"email\", \"userID\"]),\r\n    ...mapGetters('universe', ['userUniverses'])\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    ...mapMutations('universe', ['setUniverse', 'setUserUniverses', 'pushUserUniverse', 'removerUserUniverse']),\r\n    openUniverseCreator() {\r\n      this.isCreateUniverseOpen = true;\r\n    },\r\n    closeUniverseCreator() {\r\n      this.isCreateUniverseOpen = false;\r\n    },\r\n    async fetchUserUniverseList() {\r\n      try {\r\n        this.universes = await getUserUniverseList(this.userID);\r\n      } catch (error) {\r\n        console.error(error.message);\r\n      }\r\n    },\r\n    async deleteUniverse(universeID, universeName) {\r\n      try {\r\n        if(confirm(`Are you sure that you want delete ${universeName} universe?`)) {\r\n          const result = await removeUniverse(universeID);\r\n          if (result) {\r\n            this.universes = this.universes.filter((uni)=> uni.id !== universeID);\r\n            this.removerUserUniverse(universeID);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        this.notify({type: 'negative', message: `Error: ${err.message}`});\r\n      }\r\n    },\r\n    onCreateUniverse(result) {\r\n      if(result) {\r\n        this.notify({type: 'positive', message: 'Universe Created'});\r\n        let createdUniverse = result;\r\n        this.pushUserUniverse({id: createdUniverse.id, name: createdUniverse.name});\r\n        createdUniverse.elementCount = 0;\r\n        this.universes.push(createdUniverse);\r\n        this.isCreateUniverseOpen = false;\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchUserUniverseList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../common.less\";\r\n\r\n.user-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 1em;\r\n\r\n  .user-page__account-section {\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 60%;\r\n    background-color: @secondary-color;\r\n    border-radius: 10px;\r\n    padding: 1em;\r\n    margin-bottom: 50px;\r\n\r\n    .account-section__header {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n\r\n        .account-section__header-text {\r\n            color: @light-text-color;\r\n            font-size: 2rem;\r\n            margin: 0;\r\n            padding-bottom: 0.3em;\r\n        }\r\n    }\r\n\r\n    .account-section__account-data {\r\n        font-size: 1.4rem;\r\n        .account-section__data-row {\r\n            display: flex;\r\n            align-items: center;\r\n            color: @light-text-color;\r\n            padding: 0.3em;\r\n\r\n           .account-section__data-name {\r\n                margin-right: 10px;\r\n                font-weight: 600;\r\n           }\r\n\r\n           .account-section__data-value {\r\n                margin-right: 10px;\r\n           }\r\n        }\r\n    }\r\n  }\r\n\r\n  .user-page__universe-section {\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 60%;\r\n\r\n    .universe-section__header {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .universe-section__header-title-part {\r\n        display: flex;\r\n        justify-content: center;\r\n        flex: 1;\r\n      }\r\n\r\n      .universe-section__header-part {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        flex: 1;\r\n      }\r\n    }\r\n\r\n    .universe-section__universes-table {\r\n      border-spacing: 0;\r\n\r\n      .universes-table__row {\r\n        background-color: @element-color;\r\n        padding: 0.5em;\r\n\r\n        &--header {\r\n          background-color: @secondary-color;\r\n          font-size: 1.2rem;\r\n\r\n          .universes-table__cell {\r\n            text-align: start;\r\n            color: @light-text-color;\r\n            font-weight: 700;\r\n          }\r\n        }\r\n\r\n        .universes-table__cell {\r\n          border-bottom: 1px solid @dark-text-color;\r\n          padding: 0.5em;\r\n          font-weight: 600;\r\n\r\n          .universes-table__link {\r\n            text-decoration: none;\r\n            color: @dark-text-color;\r\n\r\n            &:hover {\r\n              text-decoration: underline;\r\n              color: @accent-color;\r\n            }\r\n          }\r\n\r\n          &--button {\r\n            display: flex;\r\n            justify-content: flex-end;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n    <lb-popup-box :isOpen=\"isOpen\" title=\"Create New Universe\" @close=\"close\">\r\n        <div class=\"create-universe-popup\" :style=\"setVisibilityOnLoading\">\r\n            <div class=\"create-universe-popup__form\">\r\n                <lb-input name=\"Title of universe\"\r\n                          :maxLength=\"45\"\r\n                          :value=\"title.value\"\r\n                          @update:value=\"setTitle\"\r\n                          :error=\"title.errorMsg\"></lb-input>\r\n                <lb-input name=\"Description\" type=\"textarea\" v-model:value=\"description\"></lb-input>\r\n            </div>\r\n            <div class=\"create-universe-popup__buttons\">\r\n                <lb-button variant=\"outline\" :size=\"1.4\" @click=\"close\">Cancel</lb-button>\r\n                <lb-button variant=\"positive\" :size=\"1.4\" @click=\"create\" :disabled=\"!isFormValid\">Create</lb-button>\r\n            </div>\r\n        </div>\r\n        <lb-spinner size=\"50px\" v-if=\"loading\"></lb-spinner>\r\n    </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport LbInput from '../components/LbInput.vue';\r\nimport { mapGetters } from \"vuex\";\r\nimport { createUniverse } from '../httpLayers/universe.http.js';\r\nimport { mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  components: { LbInput },\r\n  name: 'CreateUniversePopup',\r\n  props: {\r\n    isOpen: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n  },\r\n  emits: [\"close\", \"onResult\"],\r\n  data() {\r\n    return {\r\n        title: {\r\n            value: '',\r\n            errorMsg: ''\r\n        },\r\n        description: '',\r\n        loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"userID\"]),\r\n    setVisibilityOnLoading() {\r\n        return this.loading ? 'visibility: hidden;' : 'visibility: visible;';\r\n    },\r\n    isFormValid() {\r\n     if(this.title.errorMsg == '') {\r\n        if(this.title.value.length > 0) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    setTitle(newValue) {\r\n        this.title.errorMsg = '';\r\n        this.title.value = newValue;\r\n        if (newValue.length < 1) {\r\n            this.title.errorMsg = 'Title cannot be empty!';\r\n        }\r\n    },\r\n    async create() {\r\n        this.loading = true;\r\n        try {\r\n            const createdUniverse = await createUniverse({name: this.title.value, description: this.description, userID: this.userID});\r\n            this.$emit('onResult', createdUniverse);\r\n            this.close();\r\n        } catch (error) {\r\n            this.notify({type: 'negative', message: error.message});\r\n            this.$emit('onResult', false);\r\n        } finally {\r\n            this.loading = false;\r\n        }\r\n    },\r\n    close() {\r\n        this.title = {\r\n            value: '',\r\n            errorMsg: ''\r\n        },\r\n        this.description = '';\r\n        this.$emit('close');\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.create-universe-popup {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 1em;\r\n    width: 800px;\r\n\r\n    .create-universe-popup__form {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 25px;\r\n    }\r\n\r\n    .create-universe-popup__buttons {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-top: 20px;\r\n    }\r\n}\r\n\r\n</style>","import { render } from \"./CreateUniversePopup.vue?vue&type=template&id=7b1e8eaa\"\nimport script from \"./CreateUniversePopup.vue?vue&type=script&lang=js\"\nexport * from \"./CreateUniversePopup.vue?vue&type=script&lang=js\"\n\nimport \"./CreateUniversePopup.vue?vue&type=style&index=0&id=7b1e8eaa&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserPage.vue?vue&type=template&id=4a4a0cd3\"\nimport script from \"./UserPage.vue?vue&type=script&lang=js\"\nexport * from \"./UserPage.vue?vue&type=script&lang=js\"\n\nimport \"./UserPage.vue?vue&type=style&index=0&id=4a4a0cd3&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"universe-page\">\r\n    <router-view :universeDescriptionProp=\"universeDescription\" v-if=\"!loading\"></router-view>\r\n    <lb-spinner v-if=\"loading\" size=\"40px\"></lb-spinner>\r\n    <categories-popup v-if=\"isCategoriesPopupOpen\"></categories-popup>\r\n    <universe-element-popup v-if=\"isUniverseElementPopupOpen\"></universe-element-popup>\r\n    <tags-popup v-if=\"isTagsPopupOpen\"></tags-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport CategoriesPopup from '@/popups/CategoriesPopup.vue';\r\nimport { getUniverse } from '@/httpLayers/universe.http.js';\r\nimport UniverseElementPopup from '@/popups/UniverseElementPopup.vue';\r\nimport TagsPopup from '@/popups/TagsPopup.vue';\r\n\r\nexport default {\r\n    name: 'UniversePage',\r\n    components: {\r\n      CategoriesPopup,\r\n      UniverseElementPopup,\r\n      TagsPopup\r\n    },\r\n    data() {\r\n      return {\r\n        universeDescription: '',\r\n        loading: false,\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters('universe', ['universeID']),\r\n      ...mapGetters('popups', ['isCategoriesPopupOpen', 'isUniverseElementPopupOpen', 'isTagsPopupOpen'])\r\n    },\r\n    methods: {\r\n      ...mapMutations('universe', ['setUniverse', 'setUniverseName']),\r\n      ...mapMutations('notifications', ['notify']),\r\n    },\r\n    async mounted() {\r\n      const universeID = this.$route.params.universeID;\r\n      this.loading = true;\r\n      try {\r\n        const currentUniverse = await getUniverse(universeID);\r\n        this.setUniverse({ id: currentUniverse.id, name: currentUniverse.name });\r\n        this.universeDescription = currentUniverse.description;\r\n      } catch (err) {\r\n        this.notify({type: 'negative', message: `Error: ${err.message}`});\r\n        this.$route.replace({ name: 'User' });\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.universe-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  position: relative;\r\n}\r\n\r\n</style>","<template>\r\n  <lb-popup-box :isOpen=\"isCategoriesPopupOpen\" title=\"Categories in current universe\" @close=\"close\">\r\n    <div class=\"categories-popup\">\r\n        <div class=\"categories-popup__form\">\r\n          <lb-input name=\"Name\" :value=\"categoryName\" @update:value=\"setName\" :error=\"categoryNameError\" :maxLength=\"45\"></lb-input>\r\n          <div class=\"categories-popup__buttons\" :class=\"setButtonsClass\">\r\n            <lb-button\r\n                v-if=\"selectedCategory === null\"\r\n                :size=\"1.2\"\r\n                variant=\"positive\"\r\n                icon=\"lb-plus\"\r\n                @click=\"addCategory\"\r\n                :disabled=\"disableFormButtons\"\r\n                :loading=\"isAddCategoryLoading\">Add new category</lb-button>\r\n            <lb-button\r\n                v-if=\"selectedCategory !== null\"\r\n                :size=\"1.2\"\r\n                variant=\"outline\"\r\n                @click=\"cancelEdit\">Cancel</lb-button>\r\n            <lb-button\r\n                v-if=\"selectedCategory !== null\"\r\n                :size=\"1.2\"\r\n                icon=\"lb-edit\"\r\n                @click=\"renameCategory\"\r\n                :disabled=\"disableFormButtons\">Rename</lb-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"categories-popup__categories-table\">\r\n          <table class=\"categories-table\">\r\n            <thead>\r\n              <tr class=\"categories-table__row categories-table__row--header\">\r\n                <th class=\"categories-table__cell categories-table__cell--header\">Category</th>\r\n                <th class=\"categories-table__cell categories-table__cell--header\">Elements</th>\r\n                <th class=\"categories-table__cell categories-table__cell--header\"></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr class=\"categories-table__row\" :class=\"isRowEdited(cat.id)\" v-for=\"cat in categoriesList\" :key=\"cat.id\">\r\n                <td class=\"categories-table__cell\">\r\n                  <span class=\"categories-table__link\" @click=\"navigateToCategory(cat.id)\">{{ cat.name }}</span>\r\n                </td>\r\n                <td class=\"categories-table__cell\">{{ cat.elementCount }}</td>\r\n                <td class=\"categories-table__cell\">\r\n                  <div class=\"categories-table__buttons\" v-if=\"isCategoryMutable(cat.id)\">\r\n                    <lb-button :size=\"1.2\" icon=\"lb-edit\" @click=\"editCategory(cat.id)\"></lb-button>\r\n                    <lb-button\r\n                        :size=\"1.2\"\r\n                        icon=\"lb-trash\"\r\n                        variant=\"negative\"\r\n                        @click=\"deleteCategory(cat.id)\"\r\n                        :disabled=\"this.selectedCategory == cat.id\"></lb-button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n    </div>\r\n  </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport LbInput from '../components/LbInput.vue';\r\nimport {\r\n  getUniverseCategoryList,\r\n  createCategory,\r\n  removeCategory,\r\n  updateCategory\r\n} from '../httpLayers/category.http.js';\r\n\r\nexport default {\r\n    name: 'CategoriesPopup',\r\n    components: {\r\n      LbInput,\r\n    },\r\n    props: {\r\n    },\r\n    emits: [\"onResult\"],\r\n    data() {\r\n      return {\r\n          categoryName: '',\r\n          categoryNameError: '',\r\n          loading: false,\r\n          selectedCategory: null,\r\n          categoriesList: [],\r\n          isAddCategoryLoading: false,\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters('popups', ['isCategoriesPopupOpen']),\r\n      ...mapGetters('universe', ['universeID']),\r\n      setButtonsClass() {\r\n        if(this.selectedCategory !== null) {\r\n          return 'categories-popup__buttons--rename-mode';\r\n        }\r\n        return '';\r\n      },\r\n      disableFormButtons() {\r\n        if(this.categoryName.length < 1 || this.categoryNameError.length > 0) {\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n      isCategoryNameValid() {\r\n        return this.categoryName.length > 0 && !this.categoriesList.find(cat => {return cat.name === this.categoryName})\r\n      },\r\n    },\r\n    methods: {\r\n      ...mapMutations('popups', ['closeCategoriesPopup']),\r\n      ...mapMutations('notifications', ['notify']),\r\n      close() {\r\n        this.closeCategoriesPopup();\r\n      },\r\n      setName(newValue) {\r\n        this.categoryNameError = '';\r\n        this.categoryName = newValue;\r\n      },\r\n      isCategoryMutable(categoryID) {\r\n        return !['Locations', 'Characters', 'Events'].includes(categoryID);\r\n      },\r\n      isRowEdited(id) {\r\n        if (this.selectedCategory == id) {\r\n          return 'categories-table__row--edited';\r\n        } else {\r\n          return '';\r\n        }\r\n      },\r\n      navigateToCategory(id) {\r\n        const route = { name: 'CategoryElements', params: { categoryID: id }};\r\n        this.$router.push(route);\r\n        this.close();\r\n      },\r\n      editCategory(id) {\r\n        if (this.selectedCategory == id) {\r\n          this.selectedCategory = null;\r\n          this.categoryName = '';\r\n        } else {\r\n          this.selectedCategory = id;\r\n          this.categoryName = this.categoriesList.find(cat => cat.id == id).name;\r\n        }\r\n      },\r\n      cancelEdit() {\r\n        this.selectedCategory = null;\r\n        this.categoryName = '';\r\n      },\r\n      async addCategory() {\r\n        if( this.isCategoryNameValid ) {\r\n          this.isAddCategoryLoading = true;\r\n          try {\r\n            const createdCategory = await createCategory({ name: this.categoryName, universeID: this.universeID });\r\n            this.categoriesList.push({id: createdCategory.id, name: this.categoryName, elementCount: 0});\r\n            this.categoryName = '';\r\n          } catch (error) {\r\n            this.notify({ type: 'negative', message: error.message });\r\n          } finally {\r\n            this.isAddCategoryLoading = false;\r\n          }\r\n        } else {\r\n          this.categoryNameError = 'Category with that name already exists';\r\n        }\r\n      },\r\n      async renameCategory() {\r\n        if( this.isCategoryNameValid ) {\r\n          try {\r\n            await updateCategory(this.selectedCategory, this.categoryName);\r\n            this.categoriesList.find(cat => cat.id == this.selectedCategory).name = this.categoryName;\r\n            this.selectedCategory = null;\r\n            this.categoryName = '';\r\n          } catch (error) {\r\n            this.notify({ type: 'negative', message: error.message });\r\n          }\r\n        } else {\r\n          this.categoryNameError = 'Category with that name already exists';\r\n        }\r\n      },\r\n      async deleteCategory(id) {\r\n        if(confirm('Do you really want to delete this category? You will lose all elements belonging in this category. It cannot be undone!')) {\r\n          try {\r\n            await removeCategory(id);\r\n            this.categoriesList = this.categoriesList.filter(cat => cat.id !== id);\r\n            if ( this.$route.params.categoryID && this.$route.params.categoryID == id) {\r\n              this.$router.replace({ name: 'UniverseMainPage', params: { universeID: this.universeID }});\r\n              this.close();\r\n            }\r\n          } catch (error) {\r\n            this.notify({ type: 'negative', message: error.message });\r\n          }\r\n        }\r\n      }\r\n    },\r\n    async mounted() {\r\n      try {\r\n        this.categoriesList = await getUniverseCategoryList(this.universeID);\r\n      } catch(error) {\r\n        this.notify({ type: 'negative', message: error.message });\r\n      }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.categories-popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 800px;\r\n\r\n  .categories-popup__form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 1em;\r\n\r\n    .categories-popup__buttons {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      margin-top: 1em;\r\n\r\n      &--rename-mode {\r\n        justify-content: space-between;\r\n      }\r\n    }\r\n  }\r\n\r\n  .categories-popup__categories-table {\r\n    display: flex;\r\n    flex-direction: column;\r\n    max-height: 50vh;\r\n    overflow-y: auto;\r\n\r\n    .categories-table {\r\n      border-spacing: 0;\r\n\r\n      .categories-table__row {\r\n        background-color: @element-color;\r\n        padding: 0.5em;\r\n\r\n        &--header {\r\n          background-color: @secondary-color;\r\n          font-size: 1.2rem;\r\n        }\r\n\r\n        &--edited {\r\n          box-shadow: inset 0px 3px 15px rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        .categories-table__cell {\r\n          border-bottom: 1px solid @dark-text-color;\r\n          padding: 0.5em;\r\n          font-weight: 600;\r\n          color: @dark-text-color;\r\n\r\n          &--header {\r\n            text-align: start;\r\n              color: @light-text-color;\r\n              font-weight: 700;\r\n          }\r\n\r\n          .categories-table__buttons {\r\n            display: flex;\r\n            justify-content: flex-end;\r\n            gap: 5px;\r\n          }\r\n        }\r\n\r\n        .categories-table__link {\r\n          cursor: pointer;\r\n\r\n          &:hover {\r\n            text-decoration: underline;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./CategoriesPopup.vue?vue&type=template&id=4c283bad\"\nimport script from \"./CategoriesPopup.vue?vue&type=script&lang=js\"\nexport * from \"./CategoriesPopup.vue?vue&type=script&lang=js\"\n\nimport \"./CategoriesPopup.vue?vue&type=style&index=0&id=4c283bad&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <lb-popup-box :isOpen=\"isUniverseElementPopupOpen\" title=\"Create new element in Universe\" @close=\"closeUniverseElementPopup\">\r\n    <div class=\"universe-element-popup\">\r\n        <lb-input name=\"Title\" v-model:value=\"name\" :maxLength=\"60\"/>\r\n        <div>\r\n            <h2 class=\"universe-element-popup__field-title\">Type of element</h2>\r\n            <lb-select :items=\"categories\" width=\"100%\" placeholder=\"Select type of new element\" @handleSelection=\"selectCategory\"/>\r\n        </div>\r\n        <div class=\"universe-element-popup__specific-row universe-element-popup__specific-row--events\" v-if=\"selectedCategory == 'Events'\">\r\n            <lb-input name=\"Year\" type=\"number\" v-model:value=\"eventDate.year\"/>\r\n            <lb-input name=\"Month\" type=\"number\"  @change:value=\"setEventMonth\" v-model:value=\"eventDate.month\"/>\r\n            <lb-input name=\"Day\" type=\"number\" @change:value=\"setEventDay\" v-model:value=\"eventDate.day\"/>\r\n        </div>\r\n        <div class=\"universe-element-popup__specific-row\" v-if=\"selectedCategory == 'Locations'\">\r\n            <h2 class=\"universe-element-popup__field-title\">Parent Location</h2>\r\n            <lb-search-select\r\n                placeholder=\"Select parent locations...\"\r\n                :items=\"locations\" :loading=\"areLocationsLoading\"\r\n                @onSelection=\"selectLocation\"></lb-search-select>\r\n        </div>\r\n        <lb-input name=\"Description\" type=\"textarea\" v-model:value=\"description\" :maxLength=\"250\"/>\r\n        <div class=\"universe-element-popup__buttons\">\r\n            <lb-button variant=\"outline\" :size=\"1.4\" @click=\"closeUniverseElementPopup\">Cancel</lb-button>\r\n            <lb-button variant=\"positive\" :size=\"1.4\" @click=\"createElement\" :disabled=\"isCreateButtonDisabled\" :loading=\"createLoading\">Create Element</lb-button>\r\n        </div>\r\n    </div>\r\n  </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport LbPopupBox from '../components/LbPopupBox.vue';\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport LbInput from '../components/LbInput.vue';\r\nimport LbSelect from '../components/LbSelect.vue';\r\nimport LbSearchSelect from '../components/LbSearchSelect.vue';\r\nimport { getUniverseCategories } from '../httpLayers/category.http.js';\r\nimport { getUniverseLocations, createLocation } from '../httpLayers/location.http.js';\r\nimport { createCharacter } from '../httpLayers/character.http.js';\r\nimport { createEvent } from '../httpLayers/event.http.js';\r\nimport { createEntry } from '../httpLayers/entry.http.js';\r\n\r\n\r\nexport default {\r\n    name: 'UniverseElementPopup',\r\n    components: {\r\n        LbPopupBox,\r\n        LbInput,\r\n        LbSelect,\r\n        LbSearchSelect\r\n    },\r\n    emits: [\"onResult\"],\r\n    data() {\r\n        return {\r\n            name: '',\r\n            description: '',\r\n            selectedCategory: null,\r\n            categories: [],\r\n            createLoading: false,\r\n            //Data for Events\r\n            eventDate: {\r\n                year: 0,\r\n                month: 1,\r\n                day: 1\r\n            },\r\n            //Data for Locations\r\n            locations: [],\r\n            parentLocation: null,\r\n            areLocationsLoading: false,\r\n            fetchLocationsFlag: false\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters('popups', ['isUniverseElementPopupOpen']),\r\n        ...mapGetters('universe', ['universeID']),\r\n        isCreateButtonDisabled() {\r\n            if(this.selectedCategory == null || this.name.length < 1) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations('popups', ['closeUniverseElementPopup']),\r\n        ...mapMutations('notifications', ['notify']),\r\n        resetForm() {\r\n            this.name = '';\r\n            this.description = '';\r\n            this.selectedCategory = null;\r\n            this.eventDate = {\r\n                year: 0,\r\n                month: 1,\r\n                day: 1\r\n            };\r\n            this.parentLocation = null;\r\n        },\r\n        async selectCategory(selection) {\r\n            this.selectedCategory = selection.length ? selection[0].id : null;\r\n            if (this.selectedCategory == 'Locations') {\r\n                this.parentLocation = null;\r\n                if (!this.fetchLocationsFlag) {\r\n                    await this.fetchLocations();\r\n                    this.fetchLocationsFlag = true;\r\n                }\r\n            } else if(this.selectedCategory == 'Events') {\r\n                this.eventDate = {\r\n                    year: 0,\r\n                    month: 1,\r\n                    day: 1\r\n                };\r\n            }\r\n        },\r\n        async createElement() {\r\n            this.createLoading = true;\r\n            try {\r\n                let result = null;\r\n                if (this.selectedCategory == 'Events') {\r\n                    result = await createEvent(this.name, this.description, this.eventDate, this.universeID);\r\n                } else if (this.selectedCategory == 'Locations') {\r\n                    result = await createLocation(this.name, this.description, this.universeID, this.parentLocation);\r\n                } else if (this.selectedCategory == 'Characters') {\r\n                    result = await createCharacter(this.name, this.description, this.universeID);\r\n                } else {\r\n                    result = await createEntry(this.name, this.description, this.selectedCategory);\r\n                }\r\n                if (result) {\r\n                    this.notify({ type: 'positive', message: `Successfully created ${result.name}` });\r\n                    this.$emit('onResult', { result, type: this.selectedCategory });\r\n                    this.$router.push({\r\n                        name: 'ElementPage',\r\n                        params: {\r\n                        universeID: this.universeID,\r\n                        categoryID: this.selectedCategory,\r\n                        elementID: result.id\r\n                        }\r\n                    });\r\n                    this.closeUniverseElementPopup();\r\n                }\r\n            } catch(error) {\r\n                this.notify({ type: 'negative', message: error.message });\r\n            } finally {\r\n                this.createLoading = false;\r\n            }\r\n        },\r\n        // Methods for Events\r\n        setEventMonth(newValue) {\r\n            if ( newValue > 12 ) {\r\n                this.eventDate.month = 12;\r\n            } else if ( newValue < 1 ) {\r\n                this.eventDate.month = 1;\r\n            } else {\r\n                this.eventDate.month = newValue;\r\n            }\r\n        },\r\n        setEventDay(newValue) {\r\n            if ( newValue > 31 ) {\r\n                this.eventDate.day = 31;\r\n            } else if ( newValue < 1 ) {\r\n                this.eventDate.day = 1;\r\n            } else {\r\n                this.eventDate.day = newValue;\r\n            }\r\n        },\r\n        //Methods for Locations\r\n        async fetchLocations() {\r\n            this.areLocationsLoading = true;\r\n            try {\r\n                this.locations = await getUniverseLocations(this.universeID);\r\n            } catch(error) {\r\n                this.notify({ type: 'negative', message: error.message });\r\n            } finally {\r\n                this.areLocationsLoading = false;\r\n            }\r\n        },\r\n        selectLocation(selection) {\r\n            this.parentLocation = selection;\r\n        }\r\n    },\r\n    async mounted() {\r\n      try {\r\n        const basicCategories = [\r\n                {\r\n                    id: 'Characters',\r\n                    name: 'Characters'\r\n                },\r\n                {\r\n                    id: 'Locations',\r\n                    name: 'Locations'\r\n                },\r\n                {\r\n                    id: 'Events',\r\n                    name: 'Events'\r\n                }\r\n        ];\r\n        const customCategories = await getUniverseCategories(this.universeID);\r\n        this.categories.push(...basicCategories, ...customCategories);\r\n      } catch(error) {\r\n        this.notify({ type: 'negative', message: error.message });\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.universe-element-popup {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    width: 800px;\r\n\r\n    .universe-element-popup__specific-row {\r\n        border: 1px solid @accent-color;\r\n        border-radius: 5px;\r\n        padding: 0.2em;\r\n\r\n        &--events {\r\n            display: flex;\r\n            width: 100%;\r\n            justify-content: space-between;\r\n            flex-basis: 100%;\r\n\r\n            .lb-input {\r\n                    width: 25%;\r\n            }\r\n        }\r\n    }\r\n\r\n    .universe-element-popup__field-title {\r\n      margin: 0;\r\n      margin-right: 0.5em;\r\n      margin-bottom: 5px;\r\n      font-weight: 500;\r\n      font-size: 1.4rem;\r\n      color: @light-text-color;\r\n    }\r\n\r\n    .universe-element-popup__buttons {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-top: 20px;\r\n    }\r\n}\r\n\r\n</style>","import { render } from \"./UniverseElementPopup.vue?vue&type=template&id=e22b5044\"\nimport script from \"./UniverseElementPopup.vue?vue&type=script&lang=js\"\nexport * from \"./UniverseElementPopup.vue?vue&type=script&lang=js\"\n\nimport \"./UniverseElementPopup.vue?vue&type=style&index=0&id=e22b5044&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <lb-popup-box :isOpen=\"isTagsPopupOpen\" title=\"Tags in current universe\" @close=\"close\">\r\n    <div class=\"tags-popup\">\r\n      <div class=\"tags-popup__content\" :style=\"tagsLoadingVisibility\">\r\n        <div class=\"tags-popup__row\">\r\n          <div class=\"tags-popup__edit-form\" v-if=\"selectedTag\">\r\n            <lb-input name=\"Tag Name\" :value=\"tagName\" @update:value=\"setTagName\" :error=\"tagNameError\" :maxLength=\"60\"></lb-input>\r\n            <div class=\"tags-popup__form-buttons\">\r\n              <lb-button\r\n                :size=\"1.2\"\r\n                variant=\"outline\"\r\n                @click=\"cancelEdit\">Cancel</lb-button>\r\n              <lb-button\r\n                  :size=\"1.2\"\r\n                  icon=\"lb-edit\"\r\n                  @click=\"renameTag\"\r\n                  :loading=\"renameLoading\"\r\n                  :disabled=\"disableRenameButton\">Rename Tag</lb-button>\r\n            </div>\r\n          </div>\r\n          <lb-search-bar placeholder=\"Search tag by name...\" @search=\"search\" :text=\"searchText\" v-if=\"!selectedTag\"></lb-search-bar>\r\n        </div>\r\n        <div class=\"tags-popup__row\" v-if=\"tagList.length !== 0\">\r\n          <div class=\"tags-popup__tag-table\">\r\n            <table class=\"tag-table\">\r\n              <thead>\r\n                <tr class=\"tag-table__row tag-table__row--header\">\r\n                  <th class=\"tag-table__cell tag-table__cell--header\">Tag Name</th>\r\n                  <th class=\"tag-table__cell tag-table__cell--header\">Tagged Elements</th>\r\n                  <th class=\"tag-table__cell tag-table__cell--header\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr class=\"tag-table__row\" :class=\"isRowEdited(tag.id)\" v-for=\"tag in tagList\" :key=\"tag.id\">\r\n                  <td class=\"tag-table__cell\">\r\n                    <span class=\"tag-table__tag-name\">{{ tag.name }}</span>\r\n                  </td>\r\n                  <td class=\"tag-table__cell\">{{ tag.elementCount }}</td>\r\n                  <td class=\"tag-table__cell\">\r\n                    <div class=\"tag-table__buttons\">\r\n                      <lb-button :size=\"1.2\" icon=\"lb-edit\" @click=\"editTag(tag.id)\"></lb-button>\r\n                      <lb-button\r\n                          :size=\"1.2\"\r\n                          icon=\"lb-trash\"\r\n                          variant=\"negative\"\r\n                          @click=\"removeTag(tag.id)\"\r\n                          :disabled=\"selectedTag == tag.id\"></lb-button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div class=\"tags-popup__no-content\" v-if=\"tagList.length == 0\">\r\n          <h3 class=\"tags-popup__no-content-header\">No results</h3>\r\n          <span>If you want to see searched tags here, you should add them to universe elements</span>\r\n        </div>\r\n        <div class=\"tags-popup__row\" v-if=\"selectedTag === null\">\r\n          <lb-page-nav :currentPage=\"currentPage\"\r\n                     :totalPages=\"totalPages\"\r\n                     @go=\"changePage\"\r\n                     class=\"tags-popup__page-nav\"></lb-page-nav>\r\n        </div>\r\n      </div>\r\n      <lb-spinner v-if=\"tagsLoading\"></lb-spinner>\r\n    </div>\r\n  </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport LbSearchBar from '@/components/LbSearchBar.vue';\r\nimport LbInput from '@/components/LbInput.vue';\r\nimport LbPageNav from '@/components/LbPageNav.vue';\r\nimport { searchTagList, updateTag, deleteTag } from '@/httpLayers/tag.http.js';\r\n\r\nexport default {\r\n  name: 'TagsPopup',\r\n  components: {\r\n    LbSearchBar,\r\n    LbInput,\r\n    LbPageNav\r\n  },\r\n  data() {\r\n    return {\r\n      tagList: [],\r\n      tagsLoading: false,\r\n      renameLoading: false,\r\n      searchText: '',\r\n      tagName: '',\r\n      tagNameError: '',\r\n      selectedTag: null,\r\n      currentPage: 1,\r\n      totalPages: 2\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('popups', ['isTagsPopupOpen']),\r\n    ...mapGetters('universe', ['universeID']),\r\n    tagsLoadingVisibility() {\r\n      return this.tagsLoading ? 'visibility: hidden;': 'visibility: visible';\r\n    },\r\n    disableRenameButton() {\r\n      if (this.tagName.length < 1 || this.tagNameError.length > 0) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('popups', ['closeTagsPopup']),\r\n    ...mapMutations('notifications', ['notify']),\r\n    close() {\r\n      this.closeTagsPopup();\r\n    },\r\n    isRowEdited(id) {\r\n      if (this.selectedTag == id) {\r\n        return 'tag-table__row--edited';\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    editTag(id) {\r\n      if (this.selectedTag == id) {\r\n        this.selectedTag = null;\r\n        this.tagName = '';\r\n      } else {\r\n        this.selectedTag = id;\r\n        this.tagName = this.tagList.find(tag => tag.id == id).name;\r\n      }\r\n    },\r\n    async fetchTagList(queryText, page) {\r\n      let newPage = page;\r\n      if (this.searchText !== queryText) {\r\n        this.currentPage = 1;\r\n        newPage = 1;\r\n      }\r\n      this.searchText = queryText;\r\n      this.searchText = queryText;\r\n      const elementsPerPage = 25;\r\n      this.tagsLoading = true;\r\n      try {\r\n        const offset = newPage !== 0 ? (newPage * elementsPerPage) - elementsPerPage : 0;\r\n        const result = await searchTagList(this.universeID, queryText, elementsPerPage, offset);\r\n        this.tagList = result.elements;\r\n        this.totalPages = result.totalPages;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${err.message}`});\r\n      } finally {\r\n        this.tagsLoading = false;\r\n      }\r\n    },\r\n    async search(queryText) {\r\n     const page = this.currentPage == 1 ? 0 : this.currentPage;\r\n     await this.fetchTagList(queryText, page);\r\n    },\r\n    async changePage(newPageNumber) {\r\n      this.currentPage = newPageNumber;\r\n      await this.search(this.searchText);\r\n    },\r\n    setTagName(newName) {\r\n      this.tagNameError = '';\r\n      this.tagName = newName;\r\n    },\r\n    cancelEdit() {\r\n      this.tagName = '';\r\n      this.tagNameError = '';\r\n      this.selectedTag = null;\r\n    },\r\n    async renameTag() {\r\n      try {\r\n        this.renameLoading = true;\r\n        await updateTag(this.selectedTag, this.tagName);\r\n        this.tagList.find(t => t.id == this.selectedTag).name = this.tagName;\r\n        this.selectedTag = null;\r\n        this.tagName = '';\r\n      } catch (erorr) {\r\n        this.tagNameError = error.message;\r\n      } finally {\r\n        this.renameLoading = false;\r\n      }\r\n    },\r\n    async removeTag(id) {\r\n      try {\r\n        await deleteTag(id);\r\n        this.tagList = this.tagList.filter(t => (t.id !== id));\r\n        await this.fetchTagList(this.searchText, this.currentPage);\r\n      } catch (erorr) {\r\n        this.notify({ type: 'negative', message: error.message });\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchTagList('', 1);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.tags-popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 800px;\r\n  height: 80vh;\r\n  position: relative;\r\n\r\n  .tags-popup__content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1em;\r\n  }\r\n\r\n  .tags-popup__row {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .tags-popup__page-nav {\r\n      align-self: center;\r\n      width: auto;\r\n    }\r\n\r\n    .tags-popup__edit-form {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 1em;\r\n\r\n      .tags-popup__form-buttons {\r\n        display: flex;\r\n        justify-content: space-between;\r\n      }\r\n    }\r\n\r\n    .tags-popup__tag-table {\r\n      display: flex;\r\n      flex-direction: column;\r\n      max-height: 60vh;\r\n      overflow-y: auto;\r\n\r\n      .tag-table {\r\n        border-spacing: 0;\r\n\r\n        .tag-table__row {\r\n          background-color: @element-color;\r\n          padding: 0.5em;\r\n\r\n          &--header {\r\n            background-color: @secondary-color;\r\n            font-size: 1.2rem;\r\n          }\r\n\r\n          &--edited {\r\n            box-shadow: inset 0px 3px 15px rgba(0, 0, 0, 0.3);\r\n          }\r\n\r\n          .tag-table__cell {\r\n            border-bottom: 1px solid @dark-text-color;\r\n            padding: 0.5em;\r\n            font-weight: 600;\r\n            color: @dark-text-color;\r\n\r\n            &--header {\r\n              text-align: start;\r\n                color: @light-text-color;\r\n                font-weight: 700;\r\n            }\r\n\r\n            .tag-table__buttons {\r\n              display: flex;\r\n              justify-content: flex-end;\r\n              gap: 5px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .tags-popup__no-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: @secondary-color;\r\n    padding: 2em 1em;\r\n    border-radius: 1em;\r\n    gap: 0.8em;\r\n    font-size: 1.3rem;\r\n\r\n    .tags-popup__no-content-header {\r\n      margin: 0;\r\n      font-size: 1.5rem;\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import LbAPI from \"./LbAPI.js\";\r\n\r\nasync function createTagInContent(name, contentID, universeID) {\r\n  return await LbAPI\r\n    .post(`/tags/content`, {name, contentID, universeID})\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      if (error.response && error.response.data.message) {\r\n        const err = new Error(`${error.response.data.message}`);\r\n        throw err;\r\n      } else if (error.request) {\r\n        throw new Error(\"Service refused connection\");\r\n      } else {\r\n        throw new Error(\"Undefined error\");\r\n      }\r\n  });\r\n};\r\n\r\nasync function deleteTag(tagID) {\r\n  return await LbAPI\r\n    .delete(`/tags/${tagID}`)\r\n    .then((response) => {\r\n      return true;\r\n    })\r\n    .catch((error) => {\r\n      if (error.response && error.response.data.message) {\r\n        const err = new Error(`${error.response.data.message}`);\r\n        throw err;\r\n      } else if (error.request) {\r\n        throw new Error(\"Service refused connection\");\r\n      } else {\r\n        throw new Error(\"Undefined error\");\r\n      }\r\n  });\r\n};\r\n\r\nasync function deleteTagFromContent(tagID, contentID) {\r\n  return await LbAPI\r\n    .delete(`/tags/${tagID}/content/${contentID}`)\r\n    .then((response) => {\r\n      return true;\r\n    })\r\n    .catch((error) => {\r\n      if (error.response && error.response.data.message) {\r\n        const err = new Error(`${error.response.data.message}`);\r\n        throw err;\r\n      } else if (error.request) {\r\n        throw new Error(\"Service refused connection\");\r\n      } else {\r\n        throw new Error(\"Undefined error\");\r\n      }\r\n  });\r\n};\r\n\r\nasync function searchTagList(universeID, query, elementsPerPage, offset) {\r\n  const encodedQuery = encodeURIComponent(query);\r\n  return await LbAPI\r\n        .get(`/tags/search/list/${universeID}/?q=${encodedQuery}&limit=${elementsPerPage}&offset=${offset}`)\r\n        .then((response) => {\r\n          const searchResult = {\r\n            elements: response.data.rows,\r\n            totalPages: Math.ceil(response.data.count / elementsPerPage)\r\n          };\r\n          return searchResult;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function updateTag(tagID, name) {\r\n  return await LbAPI\r\n  .patch(`/tags/${tagID}`, {name})\r\n  .then(() => {\r\n      return true;\r\n  })\r\n  .catch((error) => {\r\n      if (error.response && error.response.data.message) {\r\n          const err = new Error(`${error.response.data.message}`);\r\n          throw err;\r\n      } else if (error.request) {\r\n          throw new Error(\"Service refused connection\");\r\n      } else {\r\n          throw new Error(\"Undefined error\");\r\n      }\r\n  });\r\n};\r\n\r\nexport {\r\n  createTagInContent,\r\n  deleteTag,\r\n  deleteTagFromContent,\r\n  searchTagList,\r\n  updateTag\r\n};","import { render } from \"./TagsPopup.vue?vue&type=template&id=340b933a\"\nimport script from \"./TagsPopup.vue?vue&type=script&lang=js\"\nexport * from \"./TagsPopup.vue?vue&type=script&lang=js\"\n\nimport \"./TagsPopup.vue?vue&type=style&index=0&id=340b933a&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UniversePage.vue?vue&type=template&id=6c16bb46\"\nimport script from \"./UniversePage.vue?vue&type=script&lang=js\"\nexport * from \"./UniversePage.vue?vue&type=script&lang=js\"\n\nimport \"./UniversePage.vue?vue&type=style&index=0&id=6c16bb46&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"universe-main-page\">\r\n    <div class=\"universe-main-page__header\">\r\n      <lb-editable-text :value=\"universeName\" :maxLength=\"45\" customClass=\"universe-main-page__title\" @onSave=\"changeUniverseTitle\"/>\r\n      <label class=\"universe-main-page__header-label\">Description</label>\r\n      <lb-editable-text :value=\"universeDescription\"\r\n                        :maxLength=\"1000\"\r\n                        type=\"textarea\"\r\n                        customClass=\"universe-main-page__description\"\r\n                        @onSave=\"changeDescription\"\r\n                        noContent=\"No description\"/>\r\n    </div>\r\n    <div class=\"universe-main-page__content-swapper\">\r\n      <lb-content-swapper :options=\"contentOptions\" :activeOption=\"activeOption\" @onSelect=\"changeContent\"></lb-content-swapper>\r\n    </div>\r\n    <div class=\"universe-main-page__dynamic-content\" v-if=\"universeID\">\r\n      <component :is=\"activeOption\"></component>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport { updateUniverse } from '@/httpLayers/universe.http.js';\r\nimport LbContentSwapper from '@/components/LbContentSwapper.vue';\r\nimport LbEditableText from '@/components/LbEditableText.vue';\r\nimport UniverseElements from './UniverseElements.vue';\r\nimport UniverseStories from './UniverseStories.vue';\r\n\r\nexport default {\r\n  name: \"UnivereseMainPage\",\r\n  components: {\r\n      LbContentSwapper,\r\n      LbEditableText,\r\n      UniverseElements,\r\n      UniverseStories\r\n  },\r\n  props: {\r\n    universeDescriptionProp: {\r\n        type: String,\r\n    }\r\n  },\r\n  data() {\r\n      return {\r\n        universeDescription: this.universeDescriptionProp,\r\n        contentOptions: [\r\n          {\r\n            name: 'Elements',\r\n            key: 'universe-elements',\r\n          },\r\n          {\r\n            name: 'Stories',\r\n            key: 'universe-stories',\r\n          }\r\n        ],\r\n        activeOption: 'universe-elements'\r\n      };\r\n  },\r\n  computed: {\r\n      ...mapGetters('universe', ['universeName', 'universeID']),\r\n  },\r\n  methods: {\r\n      ...mapMutations('universe', ['setUniverse', 'setUniverseName']),\r\n      ...mapMutations('notifications', ['notify']),\r\n      changeContent(contentKey) {\r\n        this.activeOption = contentKey;\r\n      },\r\n      async changeUniverseTitle(newTitle) {\r\n        try {\r\n          await updateUniverse(this.universeID, { name: newTitle }).then(() => {\r\n            this.setUniverseName(newTitle);\r\n          });\r\n        } catch(error) {\r\n          this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n        }\r\n      },\r\n      async changeDescription(newDescription) {\r\n        try {\r\n          await updateUniverse(this.universeID, { description: newDescription }).then(() => {\r\n            this.universeDescription = newDescription;\r\n          });\r\n        } catch(error) {\r\n          this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n        }\r\n      }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.universe-main-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 1em;\r\n\r\n  .universe-main-page__header {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n\r\n    .universe-main-page__header-label {\r\n      width: 100%;\r\n      text-align: start;\r\n      font-size: 0.9rem;\r\n      color: @secondary-color;\r\n    }\r\n\r\n    .universe-main-page__title {\r\n      font-weight: 600;\r\n      width: 1000px;\r\n\r\n      .lb-editable-text__text, .lb-editable-text__input {\r\n        font-size: 2rem;\r\n        text-align: center;\r\n      }\r\n    }\r\n\r\n    .universe-main-page__description {\r\n      margin-top: 2px;\r\n      width: 1000px;\r\n    }\r\n  }\r\n\r\n  .universe-main-page__content-swapper {\r\n    width: 30%;\r\n  }\r\n\r\n  .universe-main-page__dynamic-content {\r\n    width: 80%;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"lb-content-swapper\">\r\n    <button class=\"lb-content-swapper__option\"\r\n            v-for=\"option in options\"\r\n            :key=\"option.key\"\r\n            :class=\"setActiveClass(option.key)\"\r\n            :disabled=\"option.disabled || option.key == activeOption\"\r\n            @click=\"selectOption(option.key)\">\r\n        {{ option.name }}\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'LbContentSwapper',\r\n    props: {\r\n        /**\r\n         * It Should be array of { name: String, key: String, disabled: Boolean }\r\n         * key can be component name or route\r\n         */\r\n        options: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        activeOption: {\r\n            type: String,\r\n            default: null\r\n        },\r\n    },\r\n    emits: ['onSelect'],\r\n    methods: {\r\n        selectOption(key) {\r\n            this.$emit('onSelect', key);\r\n        },\r\n        setActiveClass(key) {\r\n            if (this.activeOption == key) {\r\n                return 'lb-content-swapper__option--active';\r\n            }\r\n            return '';\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-content-swapper {\r\n    display: flex;\r\n    gap: 2px;\r\n\r\n    .lb-content-swapper__option {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        font-size: 1.5rem;\r\n        font-weight: 600;\r\n        padding: 0.3em 0em;\r\n        flex-basis: 100%;\r\n        border: none;\r\n        background-color: @accent-color;\r\n        color: @light-text-color;\r\n\r\n        &:hover {\r\n            background-color: @accent-brighter-color;\r\n        }\r\n\r\n        &:active, &--active, &--active:hover {\r\n            background-color: @accent-darker-color;\r\n            color: @green-light-color;\r\n        }\r\n\r\n        &:first-child {\r\n            border-top-left-radius: 10px;\r\n            border-bottom-left-radius: 10px;\r\n        }\r\n\r\n        &:last-child {\r\n            border-top-right-radius: 10px;\r\n            border-bottom-right-radius: 10px;\r\n        }\r\n    }\r\n}\r\n\r\n</style>","import { render } from \"./LbContentSwapper.vue?vue&type=template&id=2ec85714\"\nimport script from \"./LbContentSwapper.vue?vue&type=script&lang=js\"\nexport * from \"./LbContentSwapper.vue?vue&type=script&lang=js\"\n\nimport \"./LbContentSwapper.vue?vue&type=style&index=0&id=2ec85714&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"universe-elements\">\r\n    <div class=\"universe-elements__loading\">\r\n      <lb-spinner v-if=\"loading\"></lb-spinner>\r\n    </div>\r\n    <div class=\"universe-elements__list\" v-for=\"elementList in elementLists\" :key=\"elementList.id\">\r\n      <lb-universe-element-list\r\n            :categoryID=\"elementList.id\"\r\n            :title=\"elementList.name\"\r\n            :elements=\"elementList.elements\"\r\n            :elementCount=\"elementList.elementCount\"\r\n            :footerLink=\"elementList.elementCount > 3\">\r\n      </lb-universe-element-list>\r\n    </div>\r\n    <div class=\"universe-elements__no-content\" v-if=\"elementLists.length == 0\">\r\n      No elements in this universe\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbUniverseElementList from '@/components/LbUniverseElementList.vue';\r\nimport { getUniverseElementsShortLists } from '@/httpLayers/search.http.js';\r\nimport { mapGetters, mapMutations } from 'vuex';\r\n\r\nexport default {\r\n  components: { LbUniverseElementList },\r\n  name: 'UniverseElements',\r\n  data() {\r\n    return {\r\n        elementLists: [],\r\n        loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID']),\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    async fetchElementLists() {\r\n      this.loading = true;\r\n      try {\r\n        this.elementLists =  await getUniverseElementsShortLists(this.universeID);\r\n        this.elementLists = this.elementLists.filter(el => (el.elementCount)).sort((el2, el1) => {\r\n          if (el1.elements[0].last_modified > el2.elements[0].last_modified) {\r\n            return 1;\r\n          }\r\n          if (el1.elements[0].last_modified < el2.elements[0].last_modified) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        });\r\n      } catch(error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchElementLists();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.universe-elements {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 0.8em;\r\n  gap: 0.8em;\r\n  max-width: 100%;\r\n\r\n  .universe-elements__no-content {\r\n    display: flex;\r\n    justify-content: center;\r\n    font-style: italic;\r\n    font-size: 1.2rem;\r\n  }\r\n\r\n  .universe-elements__loading {\r\n    position: relative;\r\n    background-color: @secondary-color;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"lb-universe-element-list\">\r\n    <div class=\"lb-universe-element-list__body\" :style=\"isContentVisible\">\r\n      <div class=\"lb-universe-element-list__header\">\r\n        <router-link :to=\"categoryLink\" class=\"lb-universe-element-list__title\">{{ title }}</router-link>\r\n        <span class=\"lb-universe-element-list__vertical-line\"></span>\r\n        <span class=\"lb-universe-element-list__count\">{{ elementCountText }}</span>\r\n      </div>\r\n      <div class=\"util__horizontal-line--white\"></div>\r\n      <div class=\"lb-universe-element-list__element\" v-for=\"el in elements\" :key=\"el.id\">\r\n        <div class=\"lb-universe-element-list__element-header\">\r\n          <h4 @click=\"navigateToElement(el.id)\" class=\"lb-universe-element-list__element-name\">{{ el.name }}</h4>\r\n          <span class=\"lb-universe-element-list__element-date\"> {{ formatDate(el.last_modified) }}</span>\r\n          <div class=\"lb-universe-element-list__element-button\" v-if=\"interactive\">\r\n            <lb-button variant=\"negative\" icon=\"lb-trash\" :size=\"1\" @click=\"deleteElement(el.id, el.catID)\"></lb-button>\r\n          </div>\r\n        </div>\r\n        <p class=\"lb-universe-element-list__description\" :class=\"!el.description.length ? 'lb-universe-element-list__description--empty' : ''\">\r\n          {{ el.description.length ? el.description : 'No description' }}\r\n        </p>\r\n        <div class=\"util__horizontal-line--white\"></div>\r\n      </div>\r\n      <div class=\"lb-universe-element-list__footer\" v-if=\"footerLink\">\r\n        <router-link :to=\"categoryLink\" class=\"lb-universe-element-list__link\">see more elements...</router-link>\r\n      </div>\r\n    </div>\r\n    <lb-spinner v-if=\"loading\"></lb-spinner>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { format } from 'date-fns';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n    name: 'LbUniverseElementList',\r\n    emits: ['onDelete'],\r\n    props: {\r\n      categoryID: {\r\n        type: String,\r\n        required: true,\r\n      },\r\n      title: {\r\n        type: String,\r\n        required: true,\r\n      },\r\n      elements: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n      footerLink: {\r\n        type: Boolean,\r\n        default: true,\r\n      },\r\n      loading: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      elementCount: {\r\n        type: Number,\r\n      },\r\n      interactive: {\r\n        type: Boolean\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters('universe', ['universeID']),\r\n      elementCountText() {\r\n        return this.elementCount == 1 ? `${this.elementCount} element` : `${this.elementCount} elements`;\r\n      },\r\n      isContentVisible() {\r\n        return this.loading ? 'visibility: hidden;' : 'visibility: visible;';\r\n      },\r\n      categoryLink() {\r\n        return { name: 'CategoryElements', params: { categoryID: this.categoryID }};\r\n      }\r\n    },\r\n    methods: {\r\n      formatDate(date) {\r\n        const isoDate = new Date(date);\r\n        const formattedDate = format(isoDate, 'dd.MM.yyyy hh:mm');\r\n        return `Last modified: ${formattedDate}`;\r\n      },\r\n      deleteElement(id) {\r\n        this.$emit('onDelete', { id, categoryID: this.categoryID });\r\n      },\r\n      navigateToElement(id) {\r\n        this.$router.push({ name: 'ElementPage', params: {\r\n          universeID: this.universeID,\r\n          categoryID: this.categoryID,\r\n          elementID: id\r\n        }});\r\n      }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-universe-element-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: @secondary-color;\r\n  padding: 0.5em;\r\n  border-radius: 10px;\r\n  gap: 5px;\r\n  position: relative;\r\n  width: 100%;\r\n\r\n  .lb-universe-element-list__body {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 5px;\r\n  }\r\n\r\n  .lb-universe-element-list__header {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 5px;\r\n\r\n    .lb-universe-element-list__vertical-line {\r\n      height: 1.5rem;\r\n      border-right: 1px solid @light-text-color;\r\n    }\r\n\r\n    .lb-universe-element-list__title {\r\n      margin: 0;\r\n      font-size: 1.5rem;\r\n      font-weight: 500;\r\n      color: @green-light-color;\r\n      cursor: pointer;\r\n      text-decoration: none;\r\n\r\n      &:hover {\r\n        color: @green-shrek-color;\r\n      }\r\n    }\r\n\r\n    .lb-universe-element-list__count {\r\n      color: @neutral-color;\r\n    }\r\n  }\r\n\r\n  .lb-universe-element-list__element {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0.3em 0em;\r\n\r\n    &:hover {\r\n      .lb-universe-element-list__element-header {\r\n        .lb-universe-element-list__element-button {\r\n          visibility: visible;\r\n        }\r\n      }\r\n    }\r\n\r\n    .lb-universe-element-list__element-header {\r\n      display: flex;\r\n      align-items: flex-end;\r\n      gap: 15px;\r\n\r\n      .lb-universe-element-list__element-button {\r\n        visibility: hidden;\r\n      }\r\n\r\n      .lb-universe-element-list__element-name {\r\n        margin: 0;\r\n        font-size: 1.3rem;\r\n        font-weight: 500;\r\n        color: @light-text-color;\r\n        cursor: pointer;\r\n        text-decoration: none;\r\n\r\n        &:hover {\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n\r\n      .lb-universe-element-list__element-date {\r\n        color: @neutral-color;\r\n      }\r\n    }\r\n\r\n    .lb-universe-element-list__description {\r\n      color: @light-text-color;\r\n      margin: 0;\r\n      font-weight: 400;\r\n      padding: 0.5em 0.2em;\r\n\r\n      &--empty {\r\n        font-style: italic;\r\n        font-weight: 300;\r\n      }\r\n    }\r\n  }\r\n\r\n  .lb-universe-element-list__footer {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    padding: 0.4em 0em 0.2em;\r\n\r\n    .lb-universe-element-list__link {\r\n      font-style: italic;\r\n      color: @light-text-color;\r\n      cursor: pointer;\r\n      text-decoration: none;\r\n\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LbUniverseElementList.vue?vue&type=template&id=07e324e9\"\nimport script from \"./LbUniverseElementList.vue?vue&type=script&lang=js\"\nexport * from \"./LbUniverseElementList.vue?vue&type=script&lang=js\"\n\nimport \"./LbUniverseElementList.vue?vue&type=style&index=0&id=07e324e9&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import LbAPI from \"./LbAPI.js\";\r\n\r\nasync function getUniverseElementsShortLists(universeID) {\r\n    return await LbAPI\r\n        .get(`/search/shortLists/${universeID}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nfunction universeElementsMapper(elements) {\r\n    return elements.map(el => {\r\n        return {\r\n            id: el.id,\r\n            name: el.name,\r\n            lastModified: el.last_modified,\r\n            categoryID: el.Category_id,\r\n            categoryName: el.categoryName\r\n        };\r\n    })\r\n};\r\n\r\nasync function getSearchedUniverseElements(universeID, query, categories, tags, elementsPerPage, page) {\r\n    let queryParams = [];\r\n\r\n    if (categories && categories.length > 0) {\r\n        const encodedCategories = categories.map(cat => {\r\n            const encoded = encodeURIComponent(cat)\r\n            return `&categories=${encoded}`;\r\n        });\r\n        encodedCategories.forEach(cat => queryParams.push(cat));\r\n    }\r\n\r\n    if (tags && tags.length > 0) {\r\n        const encodedTags = tags.map(tag => {\r\n            const encoded = encodeURIComponent(tag)\r\n            return `&tags=${encoded}`;\r\n        });\r\n        encodedTags.forEach(tag => queryParams.push(tag));\r\n    }\r\n\r\n    let queryParamsString = '';\r\n    if (queryParams.length > 0) {\r\n        queryParams.forEach(qp => {\r\n            queryParamsString = `${queryParamsString}${qp}`;\r\n        });\r\n    }\r\n\r\n\r\n    const encodedQuery = encodeURIComponent(query ? query : '');\r\n    return await LbAPI\r\n        .get(`/search/${universeID}/?q=${encodedQuery}${queryParamsString}&limit=${elementsPerPage}&offset=${page}`)\r\n        .then((response) => {\r\n            const searchResult = {\r\n                elements: universeElementsMapper(response.data.rows),\r\n                totalPages: Math.ceil(response.data.count / elementsPerPage)\r\n            };\r\n            return searchResult;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nexport {\r\n    getUniverseElementsShortLists,\r\n    getSearchedUniverseElements\r\n}","import { render } from \"./UniverseElements.vue?vue&type=template&id=1c84b137\"\nimport script from \"./UniverseElements.vue?vue&type=script&lang=js\"\nexport * from \"./UniverseElements.vue?vue&type=script&lang=js\"\n\nimport \"./UniverseElements.vue?vue&type=style&index=0&id=1c84b137&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"universe-stories\">\r\n    <div class=\"universe-stories__header\">\r\n      <div class=\"universe-stories__header-part\"></div>\r\n      <div class=\"universe-stories__header-part universe-stories__header-part--title\">\r\n        Your Stories\r\n      </div>\r\n      <div class=\"universe-stories__header-part\">\r\n        <lb-button icon=\"lb-plus\" :size=\"1.2\" @click=\"openPopup\">Create new Story</lb-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"universe-stories__list\">\r\n      <div class=\"util__horizontal-line--black\"></div>\r\n      <div class=\"universe-stories__list-elements\" :style=\"storiesListVisibility\">\r\n        <lb-story-element v-for=\"(story, index) in storiesList\" :key=\"index\"\r\n                          :id=\"story.id\"\r\n                          :title=\"story.title\"\r\n                          :initDescription=\"story.description\"\r\n                          :chapterCount=\"story.chapterCount\"\r\n                          @onDelete=\"removeStory\">\r\n        </lb-story-element>\r\n        <div class=\"universe-stories__list--no-content\" v-if=\"storiesList.length == 0\">\r\n          No Stories in this Universe\r\n        </div>\r\n      </div>\r\n      <lb-spinner v-if=\"loading\"></lb-spinner>\r\n    </div>\r\n    <create-story-popup v-if=\"isPopupOpen\" :isOpen=\"isPopupOpen\" @close=\"closePopup\" @onResult=\"addStory\"></create-story-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CreateStoryPopup from '@/popups/CreateStoryPopup.vue';\r\nimport LbStoryElement from '@/components/LbStoryElement.vue';\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport { getUniverseStoryList, deleteStory } from '@/httpLayers/story.http.js';\r\n\r\nexport default {\r\n  name: 'UniverseStories',\r\n  components: {\r\n    CreateStoryPopup,\r\n    LbStoryElement\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      storiesList: [],\r\n      isPopupOpen: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID']),\r\n    storiesListVisibility() {\r\n      return this.loading ? 'visibility: hidden;' : '';\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    openPopup() {\r\n      this.isPopupOpen = true;\r\n    },\r\n    closePopup() {\r\n      this.isPopupOpen = false;\r\n    },\r\n    addStory(newStory) {\r\n      const storyToAdd = {...newStory};\r\n      storyToAdd.chapterCount = 0;\r\n      this.storiesList.push(storyToAdd);\r\n    },\r\n    async removeStory(id) {\r\n      const chapterCount = this.storiesList.find(s => (s.id === id)).chapterCount;\r\n      try {\r\n        if (chapterCount > 0) {\r\n          if (confirm('Do you really want delete this story? This cannot be undone.')) {\r\n            await deleteStory(id);\r\n            this.storiesList = this.storiesList.filter(s => (s.id !== id));\r\n          }\r\n        } else {\r\n          await deleteStory(id);\r\n          this.storiesList = this.storiesList.filter(s => (s.id !== id));\r\n        }\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async fetchListOfStories() {\r\n      try {\r\n        this.loading = true;\r\n        this.storiesList = await getUniverseStoryList(this.universeID);\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchListOfStories();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.universe-stories {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-top: 2em;\r\n  gap: 1em;\r\n  max-width: 100%;\r\n\r\n  .universe-stories__header {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 90%;\r\n\r\n    .universe-stories__header-part {\r\n      display: flex;\r\n      flex: 1;\r\n      justify-content: flex-end;\r\n\r\n      &--title {\r\n        justify-content: center;\r\n        font-size: 2rem;\r\n        font-weight: 600;\r\n      }\r\n    }\r\n  }\r\n\r\n  .universe-stories__list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 90%;\r\n    position: relative;\r\n\r\n    .universe-stories__list-elements {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      width: 100%;\r\n      padding: 0.2em;\r\n      gap: 0.7em;\r\n\r\n      .universe-stories__list--no-content {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding: 3em 6em;\r\n        border-radius: 10px;\r\n        background-color: @secondary-color;\r\n        color: @light-text-color;\r\n        font-size: 1.5rem;\r\n        font-weight: 500;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <lb-popup-box :isOpen=\"isOpen\" title=\"Create Story\" @close=\"close\">\r\n    <div class=\"create-story-popup\" :style=\"setVisibilityOnLoading\">\r\n      <div class=\"create-story-popup__form\">\r\n        <lb-input name=\"Story Title\"\r\n                          :maxLength=\"80\"\r\n                          :value=\"title.value\"\r\n                          @update:value=\"setTitle\"\r\n                          :error=\"title.errorMsg\"></lb-input>\r\n        <lb-input name=\"Description\" type=\"textarea\" v-model:value=\"description\" :maxLength=\"500\"></lb-input>\r\n      </div>\r\n      <div class=\"create-story-popup__buttons\">\r\n        <lb-button variant=\"outline\" :size=\"1.4\" @click=\"close\">Cancel</lb-button>\r\n        <lb-button variant=\"positive\" :size=\"1.4\" @click=\"create\" :disabled=\"!isFormValid\">Create</lb-button>\r\n      </div>\r\n    </div>\r\n    <lb-spinner size=\"50px\" v-if=\"loading\"></lb-spinner>\r\n  </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport LbInput from '../components/LbInput.vue';\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nimport { createStory } from '@/httpLayers/story.http.js';\r\n\r\nexport default {\r\n  name: 'CreateStoryPopup',\r\n  components: {\r\n    LbInput\r\n  },\r\n  props: {\r\n    isOpen: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  emits: [\"close\", \"onResult\"],\r\n  data() {\r\n    return {\r\n      title: {\r\n        value: '',\r\n        errorMsg: ''\r\n      },\r\n      description: '',\r\n      loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID']),\r\n    setVisibilityOnLoading() {\r\n      return this.loading ? 'visibility: hidden;' : 'visibility: visible;';\r\n    },\r\n    isFormValid() {\r\n     if(this.title.errorMsg == '') {\r\n        if(this.title.value.length > 0) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    setTitle(newValue) {\r\n      this.title.errorMsg = '';\r\n      this.title.value = newValue;\r\n      if (newValue.length < 1) {\r\n        this.title.errorMsg = 'Title cannot be empty!';\r\n      }\r\n    },\r\n    async create() {\r\n      this.loading = true;\r\n      try {\r\n        const createdStory = await createStory({\r\n          title: this.title.value,\r\n          description: this.description,\r\n          universeID: this.universeID\r\n        });\r\n        this.$emit('onResult', createdStory);\r\n        this.close();\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: error.message});\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    close() {\r\n      this.title = {\r\n        value: '',\r\n        errorMsg: ''\r\n      },\r\n      this.description = '';\r\n      this.$emit('close');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.create-story-popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 1em;\r\n  width: 800px;\r\n\r\n  .create-story-popup__form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 25px;\r\n  }\r\n\r\n  .create-story-popup__buttons {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>","import LbAPI from \"./LbAPI.js\";\r\n\r\nasync function getStory(id) {\r\n  return await LbAPI\r\n    .get(`/stories/${id}`)\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      if (error.response && error.response.data.message) {\r\n        if (error.response.status == 404) {\r\n          throw new NotFoundException(`${error.response.data.message}`);\r\n        }\r\n        throw new Error(`${error.response.data.message}`);\r\n      } else if (error.request) {\r\n          throw new Error(\"Service refused connection\");\r\n      } else {\r\n          throw new Error(\"Undefined error\");\r\n        }\r\n  });\r\n};\r\n\r\nasync function createStory({title, description, universeID}) {\r\n  return await LbAPI\r\n      .post(`/stories`, {title, description, universeID})\r\n      .then((response) => {\r\n          return response.data;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              const err = new Error(`${error.response.data.message}`);\r\n              throw err;\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function getUniverseStoryList(universeID) {\r\n  return await LbAPI\r\n    .get(`/stories/universe/${universeID}/list`)\r\n    .then((response) => {\r\n        return response.data;\r\n    })\r\n    .catch((error) => {\r\n        if (error.response && error.response.data.message) {\r\n            const err = new Error(`${error.response.data.message}`);\r\n            throw err;\r\n        } else if (error.request) {\r\n            throw new Error(\"Service refused connection\");\r\n        } else {\r\n            throw new Error(\"Undefined error\");\r\n        }\r\n    });\r\n};\r\n\r\nasync function updateStory(id, fields) {\r\n  return await LbAPI\r\n    .patch(`/stories/${id}`, fields)\r\n    .then(() => {\r\n        return true;\r\n    })\r\n    .catch((error) => {\r\n        if (error.response && error.response.data.message) {\r\n            const err = new Error(`${error.response.data.message}`);\r\n            throw err;\r\n        } else if (error.request) {\r\n            throw new Error(\"Service refused connection\");\r\n        } else {\r\n            throw new Error(\"Undefined error\");\r\n        }\r\n    });\r\n};\r\n\r\nasync function deleteStory(id) {\r\n    return await LbAPI\r\n      .delete(`/stories/${id}`)\r\n      .then(() => {\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        if (error.response && error.response.data.message) {\r\n          const err = new Error(`${error.response.data.message}`);\r\n          throw err;\r\n        } else if (error.request) {\r\n          throw new Error(\"Service refused connection\");\r\n        } else {\r\n          throw new Error(\"Undefined error\");\r\n        }\r\n    });\r\n};\r\n\r\nexport {\r\n  getStory,\r\n  createStory,\r\n  getUniverseStoryList,\r\n  updateStory,\r\n  deleteStory\r\n};","import { render } from \"./CreateStoryPopup.vue?vue&type=template&id=0d784db4\"\nimport script from \"./CreateStoryPopup.vue?vue&type=script&lang=js\"\nexport * from \"./CreateStoryPopup.vue?vue&type=script&lang=js\"\n\nimport \"./CreateStoryPopup.vue?vue&type=style&index=0&id=0d784db4&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"lb-story-element\">\r\n    <div class=\"lb-story-element__header\">\r\n      <div class=\"lb-story-element__header-part\">\r\n        <span class=\"lb-story-element__link\" @click=\"navigateToStory\">{{ title }}</span>\r\n        <span class=\"lb-story-element__vertical-line\"></span>\r\n        <span class=\"lb-story-element__count\">{{ chapterCountText }}</span>\r\n      </div>\r\n      <div class=\"lb-story-element__header-part\">\r\n        <lb-button variant=\"negative\" icon=\"lb-trash\" :size=\"1.05\" @click=\"deleteStory\" class=\"lb-story-element__delete-btn\"></lb-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"util__horizontal-line--white\"></div>\r\n    <div class=\"lb-story-element__content\">\r\n      <label class=\"lb-story-element__description-label\">\r\n        Description\r\n      </label>\r\n      <lb-editable-text :maxLength=\"500\"\r\n                        noContent=\"No Description\"\r\n                        type=\"textarea\"\r\n                        width=\"100%\"\r\n                        :value=\"description\"\r\n                        @onSave=\"changeDescription\">\r\n      </lb-editable-text>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbEditableText from './LbEditableText.vue';\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport { updateStory } from '@/httpLayers/story.http.js';\r\n\r\nexport default {\r\n  name: 'LbStoryElement',\r\n  components: {\r\n    LbEditableText\r\n  },\r\n  emits: ['onDelete'],\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    title: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    initDescription: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    chapterCount: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      description: this.initDescription\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID']),\r\n    navigateToStory() {\r\n      this.$router.push({\r\n        name: 'StoryChaptersPage',\r\n        params: {\r\n          universeID: this.universeID,\r\n          storyID: this.id\r\n        }\r\n      });\r\n    },\r\n    chapterCountText() {\r\n      return `${this.chapterCount} Chapters`;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    async changeDescription(newDescription) {\r\n      try {\r\n        await updateStory(this.id, { description: newDescription });\r\n        this.description = newDescription;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    deleteStory() {\r\n      this.$emit('onDelete', this.id);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-story-element {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  background-color: @secondary-color;\r\n  padding: 0.5em;\r\n  border-radius: 10px;\r\n\r\n  &:hover {\r\n    .lb-story-element__delete-btn {\r\n      visibility: visible;\r\n    }\r\n  }\r\n\r\n  .lb-story-element__header {\r\n    display: flex;\r\n    width: 100%;\r\n    justify-content: space-between;\r\n    padding: 0.2em;\r\n\r\n    .lb-story-element__header-part {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 5px;\r\n\r\n      .lb-story-element__link {\r\n        font-size: 1.5rem;\r\n        color: @green-light-color;\r\n        cursor: pointer;\r\n\r\n        &:hover {\r\n          color: @green-shrek-color;\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n\r\n      .lb-story-element__vertical-line {\r\n        height: 1.5rem;\r\n        border-right: 1px solid @light-text-color;\r\n      }\r\n\r\n      .lb-story-element__count {\r\n        color: @neutral-color;\r\n      }\r\n    }\r\n  }\r\n\r\n  .lb-story-element__delete-btn {\r\n    visibility: hidden;\r\n  }\r\n\r\n  .lb-story-element__content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: @light-text-color;\r\n    padding: 0.3em;\r\n\r\n    .lb-story-element__description-label {\r\n      font-size: 0.9rem;\r\n      color: @neutral-color;\r\n      font-weight: 300;\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LbStoryElement.vue?vue&type=template&id=9c927650\"\nimport script from \"./LbStoryElement.vue?vue&type=script&lang=js\"\nexport * from \"./LbStoryElement.vue?vue&type=script&lang=js\"\n\nimport \"./LbStoryElement.vue?vue&type=style&index=0&id=9c927650&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UniverseStories.vue?vue&type=template&id=3316b44e\"\nimport script from \"./UniverseStories.vue?vue&type=script&lang=js\"\nexport * from \"./UniverseStories.vue?vue&type=script&lang=js\"\n\nimport \"./UniverseStories.vue?vue&type=style&index=0&id=3316b44e&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UniverseMainPage.vue?vue&type=template&id=5890d9ea\"\nimport script from \"./UniverseMainPage.vue?vue&type=script&lang=js\"\nexport * from \"./UniverseMainPage.vue?vue&type=script&lang=js\"\n\nimport \"./UniverseMainPage.vue?vue&type=style&index=0&id=5890d9ea&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"lb-universe-nav\">\r\n    <router-link class=\"lb-universe-nav__universe-button\" :to=\"`/universe/${universeID}`\">\r\n      <div class=\"lb-universe-nav__universe-button-header\">\r\n        <span>Universe</span>\r\n      <div class=\"util__horizontal-line--white\"></div>\r\n      </div>\r\n      <span class=\"lb-universe-nav__universe-link\">\r\n        {{ universeName }}\r\n      </span>\r\n    </router-link>\r\n    <button class=\"lb-universe-nav__button\" @click=\"openUniverseElementPopup\">\r\n      <icon icon=\"lb-plus-square\"></icon>\r\n      <span class=\"lb-universe-nav__button-text\">Create Element</span>\r\n    </button>\r\n    <button class=\"lb-universe-nav__button\" @click=\"openCategoriesPopup\">\r\n      <icon icon=\"lb-folder\"></icon>\r\n      <span class=\"lb-universe-nav__button-text\">Categories</span>\r\n    </button>\r\n    <button class=\"lb-universe-nav__button\" @click=\"openTagsPopup\">\r\n      <icon icon=\"lb-tags\"></icon>\r\n      <span class=\"lb-universe-nav__button-text\">Tags</span>\r\n    </button>\r\n    <button class=\"lb-universe-nav__button\" @click=\"navigateToSearch\">\r\n      <icon icon=\"lb-search\"></icon>\r\n      <span class=\"lb-universe-nav__button-text\">Search</span>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex';\r\n\r\nexport default {\r\n    name: 'LbUniverseNav',\r\n    computed: {\r\n      ...mapGetters('universe', ['universeName', 'universeID']),\r\n    },\r\n    methods: {\r\n      ...mapMutations('popups', ['openCategoriesPopup', 'openUniverseElementPopup', 'openTagsPopup']),\r\n      navigateToSearch() {\r\n        this.$router.push({\r\n          name: 'SearchPage',\r\n          params: {\r\n            universeID: this.universeID\r\n          }\r\n        });\r\n      }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-universe-nav {\r\n  display: flex;\r\n  height: 100%;\r\n  gap: 0.4em;\r\n  width: 100%;\r\n\r\n  .lb-universe-nav__universe-button {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: stretch;\r\n    background-color: @accent-color;\r\n    color: @light-text-color;\r\n    max-width: 300px;\r\n    text-decoration: none;\r\n\r\n    &:hover {\r\n      background-color: @accent-darker-color;\r\n    }\r\n\r\n    .lb-universe-nav__universe-button-header {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .lb-universe-nav__universe-link {\r\n      font-size: 0.9rem;\r\n      text-align: center;\r\n      color: @light-text-color;\r\n    }\r\n  }\r\n\r\n  .lb-universe-nav__button {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border: none;\r\n    gap: 10px;\r\n    font-size: 1.2rem;\r\n    background-color: @accent-color;\r\n    color: @light-text-color;\r\n\r\n    &:hover {\r\n      background-color: @accent-darker-color;\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LbUniverseNav.vue?vue&type=template&id=3f7c81ae\"\nimport script from \"./LbUniverseNav.vue?vue&type=script&lang=js\"\nexport * from \"./LbUniverseNav.vue?vue&type=script&lang=js\"\n\nimport \"./LbUniverseNav.vue?vue&type=style&index=0&id=3f7c81ae&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"category-page\">\r\n    <router-view v-if=\"!this.loading\" :categoryName=\"categoryName\"></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCategory } from '@/httpLayers/category.http.js';\r\nimport { mapMutations } from 'vuex';\r\nimport { isCategoryHardcoded } from '@/utils.js';\r\n\r\nexport default {\r\n    name: 'CategoryPage',\r\n    props: {\r\n      universeID: String,\r\n    },\r\n    data() {\r\n      return {\r\n        loading: true,\r\n        categoryName: '',\r\n      };\r\n    },\r\n    methods: {\r\n      ...mapMutations('notifications', ['notify']),\r\n      async fetchCategory(categoryID) {\r\n        this.loading = true;\r\n        try {\r\n          if ( !isCategoryHardcoded(categoryID) ) {\r\n            const category = await getCategory(categoryID);\r\n            if (this.universeID != category.Universe_id) {\r\n              throw new Error('This category does not belong to this universe');\r\n            }\r\n            this.categoryName = category.name;\r\n          } else {\r\n            this.categoryName = categoryID;\r\n          }\r\n          this.loading = false;\r\n        } catch (err) {\r\n          this.notify({type: 'negative', message: `Error: ${err.message}`});\r\n          this.$router.replace({ name: 'UniverseMainPage', params: { universeID: this.universeID }});\r\n        }\r\n      }\r\n    },\r\n    async mounted() {\r\n      await this.fetchCategory(this.$route.params.categoryID);\r\n    },\r\n    async beforeRouteUpdate(to, from) {\r\n      await this.fetchCategory(to.params.categoryID);\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.category-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n</style>","\r\nfunction isCategoryHardcoded(categoryID) {\r\n    return ['Locations', 'Characters', 'Events'].includes(categoryID);\r\n}\r\n\r\nexport {\r\n    isCategoryHardcoded\r\n};","import { render } from \"./CategoryPage.vue?vue&type=template&id=2e296aae\"\nimport script from \"./CategoryPage.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryPage.vue?vue&type=script&lang=js\"\n\nimport \"./CategoryPage.vue?vue&type=style&index=0&id=2e296aae&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"category-elements-page\">\r\n    <div class=\"category-elements-page__search-section\">\r\n      <lb-search-bar :placeholder=\"`Search elements in ${categoryName}`\" @search=\"search\" :text=\"searchText\"></lb-search-bar>\r\n    </div>\r\n    <div class=\"category-elements-page__results\">\r\n      <lb-universe-element-list\r\n            :categoryID=\"categoryID\"\r\n            :title=\"categoryName\"\r\n            :elements=\"elements\"\r\n            :elementCount=\"elementCount\"\r\n            :footerLink=\"false\"\r\n            :interactive=\"true\"\r\n            :loading=\"loading\"\r\n            @onDelete=\"deleteElement\">\r\n      </lb-universe-element-list>\r\n      <lb-page-nav :currentPage=\"currentPage\" :totalPages=\"totalPages\" @go=\"changePage\" v-if=\"isPageNavNeeded\"></lb-page-nav>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport LbPageNav from '../../components/LbPageNav.vue';\r\nimport LbSearchBar from '../../components/LbSearchBar.vue';\r\nimport LbUniverseElementList from '../../components/LbUniverseElementList.vue';\r\nimport { searchCharacters, deleteCharacter } from '@/httpLayers/character.http.js';\r\nimport { searchEntries, deleteEntry } from '@/httpLayers/entry.http.js';\r\nimport { searchLocations, deleteLocation } from '@/httpLayers/location.http.js';\r\nimport { searchEvents, deleteEvent } from '@/httpLayers/event.http.js';\r\nimport { searchElements } from '@/httpLayers/universeElement.interface.js';\r\n\r\nexport default {\r\n  components: {\r\n    LbSearchBar,\r\n    LbUniverseElementList,\r\n    LbPageNav\r\n  },\r\n  name: 'CategoryElementsPage',\r\n  props: {\r\n    categoryID: {\r\n        type: String\r\n    },\r\n    categoryName: {\r\n      type: String,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      elements: [],\r\n      elementCount: 0,\r\n      currentPage: 1,\r\n      totalPages: 1,\r\n      loading: false,\r\n      searchText: '',\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID']),\r\n    isPageNavNeeded() {\r\n      return !this.loading && this.totalPages > 1;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    async fetchElements(queryText, page) {\r\n      let newPage = page;\r\n      if (this.searchText !== queryText) {\r\n        this.currentPage = 1;\r\n        newPage = 1;\r\n      }\r\n      this.searchText = queryText;\r\n      const elementsPerPage = 50;\r\n      this.loading = true;\r\n      try {\r\n        const offset = newPage !== 0 ? (newPage * elementsPerPage) - elementsPerPage : 0;\r\n        const result = await searchElements(this.universeID, queryText, elementsPerPage, offset, this.categoryID)\r\n        this.elementCount = result.elementCount;\r\n        this.elements = result.elements;\r\n        this.totalPages = result.totalPages;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async search(queryText) {\r\n      const page = this.currentPage == 1 ? 0 : this.currentPage;\r\n      await this.fetchElements(queryText, page);\r\n    },\r\n    async changePage(newPageNumber) {\r\n      this.currentPage = newPageNumber;\r\n      await this.search(this.searchText);\r\n    },\r\n    async deleteElement({id, categoryID}) {\r\n      if (confirm('Are yo sure that you want delete this element?')) {\r\n        this.loading = true;\r\n      try {\r\n        let result = null;\r\n        switch (categoryID) {\r\n          case 'Locations':\r\n            result = await deleteLocation(id);\r\n            break;\r\n          case 'Characters':\r\n            result = await deleteCharacter(id);\r\n            break;\r\n          case 'Events':\r\n            result = await deleteEvent(id);\r\n            break;\r\n          default:\r\n            result = await deleteEntry(id);\r\n            break;\r\n        }\r\n        if (result) {\r\n          this.notify({type: 'positive', message: `Successfully deleted element`});\r\n          await this.search(this.searchText);\r\n        }\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n    }\r\n  },\r\n  watch: {\r\n    async categoryID() {\r\n      this.searchText = '';\r\n      this.currentPage = 1;\r\n      await this.fetchElements('', 0);\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchElements('', 0);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\r\n.category-elements-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  position: relative;\r\n\r\n  .category-elements-page__search-section {\r\n    width: 800px;\r\n    margin-bottom: 20px;\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .category-elements-page__results {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 80%;\r\n    gap: 1em;\r\n  }\r\n}\r\n</style>","import { render } from \"./CategoryElementsPage.vue?vue&type=template&id=59c75046\"\nimport script from \"./CategoryElementsPage.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryElementsPage.vue?vue&type=script&lang=js\"\n\nimport \"./CategoryElementsPage.vue?vue&type=style&index=0&id=59c75046&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"element-page\">\r\n    <div class=\"element-page__side-panel\">\r\n       <div class=\"side-panel__info\">\r\n        <div class=\"side-panel__info-content\" :style=\"sideInfoVisibility\">\r\n            <lb-editable-text :value=\"name\"\r\n                          :maxLength=\"60\"\r\n                          width=\"100%\"\r\n                          @onSave=\"saveName\"\r\n                          customClass=\"side-panel__title\">\r\n            </lb-editable-text>\r\n            <div class=\"util__horizontal-line--white\"></div>\r\n            <lb-editable-text :value=\"description\"\r\n                            :maxLength=\"250\"\r\n                            width=\"100%\"\r\n                            type=\"textarea\"\r\n                            @onSave=\"saveDescription\"\r\n                            customClass=\"side-panel__description\"\r\n                            noContent=\"No description\">\r\n            </lb-editable-text>\r\n            <component v-if=\"element !== null\" :is=\"specificElement\" :element=\"element\"></component>\r\n            <h3 class=\"side-panel__header-text\">\r\n                <icon icon=\"lb-tags\"></icon>\r\n                Tags\r\n            </h3>\r\n            <lb-tag-container :tags=\"tags\"\r\n                              @addTag=\"addTag\"\r\n                              @removeTag=\"removeTag\"\r\n                              :loading=\"contentLoading\"\r\n                              :buttonLoading=\"tagLoading\">\r\n            </lb-tag-container>\r\n        </div>\r\n        <lb-spinner v-if=\"elementLoading\"></lb-spinner>\r\n       </div>\r\n       <div class=\"side-panel__bottom-button\">\r\n         <lb-button variant=\"negative\" icon=\"lb-trash\" :size=\"1.2\" @click=\"deleteCurrentElement\" :loading=\"deleteLoading\">Delete Element</lb-button>\r\n       </div>\r\n    </div>\r\n    <div class=\"element-page__content\">\r\n        <lb-content v-if=\"!contentLoading\" :elementID=\"parseInt(elementID)\" :categoryID=\"categoryID\"></lb-content>\r\n        <lb-spinner v-if=\"contentLoading\"></lb-spinner>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbEditableText from '@/components/LbEditableText.vue';\r\nimport LbContent from '@/components/contentElements/LbContent.vue';\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport { getElement, updateElement, deleteElement } from '@/httpLayers/universeElement.interface.js'\r\nimport { NotFoundException } from '@/domain/errors.js';\r\nimport { getFullContent } from '@/httpLayers/content.http.js'\r\nimport { createTagInContent, deleteTagFromContent } from '@/httpLayers/tag.http.js';\r\nimport contentElementType from '@/domain/contentElementTypes.js';\r\nimport LbTagContainer from '@/components/LbTagContainer.vue';\r\nimport EventDateSection from './EventDateSection.vue';\r\nimport LocationParentSection from './LocationParentSection.vue';\r\nimport DummyComponent from './DummyComponent.vue';\r\n\r\nexport default {\r\n    name: 'ElementPage',\r\n    components: {\r\n        LbEditableText,\r\n        LbContent,\r\n        LbTagContainer,\r\n        EventDateSection,\r\n        DummyComponent,\r\n        LocationParentSection\r\n    },\r\n    props: {\r\n        elementID: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n        categoryID: {\r\n            type: String,\r\n            required: true,\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            name: '',\r\n            description: '',\r\n            element: null,\r\n            elementLoading: false,\r\n            contentLoading: true,\r\n            deleteLoading: false,\r\n            tags: [],\r\n            tagLoading: false\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters('universe', ['universeID']),\r\n        ...mapGetters('element', ['contentID']),\r\n        sideInfoVisibility() {\r\n            return this.elementLoading ? 'visibility: hidden;' : 'visibility: visible;';\r\n        },\r\n        specificElement() {\r\n            if (this.categoryID == 'Events') return 'EventDateSection';\r\n            if (this.categoryID == 'Locations') return 'LocationParentSection';\r\n            return 'DummyComponent';\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations('notifications', ['notify']),\r\n        ...mapMutations('element', ['setContent', 'setContentID', 'clearContent']),\r\n        async fetchElement(categoryID, elementID) {\r\n            this.element = null;\r\n            const catID = categoryID ? categoryID : this.categoryID;\r\n            const elID = elementID ? elementID : this.elementID;\r\n            this.elementLoading = true;\r\n            try {\r\n                const element = await getElement(elID, catID);\r\n                if (element) {\r\n                  if (element.Universe_id != null && element.Universe_id != this.universeID) {\r\n                    throw new NotFoundException(\"This element does not belong to this universe!\");\r\n                  }\r\n                  this.name = element.name;\r\n                  this.description = element.description;\r\n                  this.element = element;\r\n                  return true;\r\n                }\r\n            } catch (error) {\r\n                this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n                if (error instanceof NotFoundException) {\r\n                    this.$router.replace({ name: 'ElementNotFoundPage', params: { universeID: this.universeID }});\r\n                }\r\n                return false;\r\n            } finally {\r\n                this.elementLoading = false;\r\n            }\r\n        },\r\n        async fetchFullContent() {\r\n            this.contentLoading = true;\r\n            try {\r\n                this.clearContent();\r\n                const content = await getFullContent(this.elementID, this.categoryID);\r\n                this.setContentID(content.contentID);\r\n                const elements = content.configuration.map(el => {\r\n                    if (el.type == contentElementType.text) {\r\n                        return content.texts.find(t => (t.id == el.id));\r\n                    } else if (el.type == contentElementType.list) {\r\n                        return content.lists.find(t => (t.id == el.id));\r\n                    } else if (el.type == contentElementType.linkGroup) {\r\n                        return content.linkGroups.find(t => (t.id == el.id));\r\n                    } else if (el.type == contentElementType.imageGroup) {\r\n                        return content.imageGroups.find(t => (t.id == el.id));\r\n                    }\r\n                });\r\n                this.tags = content.tags;\r\n                this.setContent(elements);\r\n            } catch (error) {\r\n                this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n            } finally {\r\n                this.contentLoading = false;\r\n            }\r\n        },\r\n        async saveName(newName) {\r\n            try {\r\n                if (newName.length < 1) {\r\n                    throw new Error(`Cannot save Name: It should have at least 1 character`)\r\n                }\r\n                await updateElement(this.elementID, {name: newName}, this.categoryID);\r\n                this.name = newName;\r\n            } catch (error) {\r\n                this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n            }\r\n        },\r\n        async saveDescription(newDescription) {\r\n            try {\r\n                await updateElement(this.elementID, {description: newDescription}, this.categoryID);\r\n                this.description = newDescription;\r\n            } catch (error) {\r\n                this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n            }\r\n        },\r\n        async addTag(tagName) {\r\n            try {\r\n              this.tagLoading = true;\r\n              const newTag = await createTagInContent(tagName, this.contentID, this.universeID);\r\n              this.tags.push({id: newTag.id, name: tagName});\r\n            } catch (error) {\r\n              this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n            } finally {\r\n                this.tagLoading = false;\r\n            }\r\n        },\r\n        async removeTag(id) {\r\n            try {\r\n                this.tagLoading = true;\r\n                await deleteTagFromContent(id, this.contentID);\r\n                this.tags = this.tags.filter(t => (t.id !== id));\r\n            } catch (error) {\r\n                this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n            } finally {\r\n                this.tagLoading = false;\r\n            }\r\n        },\r\n        async deleteCurrentElement() {\r\n            try {\r\n                this.deleteLoading = true;\r\n                if (confirm('Do you want delete this element? It cannot be undone!')) {\r\n                    await deleteElement(this.elementID, this.categoryID);\r\n                    this.$router.replace({\r\n                        name: 'UniverseMainPage',\r\n                        params: {\r\n                            universeID: this.universeID\r\n                        }\r\n                    });\r\n                    this.clearContent();\r\n                }\r\n            } catch (error) {\r\n                this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n            } finally {\r\n                this.deleteLoading = false;\r\n            }\r\n        },\r\n        async init(categoryID, elementID) {\r\n            const success = await this.fetchElement(categoryID, elementID);\r\n            if (success) {\r\n                this.fetchFullContent(categoryID, elementID);\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        async $route(newRoute) {\r\n          if (newRoute.name === 'ElementPage') {\r\n            await this.init(newRoute.params.categoryID, newRoute.params.elementID);\r\n          }\r\n        }\r\n    },\r\n    async mounted() {\r\n       await this.init();\r\n    },\r\n    beforeRouteLeave(to, from) {\r\n        this.clearContent();\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../../common.less\";\r\n\r\n.element-page {\r\n    display: flex;\r\n    width: 100%;\r\n    min-height: 95vh;\r\n\r\n    .element-page__side-panel {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        width: ~\"max(15%, 200px)\";\r\n        background-color: @primary-side-color;\r\n        padding: 0.5em 0em;\r\n\r\n        .side-panel__info {\r\n            display: flex;\r\n            flex-direction: column;\r\n            width: 100%;\r\n            padding: 0px 5px;\r\n            color: @light-text-color;\r\n            gap: 0.4em;\r\n            position: relative;\r\n\r\n            .side-panel__info-content {\r\n                display: flex;\r\n                flex-direction: column;\r\n                gap: 0.4em;\r\n            }\r\n\r\n            input, textarea {\r\n                color: @dark-text-color;\r\n            }\r\n\r\n            .side-panel__header-text {\r\n                display: flex;\r\n                align-items: center;\r\n                gap: 5px;\r\n                margin: 0;\r\n                width: 100%;\r\n                font-size: 1.1rem;\r\n                font-weight: 600;\r\n            }\r\n\r\n            .side-panel__title {\r\n                .lb-editable-text__text, .lb-editable-text__input {\r\n                    text-align: center;\r\n                    font-size: 1.1rem;\r\n                    font-weight: 500;\r\n                }\r\n\r\n            }\r\n\r\n            .side-panel__description {\r\n                padding-bottom: 2em;\r\n                .lb-editable-text__text, .lb-editable-text__input {\r\n                    font-size: 1rem;\r\n                }\r\n            }\r\n        }\r\n\r\n        .side-panel__bottom-button {\r\n            position: fixed;\r\n            bottom: 1em;\r\n        }\r\n    }\r\n\r\n    .element-page__content {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        flex: 1;\r\n        padding: 1em;\r\n        position: relative;\r\n    }\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"lb-content\">\r\n    <div class=\"lb-content__menu\">\r\n      <lb-menu-button icon=\"lb-plus\"\r\n                      :size=\"1.2\"\r\n                      :options=\"options\"\r\n                      :loading=\"createLoading\"\r\n                      @click=\"clickOnMenuBtn\"\r\n                      class=\"lb-content__button-btn\">\r\n      </lb-menu-button>\r\n    </div>\r\n    <div class=\"lb-content__elements\" v-if=\"contentElements.length\">\r\n      <component v-for=\"(el, index) in contentElements\"\r\n               :is=\"componentType(el.type)\"\r\n               :key=\"{id: el.id, type: el.type}\"\r\n               :position=\"index\"\r\n               :isLast=\"isLast(index)\"\r\n               :contentID=\"contentID\"\r\n               :buttonsLoading=\"elementButtonsLoading\"\r\n               :elementID=\"elementID\"\r\n               :categoryID=\"categoryID\"\r\n               v-bind=\"el\"\r\n               @moveElement=\"moveElement\"\r\n               @deleteElement=\"removeElement\">\r\n      </component>\r\n    </div>\r\n    <div class=\"lb-content__empty\" v-if=\"contentElements.length == 0\">\r\n      No content elements yet\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport LbMenuButton from '@/components/LbMenuButton.vue';\r\nimport LbTextElement from '@/components/contentElements/LbTextElement.vue';\r\nimport LbListElement from '@/components/contentElements/LbListElement.vue';\r\nimport LbLinkGroupElement from '@/components/contentElements/LbLinkGroupElement.vue';\r\nimport LbImageGroupElement from '@/components/contentElements/LbImageGroupElement.vue';\r\nimport contentElementType from '@/domain/contentElementTypes.js';\r\nimport { updateContentConfig } from '@/httpLayers/content.http.js';\r\nimport { createContentElement, deleteContentElement } from '@/httpLayers/contentElement.interface.js';\r\n\r\nexport default {\r\n  name: 'LbContent',\r\n  components: {\r\n    LbMenuButton,\r\n    LbTextElement,\r\n    LbListElement,\r\n    LbLinkGroupElement,\r\n    LbImageGroupElement\r\n  },\r\n  props: {\r\n    elementID: Number,\r\n    categoryID: String\r\n  },\r\n  data() {\r\n    return {\r\n      options: [\r\n        {\r\n          id: 1,\r\n          name: 'Text',\r\n          type: contentElementType.text,\r\n          icon: 'lb-edit'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: 'List',\r\n          type: contentElementType.list,\r\n          icon: 'lb-list'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: 'Link Group',\r\n          type: contentElementType.linkGroup,\r\n          icon: 'lb-link'\r\n        },\r\n        {\r\n          id: 4,\r\n          name: 'Image Group',\r\n          type: contentElementType.imageGroup,\r\n          icon: 'lb-picture'\r\n        },\r\n      ],\r\n      createLoading: false,\r\n      elementButtonsLoading: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('element', ['config', 'contentID', 'contentElements']),\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    ...mapMutations('element', ['removeContentElement']),\r\n    async moveElement(positions) {\r\n      this.elementButtonsLoading = true;\r\n      const el = this.contentElements.splice(positions.oldPosition, 1)[0];\r\n      this.contentElements.splice(positions.newPosition, 0, el);\r\n      try {\r\n        await updateContentConfig(this.contentID, this.config);\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.elementButtonsLoading = false;\r\n      }\r\n    },\r\n    async removeElement(elToDel) {\r\n      try {\r\n        this.elementButtonsLoading = true;\r\n        await deleteContentElement(elToDel.id, this.contentID, elToDel.type);\r\n        this.removeContentElement(elToDel);\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n         this.elementButtonsLoading = false;\r\n      }\r\n    },\r\n    async clickOnMenuBtn(id) {\r\n      const type = this.options.find((o) => { return o.id == id }).type;\r\n      try {\r\n        this.createLoading = true;\r\n        let element = { title: `Title of ${type}` };\r\n        if (type == contentElementType.text) {\r\n          element.text = '';\r\n        }\r\n        const createdElement = await createContentElement(element, this.contentID, type);\r\n        element.id = createdElement.id;\r\n        element.type = type;\r\n        if (type == contentElementType.list) {\r\n          element.items = [];\r\n        }\r\n        if (type == contentElementType.linkGroup) {\r\n          element.links = [];\r\n        }\r\n        this.contentElements.push(element);\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.createLoading = false;\r\n      }\r\n    },\r\n    componentType(type) {\r\n      if (type == contentElementType.text) return 'LbTextElement';\r\n      if (type == contentElementType.list) return 'LbListElement';\r\n      if (type == contentElementType.linkGroup) return 'LbLinkGroupElement';\r\n      if (type == contentElementType.imageGroup) return 'LbImageGroupElement';\r\n    },\r\n    isLast(index) {\r\n      return this.contentElements.length-1 == index;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.lb-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n  position: relative;\r\n  padding-bottom: 150px;\r\n\r\n  .lb-content__menu {\r\n    display: flex;\r\n    width: 100%;\r\n\r\n    .lb-content__button-btn {\r\n      position: fixed;\r\n    }\r\n  }\r\n\r\n  .lb-content__elements {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 1em;\r\n    width: 80%;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"lb-menu-button\">\r\n    <div class=\"lb-menu-button__activator\">\r\n        <lb-button :size=\"size\" :icon=\"icon\" :disabled=\"disabled\" :loading=\"loading\" @click=\"clickActivator\">\r\n            <slot/>\r\n        </lb-button>\r\n    </div>\r\n    <div class=\"lb-menu-button__dropdown\" v-if=\"!disabled && !loading && isOpen\">\r\n        <div class=\"lb-menu-button__options\">\r\n            <div class=\"lb-menu-button__option\" v-for=\"option in options\" :key=\"option.id\" @click=\"clickOption(option.id)\" :style=\"optionSize\">\r\n                <icon v-if=\"option.icon\" :icon=\"option.icon\" class=\"lb-menu-button__option-icon\"></icon>\r\n                <span>{{ option.name }}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'LbMenuButton',\r\n    emits: ['click'],\r\n    props: {\r\n        size: {\r\n            type: Number,\r\n            required: false,\r\n            default: null\r\n        },\r\n        icon: {\r\n            type: String,\r\n            required: false\r\n        },\r\n        disabled: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: false\r\n        },\r\n        loading: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        options: {\r\n            type: Array,\r\n            default: [],\r\n            required: true,\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            isOpen: false\r\n        };\r\n    },\r\n    computed: {\r\n        optionSize() {\r\n            return `font-size: ${this.size}rem;`;\r\n        }\r\n    },\r\n    methods: {\r\n        clickActivator() {\r\n            this.isOpen = !this.isOpen;\r\n        },\r\n        clickOption(id) {\r\n            this.$emit('click', id);\r\n            this.isOpen = false;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-menu-button {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n\r\n    .lb-menu-button__dropdown {\r\n        display: flex;\r\n        flex-direction: column;\r\n        z-index: 9998;\r\n\r\n        .lb-menu-button__options {\r\n            display: flex;\r\n            flex-direction: column;\r\n            position: absolute;\r\n            box-shadow: 2px 2px 2px #727272;\r\n\r\n            .lb-menu-button__option {\r\n                display: flex;\r\n                align-items: center;\r\n                min-width: max-content;\r\n                padding: 0.5em;\r\n                color: @light-text-color;\r\n                background-color: @secondary-color;\r\n                cursor: pointer;\r\n                border-bottom: 1px solid @light-text-color;\r\n\r\n                &:last-child {\r\n                    border-bottom: none;\r\n                }\r\n\r\n                &:hover {\r\n                    background-color: @accent-color;\r\n                }\r\n\r\n                .lb-menu-button__option-icon {\r\n                    margin-right: 0.2em;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</style>","import { render } from \"./LbMenuButton.vue?vue&type=template&id=882bf14c\"\nimport script from \"./LbMenuButton.vue?vue&type=script&lang=js\"\nexport * from \"./LbMenuButton.vue?vue&type=script&lang=js\"\n\nimport \"./LbMenuButton.vue?vue&type=style&index=0&id=882bf14c&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <lb-content-element :title=\"title\"\r\n                      :isLast=\"isLast\"\r\n                      :position=\"position\"\r\n                      @changeTitle=\"changeTitle\"\r\n                      @moveElement=\"moveContentElement\"\r\n                      @removeElement=\"deleteElement\"\r\n                      :buttonsLoading=\"buttonsLoading\">\r\n    <div class=\"lb-text-element\">\r\n      <lb-editable-text :value=\"text\" type=\"textarea\" width=\"100%\" @onSave=\"saveText\"></lb-editable-text>\r\n    </div>\r\n  </lb-content-element>\r\n</template>\r\n\r\n<script>\r\nimport LbContentElement from \"./LbContentElement.vue\";\r\nimport LbEditableText from \"@/components/LbEditableText.vue\";\r\nimport LbContentElementMixin from './ContentElement.mixin.js';\r\nimport contentElementType from '@/domain/contentElementTypes.js';\r\nimport { updateText } from '@/httpLayers/text.http.js';\r\nimport { mapMutations, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'LbTextElement',\r\n  mixins: [LbContentElementMixin],\r\n  components: {\r\n    LbContentElement,\r\n    LbEditableText\r\n  },\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      elementType: contentElementType.text,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('element', ['getElementById']),\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    deleteElement() {\r\n      this.$emit('deleteElement', { id: this.id, type: this.elementType });\r\n    },\r\n    async changeTitle(newTitle) {\r\n      try {\r\n        await updateText(this.id, { title: newTitle }, this.contentID);\r\n        const element = this.getElementById(this.id, this.elementType);\r\n        element.title = newTitle;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async saveText(newText) {\r\n      try {\r\n        await updateText(this.id, { text: newText }, this.contentID);\r\n        const element = this.getElementById(this.id, this.elementType);\r\n        element.text = newText;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\r\n.lb-text-element {\r\n  display: flex;\r\n  flex: 1;\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"lb-content-element\">\r\n    <div class=\"lb-content-element__header\">\r\n        <lb-editable-text :value=\"title\"\r\n                          :maxLength=\"60\"\r\n                          :width=\"'100%'\"\r\n                          @onSave=\"changeTitle\"\r\n                          customClass=\"lb-content-element__title\">\r\n        </lb-editable-text>\r\n        <div class=\"lb-content-element__header-buttons\">\r\n            <lb-button variant=\"negative\" icon=\"lb-trash\" @click=\"$emit('removeElement')\" :size=\"1.2\" :loading=\"buttonsLoading\"></lb-button>\r\n        </div>\r\n    </div>\r\n    <div class=\"util__horizontal-line--black\"></div>\r\n    <div class=\"lb-content-element__body\">\r\n        <slot/>\r\n    </div>\r\n    <div class=\"lb-content-element__footer\">\r\n        <div class=\"lb-content-element__footer-buttons\">\r\n            <lb-button icon=\"lb-up\" :disabled=\"isUpBtnDisabled\" @click=\"moveContentElement(-1)\" :size=\"1.1\" :loading=\"buttonsLoading\"></lb-button>\r\n            <lb-button icon=\"lb-down\" :disabled=\"isLast\" @click=\"moveContentElement(1)\" :size=\"1.1\" :loading=\"buttonsLoading\"></lb-button>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbEditableText from '@/components/LbEditableText.vue';\r\n\r\nexport default {\r\n    name: 'LbContentElement',\r\n    components: {\r\n        LbEditableText\r\n    },\r\n    emits: ['moveElement', 'removeElement', 'changeTitle'],\r\n    props: {\r\n        position: {\r\n            type: Number,\r\n            required: true,\r\n        },\r\n        isLast: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        title: {\r\n            type: String,\r\n            default: 'Title'\r\n        },\r\n        buttonsLoading: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    computed: {\r\n        isUpBtnDisabled() {\r\n            return this.position - 1 < 0;\r\n        }\r\n    },\r\n    methods: {\r\n        moveContentElement(change) {\r\n            this.$emit('moveElement', this.position + change);\r\n        },\r\n        changeTitle(newTitle) {\r\n            this.$emit('changeTitle', newTitle);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.lb-content-element {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    background-color: @element-color;\r\n    border-radius: 10px;\r\n    padding: 0.5em;\r\n    gap: 0.2em;\r\n\r\n    &:hover {\r\n        .lb-content-element__footer {\r\n            .lb-content-element__footer-buttons {\r\n                visibility: visible;\r\n            }\r\n        }\r\n\r\n        .lb-content-element__header {\r\n            .lb-content-element__header-buttons {\r\n                visibility: visible;\r\n            }\r\n        }\r\n    }\r\n\r\n    .lb-content-element__header {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        gap: 10px;\r\n\r\n        .lb-content-element__title {\r\n            .lb-editable-text__text, .lb-editable-text__input {\r\n                font-size: 1.6rem;\r\n                font-weight: 500;\r\n            }\r\n        }\r\n\r\n        .lb-content-element__header-buttons {\r\n            visibility: hidden;\r\n        }\r\n    }\r\n\r\n    .lb-content-element__body {\r\n        display: flex;\r\n    }\r\n\r\n    .lb-content-element__footer {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n\r\n        .lb-content-element__footer-buttons {\r\n            display: flex;\r\n            gap: 0.5em;\r\n            visibility: hidden;\r\n        }\r\n    }\r\n}\r\n\r\n</style>","import { render } from \"./LbContentElement.vue?vue&type=template&id=41908fdb\"\nimport script from \"./LbContentElement.vue?vue&type=script&lang=js\"\nexport * from \"./LbContentElement.vue?vue&type=script&lang=js\"\n\nimport \"./LbContentElement.vue?vue&type=style&index=0&id=41908fdb&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const LbContentElementMixin = {\r\n  emits: ['moveElement', 'deleteElement'],\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    contentID: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    position: {\r\n        type: Number,\r\n        required: true,\r\n    },\r\n    isLast: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    title: {\r\n        type: String,\r\n        default: 'Title'\r\n    },\r\n    buttonsLoading: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  methods: {\r\n    moveContentElement(newPosition) {\r\n        this.$emit('moveElement', { oldPosition: this.position, newPosition });\r\n    },\r\n    /*changeTitle(newTitle) {\r\n        this.$emit('changeTitle', newTitle);\r\n    },*/\r\n  }\r\n};\r\n\r\nexport default LbContentElementMixin;","import LbAPI from \"./LbAPI.js\";\r\n\r\n/**\r\n *\r\n * @param {{ title: String, text: String }} fields\r\n * @param { Number } contentID\r\n */\r\nasync function createText(fields, contentID) {\r\n  let fieldsToSend = fields;\r\n  fieldsToSend.contentID = contentID;\r\n  return await LbAPI\r\n      .post(`/texts/`, fieldsToSend)\r\n      .then((response) => {\r\n          return response.data;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              throw new Error(`${error.response.data.message}`);\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function updateText(id, fields, contentID) {\r\n    return await LbAPI\r\n        .patch(`/texts/${id}/content/${contentID}`, fields)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                const err = new Error(`${error.response.data.message}`);\r\n                throw err;\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function deleteText(id, contentID) {\r\n  return await LbAPI\r\n      .delete(`/texts/${id}/content/${contentID}`)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              const err = new Error(`${error.response.data.message}`);\r\n              throw err;\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nexport {\r\n  createText,\r\n  updateText,\r\n  deleteText\r\n};","import { render } from \"./LbTextElement.vue?vue&type=template&id=00b73768\"\nimport script from \"./LbTextElement.vue?vue&type=script&lang=js\"\nexport * from \"./LbTextElement.vue?vue&type=script&lang=js\"\n\nimport \"./LbTextElement.vue?vue&type=style&index=0&id=00b73768&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <lb-content-element :title=\"title\"\r\n                      :isLast=\"isLast\"\r\n                      :position=\"position\"\r\n                      @changeTitle=\"changeTitle\"\r\n                      @moveElement=\"moveContentElement\"\r\n                      @removeElement=\"deleteElement\"\r\n                      :buttonsLoading=\"buttonsLoading\">\r\n    <div class=\"lb-list-element\">\r\n      <div class=\"lb-list-element__items\" v-if=\"items.length > 0\">\r\n        <div class=\"lb-list-element__item\" v-for=\"(item, index) in sortedItems\" :key=\"item.id\">\r\n          <lb-list-item :id=\"item.id\"\r\n                        :title=\"item.title\"\r\n                        :text=\"item.text\"\r\n                        :ordinalNumber=\"item.ordinalNumber\"\r\n                        :isLast=\"isItemLast(index)\"\r\n                        :contentID=\"contentID\"\r\n                        :listID=\"id\"\r\n                        @moveItem=\"moveItem\"\r\n                        @removeListItem=\"deleteItem\">\r\n          </lb-list-item>\r\n          <div class=\"util__horizontal-line--black\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"lb-list-element__no-content\" v-if=\"!items.length\">\r\n        No items\r\n      </div>\r\n      <div class=\"lb-list-element__button\">\r\n        <lb-button icon=\"lb-plus\" @click=\"addListItem\" :size=\"1.2\">Add list item</lb-button>\r\n      </div>\r\n    </div>\r\n  </lb-content-element>\r\n</template>\r\n\r\n<script>\r\nimport LbContentElement from \"./LbContentElement.vue\";\r\nimport LbContentElementMixin from './ContentElement.mixin.js';\r\nimport contentElementType from '@/domain/contentElementTypes.js';\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport LbListItem from './LbListItem.vue';\r\nimport {\r\n  updateList,\r\n  createListItem,\r\n  deleteListItem,\r\n  updateListItemPosition\r\n} from '@/httpLayers/list.http.js';\r\n\r\nexport default {\r\n  name: 'LbListElement',\r\n  mixins: [LbContentElementMixin],\r\n  components: {\r\n    LbContentElement,\r\n    LbListItem\r\n  },\r\n  props: {\r\n    items: {\r\n      type: Array,\r\n      default: []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      elementType: contentElementType.list,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('element', ['getElementById', 'getListItemByOrder']),\r\n    sortedItems() {\r\n      return this.items.sort((it1, it2) => {\r\n        if (it1.ordinalNumber > it2.ordinalNumber) return 1;\r\n        if (it1.ordinalNumber == it2.ordinalNumber) return 0;\r\n        if (it1.ordinalNumber < it2.ordinalNumber) return -1;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    isItemLast(index) {\r\n      return this.items.length-1 == index;\r\n    },\r\n    deleteElement() {\r\n      this.$emit('deleteElement', { id: this.id, type: this.elementType });\r\n    },\r\n    async changeTitle(newTitle) {\r\n      try {\r\n        await updateList(this.id, {title: newTitle}, this.contentID);\r\n        const element = this.getElementById(this.id, this.elementType);\r\n        element.title = newTitle;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async addListItem() {\r\n      let newItem = {\r\n        title: 'Title',\r\n        text: '',\r\n        ordinalNumber: this.items.length ? this.sortedItems[this.items.length-1].ordinalNumber + 1 : 0,\r\n        listID: this.id,\r\n        contentID: this.contentID\r\n      };\r\n      const createdItem = await createListItem(newItem);\r\n      newItem = {\r\n        id: createdItem.id,\r\n        title: newItem.title,\r\n        text: newItem.text,\r\n        ordinalNumber: newItem.ordinalNumber\r\n      };\r\n      const element = this.getElementById(this.id, this.elementType);\r\n      element.items.push(newItem)\r\n    },\r\n    async moveItem(order) {\r\n      const item1 = this.getListItemByOrder(this.id, order.oldOrdinalNumber);\r\n      const item2 = this.getListItemByOrder(this.id, order.newOrdinalNumber);\r\n      await updateListItemPosition(item1.id, {\r\n        listID: this.id,\r\n        oldOrdinalNumber: order.oldOrdinalNumber,\r\n        newOrdinalNumber: order.newOrdinalNumber\r\n      }, this.contentID);\r\n      item1.ordinalNumber = order.newOrdinalNumber;\r\n      item2.ordinalNumber = order.oldOrdinalNumber;\r\n    },\r\n    async deleteItem(id) {\r\n      try {\r\n        await deleteListItem(id, this.contentID);\r\n        const element = this.getElementById(this.id, this.elementType);\r\n        const position = element.items.find(it => (it.id == id)).ordinalNumber;\r\n        element.items = this.items.filter(it => { return it.id !== id });\r\n        element.items.filter(it => (it.ordinalNumber > position))\r\n                  .forEach(it => {it.ordinalNumber = it.ordinalNumber - 1});\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.lb-list-element {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  gap: 0.5em;\r\n\r\n  .lb-list-element__items {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .lb-list-element__item {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 0.2em;\r\n      padding: 0.3em 0.5em;\r\n    }\r\n  }\r\n\r\n  .lb-list-element__no-content {\r\n    display: flex;\r\n    justify-content: center;\r\n    font-size: 1.2rem;\r\n    font-style: italic;\r\n  }\r\n\r\n  .lb-list-element__button {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"lb-list-item\">\r\n    <div class=\"lb-list-item__header\">\r\n      <lb-editable-text\r\n        :value=\"title\"\r\n        :maxLength=\"45\"\r\n        :width=\"'100%'\"\r\n        @onSave=\"saveTitle\"\r\n        customClass=\"lb-list-item__title\">\r\n      </lb-editable-text>\r\n      <div class=\"lb-list-item__header-buttons\">\r\n        <lb-button icon=\"lb-up\" :disabled=\"isUpBtnDisabled\" @click=\"moveListItem(-1)\" :size=\"1\">\r\n        </lb-button>\r\n        <lb-button icon=\"lb-down\" :disabled=\"isLast\" @click=\"moveListItem(1)\" :size=\"1\">\r\n        </lb-button>\r\n        <lb-button variant=\"negative\" icon=\"lb-trash\" @click=\"$emit('removeListItem', id)\" :size=\"1\">\r\n        </lb-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"lb-list-item__body\">\r\n      <lb-editable-text :value=\"text\" type=\"textarea\" width=\"100%\" @onSave=\"saveText\"></lb-editable-text>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbEditableText from \"@/components/LbEditableText.vue\";\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport contentElementType from '@/domain/contentElementTypes.js';\r\nimport {\r\n  updateListItem\r\n} from '@/httpLayers/list.http.js';\r\n\r\nexport default {\r\n  name: \"LbListItem\",\r\n  components: {\r\n    LbEditableText\r\n  },\r\n  emits: ['removeListItem', 'moveItem'],\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    listID: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    ordinalNumber: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    contentID: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    title: {\r\n      type: String,\r\n    },\r\n    text: {\r\n      type: String\r\n    },\r\n    isLast: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('element', ['getElementById', 'getListItemById']),\r\n    isUpBtnDisabled() {\r\n      return this.ordinalNumber == 0;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    moveListItem(change) {\r\n       this.$emit('moveItem', {\r\n        oldOrdinalNumber: this.ordinalNumber,\r\n        newOrdinalNumber: this.ordinalNumber + change\r\n      });\r\n    },\r\n    async saveText(newText) {\r\n      try {\r\n        await updateListItem(this.id, {text: newText}, this.contentID);\r\n        const item = this.getListItemById(this.listID, this.id);\r\n        item.text = newText;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async saveTitle(newTitle) {\r\n      try {\r\n        await updateListItem(this.id, {title: newTitle}, this.contentID);\r\n        const item = this.getListItemById(this.listID, this.id);\r\n        item.title = newTitle;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../../common.less\";\r\n\r\n.lb-list-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n\r\n  &:hover {\r\n    .lb-list-item__header {\r\n      .lb-list-item__header-buttons {\r\n        visibility: visible;\r\n      }\r\n    }\r\n  }\r\n\r\n  .lb-list-item__header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    gap: 10px;\r\n\r\n    .lb-list-item__title {\r\n      .lb-editable-text__text, .lb-editable-text__input {\r\n        font-size: 1.3rem;\r\n        font-weight: 500;\r\n      }\r\n    }\r\n\r\n    .lb-list-item__header-buttons {\r\n      display: flex;\r\n      gap: 10px;\r\n      visibility: hidden;\r\n    }\r\n  }\r\n}\r\n</style>","import LbAPI from \"./LbAPI.js\";\r\n\r\n/**\r\n *\r\n * @param {{ title: String }} fields\r\n * @param { Number } contentID\r\n */\r\n async function createList(fields, contentID) {\r\n    let fieldsToSend = fields;\r\n    fieldsToSend.contentID = contentID;\r\n    return await LbAPI\r\n        .post(`/lists/`, fieldsToSend)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                throw new Error(`${error.response.data.message}`);\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n  };\r\n\r\nasync function updateList(id, fields, contentID) {\r\n  return await LbAPI\r\n      .patch(`/lists/${id}/content/${contentID}`, fields)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              const err = new Error(`${error.response.data.message}`);\r\n              throw err;\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function deleteList(id, contentID) {\r\n    return await LbAPI\r\n        .delete(`/lists/${id}/content/${contentID}`)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                throw new Error(`${error.response.data.message}`);\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\n// fields {title, text, ordinalNumber, listID, contentID}\r\nasync function createListItem(fields) {\r\n  return await LbAPI\r\n      .post(`/list_items/`, fields)\r\n      .then((response) => {\r\n          return response.data;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              const err = new Error(`${error.response.data.message}`);\r\n              throw err;\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function deleteListItem(id, contentID) {\r\n  return await LbAPI\r\n      .delete(`/list_items/${id}/content/${contentID}`)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              const err = new Error(`${error.response.data.message}`);\r\n              throw err;\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function updateListItem(id, fields, contentID) {\r\n  return await LbAPI\r\n      .patch(`/list_items/${id}/content/${contentID}`, fields)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              const err = new Error(`${error.response.data.message}`);\r\n              throw err;\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\n// fields {listID, oldOrdinalNumber, newOrdinalNumber}\r\nasync function updateListItemPosition(id, fields, contentID) {\r\n  return await LbAPI\r\n      .patch(`/list_items/position/${id}/content/${contentID}`, fields)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              throw new Error(`${error.response.data.message}`);\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nexport {\r\n  createList,\r\n  updateList,\r\n  deleteList,\r\n  createListItem,\r\n  deleteListItem,\r\n  updateListItem,\r\n  updateListItemPosition\r\n};","import { render } from \"./LbListItem.vue?vue&type=template&id=27e20e16\"\nimport script from \"./LbListItem.vue?vue&type=script&lang=js\"\nexport * from \"./LbListItem.vue?vue&type=script&lang=js\"\n\nimport \"./LbListItem.vue?vue&type=style&index=0&id=27e20e16&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LbListElement.vue?vue&type=template&id=7ea91c4e\"\nimport script from \"./LbListElement.vue?vue&type=script&lang=js\"\nexport * from \"./LbListElement.vue?vue&type=script&lang=js\"\n\nimport \"./LbListElement.vue?vue&type=style&index=0&id=7ea91c4e&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <lb-content-element :title=\"title\"\r\n                      :isLast=\"isLast\"\r\n                      :position=\"position\"\r\n                      @changeTitle=\"changeTitle\"\r\n                      @moveElement=\"moveContentElement\"\r\n                      @removeElement=\"deleteElement\"\r\n                      :buttonsLoading=\"buttonsLoading\">\r\n    <div class=\"lb-link-group-element\">\r\n      <div class=\"lb-link-group-element__items\" v-if=\"links.length > 0\">\r\n        <div class=\"lb-link-group-element__item\" v-for=\"link in links\" :key=\"link.id\">\r\n          <lb-content-link\r\n                   :id=\"link.id\"\r\n                   :contentID=\"contentID\"\r\n                   :description=\"link.description\"\r\n                   :targetID=\"link.targetID\"\r\n                   :targetName=\"link.targetName\"\r\n                   :categoryID=\"link.categoryID\"\r\n                   :categoryName=\"link.categoryName\"\r\n                   :linkGroupID=\"id\"\r\n                   @removeLink=\"deleteContentLink\"></lb-content-link>\r\n          <div class=\"util__horizontal-line--black\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"lb-link-group-element__no-content\" v-if=\"!links.length\">\r\n        No links\r\n      </div>\r\n      <div class=\"lb-link-group-element__button\">\r\n        <lb-button icon=\"lb-link\" @click=\"openLinkPopup\" :size=\"1.2\">Add new link</lb-button>\r\n      </div>\r\n    </div>\r\n    <link-popup v-if=\"isLinkPopupOpen\"\r\n                :linkGroupID=\"id\"\r\n                :elementID=\"elementID\"\r\n                :elementCategoryID=\"categoryID\"\r\n                @onResult=\"addNewLink\"></link-popup>\r\n  </lb-content-element>\r\n</template>\r\n\r\n<script>\r\nimport LbContentElement from \"./LbContentElement.vue\";\r\nimport LbContentElementMixin from './ContentElement.mixin.js';\r\nimport contentElementType from '@/domain/contentElementTypes.js';\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport LbContentLink from './LbContentLink.vue';\r\nimport {\r\n  updateLinkGroup,\r\n  deleteLink\r\n} from '@/httpLayers/link.http.js';\r\nimport LinkPopup from '@/popups/LinkPopup.vue';\r\n\r\nexport default {\r\n  name: 'LbLinkGroupElement',\r\n  mixins: [ LbContentElementMixin ],\r\n  components: {\r\n    LbContentElement,\r\n    LbContentLink,\r\n    LinkPopup,\r\n  },\r\n  props: {\r\n    links: {\r\n      type: Array,\r\n      default: []\r\n    },\r\n    elementID: {\r\n      type: Number,\r\n    },\r\n    categoryID: {\r\n      type: String\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      elementType: contentElementType.linkGroup,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('element', ['getElementById']),\r\n    ...mapGetters('popups', ['isLinkPopupOpen']),\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    ...mapMutations('popups', ['openLinkPopup']),\r\n    deleteElement() {\r\n      this.$emit('deleteElement', { id: this.id, type: this.elementType });\r\n    },\r\n    async changeTitle(newTitle) {\r\n      try {\r\n        await updateLinkGroup(this.id, {title: newTitle}, this.contentID);\r\n        const element = this.getElementById(this.id, this.elementType);\r\n        element.title = newTitle;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    addNewLink(newLink) {\r\n      const element = this.getElementById(this.id, this.elementType);\r\n      element.links.push(newLink);\r\n    },\r\n    async deleteContentLink(id) {\r\n      try {\r\n        await deleteLink(id, this.contentID);\r\n        const element = this.getElementById(this.id, this.elementType);\r\n        element.links = element.links.filter(link => (link.id != id));\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.lb-link-group-element {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  gap: 0.5em;\r\n\r\n  .lb-link-group-element__items {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .lb-link-group-element__item {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 0.2em;\r\n      padding: 0.3em 0.5em;\r\n    }\r\n  }\r\n\r\n  .lb-link-group-element__no-content {\r\n    display: flex;\r\n    justify-content: center;\r\n    font-size: 1.2rem;\r\n    font-style: italic;\r\n  }\r\n\r\n  .lb-link-group-element__button {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"lb-content-link\">\r\n    <div class=\"lb-content-link__header\">\r\n      <div class=\"lb-content-link__header-main\">\r\n        <div @click=\"navigateToElement\" class=\"lb-content-link__title\">\r\n          <icon icon=\"lb-link\" class=\"lb-content-link__title-icon\"></icon>\r\n          <span class=\"lb-content-link__title-text\">{{ targetName }}</span>\r\n        </div>\r\n        <div class=\"lb-content-link__category\">\r\n          <icon icon=\"lb-folder\"></icon>\r\n          {{ categoryName }}\r\n        </div>\r\n      </div>\r\n      <div class=\"lb-content-link__header-buttons\">\r\n        <lb-button variant=\"negative\" icon=\"lb-unlink\" @click=\"$emit('removeLink', id)\" :size=\"1\">\r\n        </lb-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"lb-content-link__body\">\r\n      <lb-editable-text :value=\"description\"\r\n        type=\"textarea\"\r\n        :maxLength=\"250\"\r\n        :width=\"'100%'\"\r\n        @onSave=\"saveDescription\">\r\n      </lb-editable-text>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbEditableText from \"@/components/LbEditableText.vue\";\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport {\r\n  updateLink\r\n} from '@/httpLayers/link.http.js';\r\n\r\nexport default {\r\n  name: 'LbContentLink',\r\n  components: {\r\n    LbEditableText,\r\n  },\r\n  emits: ['removeLink'],\r\n  props: {\r\n    contentID: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    linkGroupID: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    description: {\r\n      type: String\r\n    },\r\n    targetID: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    targetName: {\r\n      type: String,\r\n      rquired: true\r\n    },\r\n    categoryID: {\r\n      type: [Number, String],\r\n      required: true\r\n    },\r\n    categoryName: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID']),\r\n    ...mapGetters('element', ['getLinkById']),\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    async saveDescription(newDesc) {\r\n      try {\r\n        await updateLink(this.id,  {description: newDesc}, this.contentID);\r\n        const link = this.getLinkById(this.linkGroupID, this.id);\r\n        link.description = newDesc;\r\n      } catch(error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    navigateToElement() {\r\n      this.$router.push({\r\n        name: 'ElementPage',\r\n        params: {\r\n          universeID: this.universeID,\r\n          categoryID: this.categoryID,\r\n          elementID: this.targetID\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.lb-content-link {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n\r\n  &:hover {\r\n    .lb-content-link__header {\r\n      .lb-content-link__header-buttons {\r\n        visibility: visible;\r\n      }\r\n    }\r\n  }\r\n\r\n  .lb-content-link__header {\r\n    display: flex;\r\n    flex: 1;\r\n    gap: 1em;\r\n\r\n    .lb-content-link__header-main {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 1em;\r\n\r\n      .lb-content-link__title {\r\n        display: flex;\r\n        align-items: center;\r\n        font-size: 1.3rem;\r\n        font-weight: 600;\r\n        gap: 0.2em;\r\n        cursor: pointer;\r\n\r\n        &:hover {\r\n          .lb-content-link__title-text {\r\n            text-decoration: underline;\r\n            color: @accent-darker-color;\r\n          }\r\n          .lb-content-link__title-icon {\r\n            color: @special-color;\r\n          }\r\n        }\r\n      }\r\n\r\n      .lb-content-link__category {\r\n        display: flex;\r\n        align-items: center;\r\n        color: @dark-secondary-text-color;\r\n        font-weight: 500;\r\n        gap: 0.2em;\r\n      }\r\n    }\r\n\r\n    .lb-content-link__header-buttons {\r\n      visibility: hidden;\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LbContentLink.vue?vue&type=template&id=1cef9986\"\nimport script from \"./LbContentLink.vue?vue&type=script&lang=js\"\nexport * from \"./LbContentLink.vue?vue&type=script&lang=js\"\n\nimport \"./LbContentLink.vue?vue&type=style&index=0&id=1cef9986&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LbLinkGroupElement.vue?vue&type=template&id=8383313c\"\nimport script from \"./LbLinkGroupElement.vue?vue&type=script&lang=js\"\nexport * from \"./LbLinkGroupElement.vue?vue&type=script&lang=js\"\n\nimport \"./LbLinkGroupElement.vue?vue&type=style&index=0&id=8383313c&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <lb-content-element :title=\"title\"\r\n                      :isLast=\"isLast\"\r\n                      :position=\"position\"\r\n                      @changeTitle=\"changeTitle\"\r\n                      @moveElement=\"moveContentElement\"\r\n                      @removeElement=\"deleteElement\"\r\n                      :buttonsLoading=\"buttonsLoading\">\r\n    Image Group\r\n  </lb-content-element>\r\n</template>\r\n\r\n<script>\r\nimport LbContentElement from \"./LbContentElement.vue\";\r\nimport LbContentElementMixin from './ContentElement.mixin.js';\r\nimport contentElementType from '@/domain/contentElementTypes.js';\r\n\r\nexport default {\r\n  name: 'LbImageGroupElement',\r\n  mixins: [LbContentElementMixin],\r\n  components: {\r\n    LbContentElement,\r\n  },\r\n  data() {\r\n    return {\r\n      elementType: contentElementType.imageGroup,\r\n    };\r\n  },\r\n  methods: {\r\n    deleteElement() {\r\n      this.$emit('deleteElement', { id: this.id, type: this.elementType });\r\n    },\r\n    async changeTitle(newTitle) {\r\n      try {\r\n        //await updateImageGroup(this.id, {title: newTitle}, this.contentID);\r\n        //this.title = newTitle;\r\n      } catch (error) {\r\n        // this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n</style>","import { render } from \"./LbImageGroupElement.vue?vue&type=template&id=1ff2b8cb\"\nimport script from \"./LbImageGroupElement.vue?vue&type=script&lang=js\"\nexport * from \"./LbImageGroupElement.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import LbAPI from \"./LbAPI.js\";\r\nimport contentElementType from \"@/domain/contentElementTypes.js\";\r\n\r\nconst universeElementType = {\r\n  entry: 'Entry',\r\n  event: 'Event',\r\n  location: 'Location',\r\n  character: 'Character',\r\n};\r\n\r\nfunction linkTargetID(link) {\r\n  if (link.Character_id) return link.Character_id;\r\n  if (link.Location_id) return link.Location_id;\r\n  if (link.Event_id) return link.Event_id;\r\n  if (link.Entry_id) return link.Entry_id;\r\n};\r\n\r\nfunction linkMapper(link) {\r\n  return {\r\n    id: link.id,\r\n    description: link.description,\r\n    targetName: link.target.name,\r\n    targetID: linkTargetID(link),\r\n    categoryName: link.target.Category.name,\r\n    categoryID: link.target.Category.id\r\n  };\r\n};\r\n\r\nfunction linkGroupMapper(linkGroups, links) {\r\n  return linkGroups.map(lg => {\r\n    return {\r\n      id: lg.id,\r\n      title: lg.title,\r\n      links: links.filter(l => { return l.Link_group_id == lg.id })\r\n                  .map(l => { return linkMapper(l) }),\r\n      type: contentElementType.linkGroup\r\n    };\r\n  });\r\n};\r\n\r\nfunction listItemMapper(listItem) {\r\n  return {\r\n    id: listItem.id,\r\n    title: listItem.title,\r\n    text: listItem.text,\r\n    ordinalNumber: listItem.ordinal_number\r\n  };\r\n};\r\n\r\nfunction listMapper(lists) {\r\n  return lists.map(list => {\r\n    return {\r\n      id: list.id,\r\n      title: list.title,\r\n      items: list.ListItems.map(item => { return listItemMapper(item); }),\r\n      type: contentElementType.list\r\n    };\r\n  });\r\n};\r\n\r\nfunction textsMapper(texts) {\r\n  return texts.map(t => {\r\n    return {\r\n      id: t.id,\r\n      title: t.title,\r\n      text: t.text,\r\n      type: contentElementType.text\r\n    };\r\n  });\r\n};\r\n\r\n// TODO: Add fetched images to each group\r\nfunction imageGroupMapper(imageGroups) {\r\n  return imageGroups.map(ig => {\r\n    return {\r\n      id: ig.id,\r\n      title: ig.title,\r\n      type: contentElementType.imageGroup\r\n    };\r\n  });\r\n};\r\n\r\nasync function getFullContent(ownerID, categoryID) {\r\n  let type;\r\n  if (categoryID == 'Characters') {\r\n    type = universeElementType.character;\r\n  } else if (categoryID == 'Locations') {\r\n    type = universeElementType.location;\r\n  } else if (categoryID == 'Events') {\r\n    type = universeElementType.event;\r\n  } else {\r\n    type = universeElementType.entry;\r\n  }\r\n  return await LbAPI\r\n      .get(`/contents/${type}/${ownerID}`)\r\n      .then((response) => {\r\n        const mappedResponse = {\r\n          contentID: response.data.content.id,\r\n          configuration: response.data.content.configuration,\r\n          texts: textsMapper(response.data.texts),\r\n          lists: listMapper(response.data.lists),\r\n          linkGroups: linkGroupMapper(response.data.linkGroups, response.data.links),\r\n          imageGroups: imageGroupMapper(response.data.imageGroups),\r\n          tags: response.data.tags\r\n        }\r\n        return mappedResponse;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              throw new Error(`${error.response.data.message}`);\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nasync function updateContentConfig(id, configuration) {\r\n  const payload = { config: configuration };\r\n  return await LbAPI\r\n      .patch(`/contents/${id}`, payload)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              throw new Error(`${error.response.data.message}`);\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nexport {\r\n  getFullContent,\r\n  updateContentConfig\r\n};","import LbAPI from \"./LbAPI.js\";\r\n\r\n/**\r\n *\r\n * @param {{ title: String }} fields\r\n * @param { Number } contentID\r\n */\r\n async function createImageGroup(fields, contentID) {\r\n    let fieldsToSend = fields;\r\n    fieldsToSend.contentID = contentID;\r\n    return await LbAPI\r\n        .post(`/image_groups/`, fieldsToSend)\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.data.message) {\r\n                throw new Error(`${error.response.data.message}`);\r\n            } else if (error.request) {\r\n                throw new Error(\"Service refused connection\");\r\n            } else {\r\n                throw new Error(\"Undefined error\");\r\n            }\r\n        });\r\n};\r\n\r\nasync function deleteImageGroup(id, contentID) {\r\n  return await LbAPI\r\n      .delete(`/image_groups/${id}/content/${contentID}`)\r\n      .then(() => {\r\n          return true;\r\n      })\r\n      .catch((error) => {\r\n          if (error.response && error.response.data.message) {\r\n              throw new Error(`${error.response.data.message}`);\r\n          } else if (error.request) {\r\n              throw new Error(\"Service refused connection\");\r\n          } else {\r\n              throw new Error(\"Undefined error\");\r\n          }\r\n      });\r\n};\r\n\r\nexport {\r\n  createImageGroup,\r\n  deleteImageGroup\r\n};","import contentElementType from '@/domain/contentElementTypes.js';\r\nimport { deleteText, createText } from './text.http.js';\r\nimport { deleteList, createList } from './list.http.js';\r\nimport { deleteLinkGroup, createLinkGroup } from './link.http.js';\r\nimport { deleteImageGroup, createImageGroup } from './image.http.js';\r\n\r\nasync function createContentElement(fields, contentID, type) {\r\n  let element = null;\r\n  try {\r\n    if (type == contentElementType.text) {\r\n      element = await createText(fields, contentID);\r\n    } else if (type == contentElementType.list) {\r\n      element = await createList(fields, contentID);\r\n    } else if (type == contentElementType.linkGroup) {\r\n      element = await createLinkGroup(fields, contentID);\r\n    } else if (type == contentElementType.imageGroup) {\r\n      element = await createImageGroup(fields, contentID);\r\n    }\r\n  } catch (error) {\r\n    throw new Error(error.message);\r\n  }\r\n  return element;\r\n};\r\n\r\nasync function deleteContentElement(id, contentID, type) {\r\n  if (type == contentElementType.text) {\r\n    await deleteText(id, contentID);\r\n  } else if (type == contentElementType.list) {\r\n    await deleteList(id, contentID);\r\n  } else if (type == contentElementType.linkGroup) {\r\n    await deleteLinkGroup(id, contentID);\r\n  } else if (type == contentElementType.imageGroup) {\r\n    await deleteImageGroup(id, contentID);\r\n  }\r\n};\r\n\r\nexport {\r\n  createContentElement,\r\n  deleteContentElement\r\n}","import { render } from \"./LbContent.vue?vue&type=template&id=9fa421f2\"\nimport script from \"./LbContent.vue?vue&type=script&lang=js\"\nexport * from \"./LbContent.vue?vue&type=script&lang=js\"\n\nimport \"./LbContent.vue?vue&type=style&index=0&id=9fa421f2&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"lb-tag-container\">\r\n    <div class=\"lb-tag-container__content\" :style=\"visibility\">\r\n      <div class=\"lb-tag-container__tags\" v-if=\"tags.length\">\r\n        <div class=\"lb-tag-container__tag\" v-for=\"(tag, index) in tags\" :key=\"index\">\r\n          <span class=\"lb-tag-container__tag-name\">\r\n            {{ tag.name }}\r\n          </span>\r\n          <icon icon=\"lb-cancel-circled\" class=\"lb-tag-container__icon\" @click=\"$emit('removeTag', tag.id)\"></icon>\r\n        </div>\r\n      </div>\r\n      <div class=\"lb-tag-container__no-content\" v-if=\"tags.length < 1\">\r\n        No tags\r\n      </div>\r\n    </div>\r\n    <lb-spinner v-if=\"loading\"></lb-spinner>\r\n    <div class=\"lb-tage-container__input-field\" v-if=\"!loading\">\r\n      <lb-input :maxLength=\"60\" v-model:value=\"name\" :fontSize=\"1\" @keydown=\"handleEnterPress\"></lb-input>\r\n      <lb-button variant=\"positive\" icon=\"lb-plus\" :size=\"1\" @click=\"addTag\" :loading=\"buttonLoading\"></lb-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbInput from './LbInput.vue';\r\n\r\nexport default {\r\n  name: 'LbTagContainer',\r\n  components: {\r\n    LbInput\r\n  },\r\n  emits: ['addTag', 'removeTag'],\r\n  props: {\r\n    tags: {\r\n      type: Array,\r\n      default: []\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    buttonLoading: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    visibility() {\r\n      return this.loading ? 'visibility: hidden;' : 'visibility: visible;';\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      name: ''\r\n    };\r\n  },\r\n  methods: {\r\n    addTag() {\r\n      if (this.name.length !== 0) {\r\n        const tagExists = this.tags.find(t => (t.name === this.name));\r\n        if (tagExists == undefined) {\r\n          this.$emit('addTag', this.name);\r\n        }\r\n        this.name = '';\r\n      }\r\n    },\r\n    handleEnterPress(event) {\r\n      if (event.key == 'Enter') {\r\n        event.preventDefault();\r\n        this.addTag();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-tag-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  background-color: @secondary-color;\r\n  border-radius: 5px;\r\n  padding: 0.3em;\r\n\r\n  .lb-tag-container__content {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .lb-tag-container__tags {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      gap: 5px;\r\n      padding-bottom: 0.5em;\r\n\r\n      .lb-tag-container__tag {\r\n        display: flex;\r\n        flex-wrap: nowrap;\r\n        align-items: center;\r\n        gap: 3px;\r\n        color: @dark-text-color;\r\n        background-color: @canvas-white-color;\r\n        border-radius: 3px;\r\n        padding: 0.2em;\r\n\r\n        .lb-tag-container__icon {\r\n          visibility: hidden;\r\n          color: @negative-color;\r\n\r\n          &:hover {\r\n            color: @negative-secondary-color\r\n          }\r\n        }\r\n\r\n        &:hover {\r\n          .lb-tag-container__icon {\r\n            visibility: visible;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .lb-tag-container__no-content {\r\n      display: flex;\r\n      justify-content: center;\r\n      text-align: center;\r\n      width: 100%;\r\n      padding-bottom: 0.5em;\r\n      font-style: italic;\r\n      color: @light-text-color;\r\n    }\r\n  }\r\n\r\n  .lb-tage-container__input-field {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 5px;\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LbTagContainer.vue?vue&type=template&id=86c8c6cc\"\nimport script from \"./LbTagContainer.vue?vue&type=script&lang=js\"\nexport * from \"./LbTagContainer.vue?vue&type=script&lang=js\"\n\nimport \"./LbTagContainer.vue?vue&type=style&index=0&id=86c8c6cc&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"event-date-section\">\r\n    <h3 class=\"event-date-section__header\">\r\n      Date\r\n      <lb-button icon=\"lb-edit\" :size=\"0.8\" @click=\"openPopup\"></lb-button>\r\n    </h3>\r\n    <div class=\"util__horizontal-line--white\"></div>\r\n    <div class=\"event-date-section__date\">\r\n      <div class=\"event-date-section__date-part\">\r\n        <span class=\"event-date-section__date-part-name\">Year: </span>\r\n        <span class=\"event-date-section__date-part-value\">{{ year }}</span>\r\n      </div>\r\n      <div class=\"event-date-section__date-part\">\r\n        <span class=\"event-date-section__date-part-name\">Month: </span>\r\n        <span class=\"event-date-section__date-part-value\">{{ month }}</span>\r\n      </div>\r\n      <div class=\"event-date-section__date-part\">\r\n        <span class=\"event-date-section__date-part-name\">Day: </span>\r\n        <span class=\"event-date-section__date-part-value\">{{ day }}</span>\r\n      </div>\r\n    </div>\r\n    <event-date-popup v-if=\"isPopupOpen\" :isOpen=\"isPopupOpen\"\r\n                      @close=\"closePopup\"\r\n                      :year=\"year\"\r\n                      :month=\"month\"\r\n                      :day=\"day\"\r\n                      :eventID=\"eventID\"\r\n                      @onResult=\"changeDate\">\r\n    </event-date-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EventDatePopup from '@/popups/EventDatePopup.vue';\r\n\r\nexport default {\r\n  name: 'EventDateSection',\r\n  components: {\r\n    EventDatePopup\r\n  },\r\n  props: {\r\n    element: {\r\n      type: Object,\r\n      required: true,\r\n      validator: (value) => {\r\n        if (value.year === null || value.year === undefined) return false;\r\n        if (value.month === null || value.month === undefined) return false;\r\n        if (value.day === null || value.day === undefined) return false;\r\n        return true;\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      year: this.element.year,\r\n      month: this.element.month,\r\n      day: this.element.day,\r\n      eventID: this.element.id,\r\n      isPopupOpen: false\r\n    };\r\n  },\r\n  methods: {\r\n    closePopup() {\r\n      this.isPopupOpen = false;\r\n    },\r\n    openPopup() {\r\n      this.isPopupOpen = true;\r\n    },\r\n    changeDate(newDate) {\r\n      this.year = newDate.year;\r\n      this.month = newDate.month;\r\n      this.day = newDate.day;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../../common.less\";\r\n\r\n.event-date-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: @light-text-color;\r\n  width: 100%;\r\n  margin-bottom: 1em;\r\n\r\n  .event-date-section__header {\r\n    display: flex;\r\n    gap: 10px;\r\n    font-size: 1.1rem;\r\n    font-weight: 600;\r\n    margin: 0;\r\n  }\r\n\r\n  .event-date-section__date {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0.2em;\r\n\r\n    .event-date-section__date-part {\r\n      display: flex;\r\n      flex-direction: row;\r\n      flex-wrap: nowrap;\r\n      gap: 0.5em;\r\n\r\n      .event-date-section__date-part-name {\r\n        font-weight: 500;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <lb-popup-box :isOpen=\"isOpen\" title=\"Change event date\" @close=\"close\">\r\n    <div class=\"event-date-popup\">\r\n      <div class=\"event-date-popup__inputs\">\r\n        <lb-input name=\"Year\" type=\"number\" v-model:value=\"eventDate.year\"/>\r\n        <lb-input name=\"Month\" type=\"number\"  @change:value=\"setEventMonth\" v-model:value=\"eventDate.month\"/>\r\n        <lb-input name=\"Day\" type=\"number\" @change:value=\"setEventDay\" v-model:value=\"eventDate.day\"/>\r\n      </div>\r\n      <div class=\"event-date-popup__buttons\">\r\n        <lb-button variant=\"outline\" :size=\"1.4\" @click=\"close\">Cancel</lb-button>\r\n        <lb-button variant=\"positive\" :size=\"1.4\" @click=\"changeDate\" :loading=\"loading\">Save date</lb-button>\r\n      </div>\r\n    </div>\r\n  </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport LbInput from '@/components/LbInput.vue';\r\nimport { mapMutations } from 'vuex';\r\nimport { updateEvent } from '@/httpLayers/event.http.js';\r\n\r\nexport default {\r\n  name: 'EventDatePopup',\r\n  components: {\r\n    LbInput\r\n  },\r\n  emits: ['close', 'onResult'],\r\n  props: {\r\n    isOpen: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    year: {\r\n      type: Number\r\n    },\r\n    month: {\r\n      type: Number,\r\n    },\r\n    day: {\r\n      type: Number\r\n    },\r\n    eventID: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      eventDate: {\r\n        year: this.year,\r\n        month: this.month,\r\n        day: this.day\r\n      },\r\n      loading: false\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    close() {\r\n      this.$emit('close');\r\n    },\r\n    setEventMonth(newValue) {\r\n      if (newValue > 12) {\r\n        this.eventDate.month = 12;\r\n      } else if (newValue < 1) {\r\n        this.eventDate.month = 1;\r\n      } else {\r\n        this.eventDate.month = newValue;\r\n      }\r\n    },\r\n    setEventDay(newValue) {\r\n      if (newValue > 31) {\r\n        this.eventDate.day = 31;\r\n      } else if (newValue < 1) {\r\n        this.eventDate.day = 1;\r\n      } else {\r\n        this.eventDate.day = newValue;\r\n      }\r\n    },\r\n    async changeDate() {\r\n      try {\r\n        this.loading = true;\r\n        await updateEvent(this.eventID, this.eventDate);\r\n        this.$emit('onResult', this.eventDate);\r\n        this.close();\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.event-date-popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n  padding: 1em;\r\n\r\n  .event-date-popup__inputs {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .event-date-popup__buttons {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./EventDatePopup.vue?vue&type=template&id=041bc6ec\"\nimport script from \"./EventDatePopup.vue?vue&type=script&lang=js\"\nexport * from \"./EventDatePopup.vue?vue&type=script&lang=js\"\n\nimport \"./EventDatePopup.vue?vue&type=style&index=0&id=041bc6ec&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./EventDateSection.vue?vue&type=template&id=b79323fa\"\nimport script from \"./EventDateSection.vue?vue&type=script&lang=js\"\nexport * from \"./EventDateSection.vue?vue&type=script&lang=js\"\n\nimport \"./EventDateSection.vue?vue&type=style&index=0&id=b79323fa&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"location-parent-section\">\r\n    <h3 class=\"location-parent-section__header\">\r\n      Parent Location\r\n      <lb-button icon=\"lb-edit\" :size=\"0.8\" @click=\"openPopup\"></lb-button>\r\n    </h3>\r\n    <div class=\"location-parent-section__parent\" v-if=\"parentName\" @click=\"navigateToParent\">\r\n      <icon icon=\"lb-link\"></icon>\r\n      <span>{{ parentName }}</span>\r\n    </div>\r\n    <div class=\"location-parent-section__no-content\" v-if=\"!parentName\">\r\n      No Parent Location\r\n    </div>\r\n    <location-parent-popup v-if=\"isPopupOpen\"\r\n                           :isOpen=\"isPopupOpen\"\r\n                           :locationID=\"id\"\r\n                           :currentParentID=\"parentID\"\r\n                           :currentParentName=\"parentName\"\r\n                           @close=\"closePopup\"\r\n                           @onResult=\"setParent\">\r\n    </location-parent-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport LocationParentPopup from '@/popups/LocationParentPopup.vue';\r\n\r\nexport default {\r\n  name: 'LocationParentSection',\r\n  components: {\r\n    LocationParentPopup\r\n  },\r\n  props: {\r\n    element: {\r\n      type: Object,\r\n      required: true,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      id: this.element.id,\r\n      parentName: this.element.parentName,\r\n      parentID: this.element.parentID,\r\n      isPopupOpen: false,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID']),\r\n  },\r\n  methods: {\r\n    closePopup() {\r\n      this.isPopupOpen = false;\r\n    },\r\n    openPopup() {\r\n      this.isPopupOpen = true;\r\n    },\r\n    navigateToParent() {\r\n      this.$router.push({\r\n        name: 'ElementPage',\r\n        params: {\r\n          universeID: this.universeID,\r\n          categoryID: 'Locations',\r\n          elementID: this.parentID\r\n        }\r\n      });\r\n    },\r\n    setParent(newParent) {\r\n      this.parentID = newParent.id;\r\n      this.parentName = newParent.name;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../../common.less\";\r\n\r\n.location-parent-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  color: @light-text-color;\r\n  margin-bottom: 1em;\r\n  gap: 10px;\r\n\r\n  .location-parent-section__header {\r\n    display: flex;\r\n    gap: 10px;\r\n    font-size: 1.1rem;\r\n    font-weight: 600;\r\n    margin: 0;\r\n  }\r\n\r\n  .location-parent-section__parent {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.3em;\r\n    cursor: pointer;\r\n    padding: 0em 0.4em;\r\n\r\n    &:hover {\r\n      color: @special-color;\r\n      span {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n\r\n  .location-parent-section__no-content {\r\n    font-style: italic;\r\n    font-weight: 400;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <lb-popup-box :isOpen=\"isOpen\" title=\"Set Parent Location\" @close=\"close\">\r\n    <div class=\"location-parent-popup\">\r\n      <div class=\"location-parent-popup__field\">\r\n        <div class=\"location-parent-popup__name\">\r\n          Current Parent:\r\n          <span class=\"location-parent-popup__name-value\">{{ currentParentName }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"location-parent-popup__field\">\r\n        <lb-search-bar :placeholder=\"`Search location...`\" @search=\"search\" :text=\"searchText\"></lb-search-bar>\r\n      </div>\r\n      <div class=\"location-parent-popup__field\">\r\n        <lb-select-list :items=\"filteredLocations\"\r\n                        :loading=\"locationsLoading\"\r\n                        :selectedID=\"parentID\"\r\n                        @onSelect=\"selectParent\"\r\n                        maxHeight=\"250px\">\r\n        </lb-select-list>\r\n      </div>\r\n      <div class=\"location-parent-popup__field\">\r\n        <lb-page-nav :currentPage=\"currentPage\"\r\n                     :totalPages=\"totalPages\"\r\n                     @go=\"changePage\"\r\n                     class=\"location-parent-popup__page-nav\"\r\n                     v-if=\"totalPages != 1\">\r\n        </lb-page-nav>\r\n      </div>\r\n      <div class=\"location-parent-popup__buttons\">\r\n        <lb-button variant=\"outline\" :size=\"1.4\" @click=\"close\">Cancel</lb-button>\r\n        <lb-button variant=\"positive\" :size=\"1.4\" @click=\"setParent\" :loading=\"setParentLoading\">Set Parent</lb-button>\r\n      </div>\r\n    </div>\r\n  </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport LbSearchBar from '@/components/LbSearchBar.vue';\r\nimport LbSelectList from '@/components/LbSelectList.vue';\r\nimport LbPageNav from '@/components/LbPageNav.vue';\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport { searchElements } from '@/httpLayers/universeElement.interface.js';\r\nimport { updateLocation } from '@/httpLayers/location.http.js';\r\n\r\nexport default {\r\n  name: 'LocationParentPopup',\r\n  components: {\r\n    LbSearchBar,\r\n    LbSelectList,\r\n    LbPageNav\r\n  },\r\n  emits: ['close', 'onResult'],\r\n  props: {\r\n    isOpen: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    locationID: {\r\n      type: Number,\r\n    },\r\n    currentParentID: {\r\n      type: Number,\r\n    },\r\n    currentParentName: {\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      parentID: this.currentParentID,\r\n      parentName: this.currentParentName,\r\n      searchText: '',\r\n      locationsLoading: false,\r\n      locations: [],\r\n      currentPage: 1,\r\n      totalPages: 2,\r\n      setParentLoading: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID']),\r\n    filteredLocations() {\r\n      return this.locations.filter(l => {\r\n        return l.id !== this.locationID && l.Location_id !== this.locationID;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    close() {\r\n      this.$emit('close');\r\n    },\r\n    async fetchLocations(queryText, page) {\r\n      let newPage = page;\r\n      if (this.searchText !== queryText) {\r\n        this.currentPage = 1;\r\n        newPage = 1;\r\n      }\r\n      this.searchText = queryText;\r\n      const elementsPerPage = 25;\r\n      this.locationsLoading = true;\r\n      try {\r\n        const offset = newPage !== 0 ? (newPage * elementsPerPage) - elementsPerPage : 0;\r\n        const result = await searchElements(this.universeID, queryText, elementsPerPage, offset, 'Locations')\r\n        this.locations = result.elements;\r\n        this.totalPages = result.totalPages;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.locationsLoading = false;\r\n      }\r\n    },\r\n    selectParent(selection) {\r\n      this.parentID = this.parentID !== selection ? selection : null;\r\n      if (this.parentID !== null) {\r\n        this.parentName = this.filteredLocations.find(l => l.id == this.parentID).name;\r\n      } else {\r\n        this.parentName = null;\r\n      }\r\n    },\r\n    async search(queryText) {\r\n      const page = this.currentPage == 1 ? 0 : this.currentPage;\r\n      await this.fetchLocations(queryText, page);\r\n    },\r\n    async changePage(newPageNumber) {\r\n      this.currentPage = newPageNumber;\r\n      await this.search(this.searchText);\r\n    },\r\n    async setParent() {\r\n      try {\r\n        this.setParentLoading = true;\r\n        await updateLocation(this.locationID, {\r\n          Location_id: this.parentID\r\n        });\r\n        this.$emit('onResult', {\r\n          id: this.parentID,\r\n          name: this.parentName\r\n        });\r\n        this.close();\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.setParentLoading = false;\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchLocations('', 1);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.location-parent-popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n  width: 800px;\r\n\r\n  .location-parent-popup__field {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n\r\n    .location-parent-popup__name {\r\n      color: @dark-text-color;\r\n      font-size: 1.3rem;\r\n      font-weight: 500;\r\n\r\n      .location-parent-popup__name-value {\r\n        font-size: 1.3rem;\r\n        font-weight: 400;\r\n      }\r\n    }\r\n\r\n    .location-parent-popup__page-nav {\r\n      align-self: center;\r\n      width: auto;\r\n    }\r\n  }\r\n\r\n  .location-parent-popup__buttons {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LocationParentPopup.vue?vue&type=template&id=a4652b42\"\nimport script from \"./LocationParentPopup.vue?vue&type=script&lang=js\"\nexport * from \"./LocationParentPopup.vue?vue&type=script&lang=js\"\n\nimport \"./LocationParentPopup.vue?vue&type=style&index=0&id=a4652b42&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LocationParentSection.vue?vue&type=template&id=5fd5da47\"\nimport script from \"./LocationParentSection.vue?vue&type=script&lang=js\"\nexport * from \"./LocationParentSection.vue?vue&type=script&lang=js\"\n\nimport \"./LocationParentSection.vue?vue&type=style&index=0&id=5fd5da47&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'DummyComponent'\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./DummyComponent.vue?vue&type=template&id=6b75f162\"\nimport script from \"./DummyComponent.vue?vue&type=script&lang=js\"\nexport * from \"./DummyComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ElementPage.vue?vue&type=template&id=319900ad\"\nimport script from \"./ElementPage.vue?vue&type=script&lang=js\"\nexport * from \"./ElementPage.vue?vue&type=script&lang=js\"\n\nimport \"./ElementPage.vue?vue&type=style&index=0&id=319900ad&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"element-not-found-page\">\r\n    <div class=\"element-not-found-page__title\">\r\n      Page Not Found\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ElementNotFoundPage',\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../common.less\";\r\n\r\n.element-not-found-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 200px;\r\n  width: 100%;\r\n\r\n  .element-not-found-page__title {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 4em;\r\n    font-size: 2rem;\r\n    font-weight: 600;\r\n    color: @light-text-color;\r\n    background-color: @secondary-color;\r\n    border-radius: 1em;\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./ElementNotFoundPage.vue?vue&type=template&id=c3f19056\"\nimport script from \"./ElementNotFoundPage.vue?vue&type=script&lang=js\"\nexport * from \"./ElementNotFoundPage.vue?vue&type=script&lang=js\"\n\nimport \"./ElementNotFoundPage.vue?vue&type=style&index=0&id=c3f19056&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"search-page\">\r\n    <div class=\"search-page__filter-section\">\r\n      <lb-search-bar :placeholder=\"`Search elements by name...`\" @search=\"search\" :text=\"searchText\"></lb-search-bar>\r\n      <div class=\"search-page__filters\">\r\n        <lb-select placeholder=\"All categories\"\r\n                   :items=\"categories\"\r\n                   :loading=\"categoriesLoading\"\r\n                   :multiselect=\"true\"\r\n                   :width=\"'50%'\">\r\n        </lb-select>\r\n        <lb-tag-container :tags=\"tags\"\r\n                          @addTag=\"addTag\"\r\n                          @removeTag=\"removeTag\">\r\n        </lb-tag-container>\r\n      </div>\r\n    </div>\r\n    <div class=\"search-page__result-section\" :style=\"loadingVisibility\">\r\n      <h2 class=\"search-page__result-section-header\">Results</h2>\r\n      <table class=\"search-page__element-table\">\r\n        <tr class=\"element-table__row element-table__row--header\">\r\n          <th class=\"element-table__cell\">\r\n            <div class=\"element-table__cell-content\">\r\n              <icon icon=\"lb-link\"></icon>\r\n              <span> Name </span>\r\n            </div>\r\n          </th>\r\n          <th class=\"element-table__cell\">\r\n            <div class=\"element-table__cell-content\">\r\n              <icon icon=\"lb-folder\"></icon>\r\n              <span> Category </span>\r\n            </div>\r\n          </th>\r\n          <th class=\"element-table__cell element-table__cell--shrink\">\r\n            Last modified\r\n          </th>\r\n        </tr>\r\n        <tr class=\"element-table__row\" v-for=\"(el, index) in elements\" :key=\"index\">\r\n          <td class=\"element-table__cell\">\r\n            <span class=\"element-table__link\" @click=\"navigateToElement(el.id, el.categoryID)\">\r\n              {{ el.name }}\r\n            </span>\r\n          </td>\r\n          <td class=\"element-table__cell\">\r\n            <span>{{ el.categoryName }}</span>\r\n          </td>\r\n          <td class=\"element-table__cell element-table__cell--shrink\">\r\n            {{ formatDate(el.lastModified) }}\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <lb-page-nav :currentPage=\"currentPage\" :totalPages=\"totalPages\" @go=\"changePage\" v-if=\"isPageNavNeeded\"></lb-page-nav>\r\n    </div>\r\n    <lb-spinner v-if=\"elementsLoading\"></lb-spinner>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbSearchBar from '@/components/LbSearchBar.vue';\r\nimport LbSelect from '@/components/LbSelect.vue';\r\nimport LbTagContainer from '@/components/LbTagContainer.vue';\r\nimport LbPageNav from '@/components/LbPageNav.vue';\r\nimport { v4 } from 'uuid';\r\nimport { mapGetters, mapMutations } from 'vuex';\r\nimport { getUniverseCategories } from '@/httpLayers/category.http.js';\r\nimport { format } from 'date-fns';\r\nimport { getSearchedUniverseElements } from '@/httpLayers/search.http.js';\r\n\r\nexport default {\r\n  name: 'SearchPage',\r\n  components: {\r\n    LbSearchBar,\r\n    LbSelect,\r\n    LbTagContainer,\r\n    LbPageNav\r\n  },\r\n  data() {\r\n    return {\r\n      searchText: '',\r\n      tags: [],\r\n      categories: [],\r\n      categoriesLoading: false,\r\n      elementsLoading: false,\r\n      elements: [],\r\n      currentPage: 1,\r\n      totalPages: 1\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID']),\r\n    selectedCategories() {\r\n      return this.categories.filter(cat => (cat.selected))\r\n                            .map(cat => (cat.id));\r\n    },\r\n    loadingVisibility() {\r\n      return this.elementsLoading ? 'visibility: hidden;' : 'visibility: visible;';\r\n    },\r\n    isPageNavNeeded() {\r\n      return this.totalPages > 1;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    formatDate(date) {\r\n      const isoDate = new Date(date);\r\n      const formattedDate = format(isoDate, 'dd.MM.yyyy hh:mm');\r\n      return formattedDate;\r\n    },\r\n    navigateToElement(elID, catID) {\r\n      this.$router.push({\r\n        name: 'ElementPage',\r\n        params: {\r\n          universeID: this.universeID,\r\n          categoryID: catID,\r\n          elementID: elID\r\n        }\r\n      })\r\n    },\r\n    async search(queryText) {\r\n      const page = this.currentPage == 1 ? 0 : this.currentPage;\r\n      await this.fetchElements(queryText, page);\r\n    },\r\n    async changePage(newPageNumber) {\r\n      this.currentPage = newPageNumber;\r\n      await this.search(this.searchText);\r\n    },\r\n    addTag(tagName) {\r\n      this.tags.push({\r\n        id: v4(),\r\n        name: tagName\r\n      });\r\n    },\r\n    removeTag(id) {\r\n      this.tags = this.tags.filter(t => (t.id !== id));\r\n    },\r\n    async fetchElements(queryText, page) {\r\n      let newPage = page;\r\n      if (this.searchText !== queryText) {\r\n        this.currentPage = 1;\r\n        newPage = 1;\r\n      }\r\n      this.searchText = queryText;\r\n      const elementsPerPage = 50;\r\n      this.loading = true;\r\n      try {\r\n        const offset = newPage !== 0 ? (newPage * elementsPerPage) - elementsPerPage : 0;\r\n        const tagsToSend = this.tags.map(tag => (tag.name));\r\n        const result = await getSearchedUniverseElements(this.universeID, queryText, this.selectedCategories, tagsToSend, elementsPerPage, offset)\r\n        this.elements = result.elements;\r\n        this.totalPages = result.totalPages;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async fetchCategories() {\r\n      try {\r\n        this.categoriesLoading = true;\r\n        const basicCategories = [\r\n                {\r\n                    id: 'Characters',\r\n                    name: 'Characters'\r\n                },\r\n                {\r\n                    id: 'Locations',\r\n                    name: 'Locations'\r\n                },\r\n                {\r\n                    id: 'Events',\r\n                    name: 'Events'\r\n                }\r\n        ];\r\n        const customCategories = await getUniverseCategories(this.universeID);\r\n        this.categories.push(...basicCategories, ...customCategories);\r\n      } catch(error) {\r\n        this.notify({ type: 'negative', message: error.message });\r\n      } finally {\r\n        this.categoriesLoading = false;\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    this.fetchCategories();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.search-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  position: relative;\r\n  padding: 1em;\r\n  gap: 1em;\r\n\r\n  .search-page__filter-section {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: ~\"max(60%, 800px)\";\r\n    gap: 1em;\r\n\r\n    .search-page__filters {\r\n      display: flex;\r\n      gap: 0.5em;\r\n    }\r\n  }\r\n\r\n  .search-page__result-section {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 80%;\r\n\r\n    .search-page__result-section-header {\r\n      display: flex;\r\n      justify-content: center;\r\n    }\r\n\r\n    .search-page__element-table {\r\n      background-color: @secondary-color;\r\n      color: @light-text-color;\r\n      border-spacing: 0;\r\n      width: 100%;\r\n      padding: 0.5em;\r\n      border-radius: 10px;\r\n      margin-bottom: 1.5em;\r\n\r\n      .element-table__row {\r\n        font-size: 1.2rem;\r\n        &--header {\r\n          font-size: 1.4rem;\r\n\r\n          .element-table__cell {\r\n            border-bottom: 2px solid @light-text-color;\r\n            font-weight: 600;\r\n            text-align: start;\r\n          }\r\n        }\r\n      }\r\n\r\n      .element-table__cell {\r\n        border-bottom: 1px solid @light-text-color;\r\n        font-weight: 400;\r\n        padding: 0.5em 0em;\r\n        width: 50%;\r\n\r\n        .element-table__link {\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n\r\n          &:hover {\r\n            color: @special-color;\r\n          }\r\n        }\r\n\r\n        .element-table__cell-content {\r\n          display: flex;\r\n          flex-wrap: nowrap;\r\n          align-items: center;\r\n          gap: 0.3em;\r\n        }\r\n\r\n        &--shrink {\r\n          width: fit-content;\r\n          white-space: nowrap;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./SearchPage.vue?vue&type=template&id=1a34e3a6\"\nimport script from \"./SearchPage.vue?vue&type=script&lang=js\"\nexport * from \"./SearchPage.vue?vue&type=script&lang=js\"\n\nimport \"./SearchPage.vue?vue&type=style&index=0&id=1a34e3a6&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"story-page\">\r\n    <router-view v-if=\"storyID\" :storyID=\"storyID\" :universeID=\"universeID\"></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'StoryPage',\r\n  props: {\r\n    storyID: {\r\n      type: String,\r\n    },\r\n    universeID: {\r\n      type: String\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n    };\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.story-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n</style>","import { render } from \"./StoryPage.vue?vue&type=template&id=b020f8e6\"\nimport script from \"./StoryPage.vue?vue&type=script&lang=js\"\nexport * from \"./StoryPage.vue?vue&type=script&lang=js\"\n\nimport \"./StoryPage.vue?vue&type=style&index=0&id=b020f8e6&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"story-chapters-page\">\r\n    <div class=\"story-chapters-page__header\" :style=\"storyLoadingVisibility\">\r\n      <lb-editable-text :value=\"storyTitle\" :maxLength=\"80\" customClass=\"story-chapters-page__title\" @onSave=\"changeStoryTitle\"/>\r\n      <label class=\"story-chapters-page__header-label\">Description</label>\r\n      <lb-editable-text :value=\"storyDescription\"\r\n                        :maxLength=\"500\"\r\n                        type=\"textarea\"\r\n                        customClass=\"story-chapters-page__description\"\r\n                        @onSave=\"changeStoryDescription\"\r\n                        noContent=\"No description\"/>\r\n    </div>\r\n    <lb-spinner v-if=\"storyLoading\"></lb-spinner>\r\n    <div class=\"story-chapters-page__chapter-list\">\r\n      <div class=\"story-chapters-page__chapter-list-header\">\r\n        List of Chapters\r\n      </div>\r\n      <div class=\"util__horizontal-line--black\"></div>\r\n      <story-chapters v-if=\"canShowChapters\" :storyID=\"storyID\"></story-chapters>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbEditableText from '@/components/LbEditableText.vue';\r\nimport StoryChapters from './StoryChapters.vue';\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport { getStory, updateStory } from '@/httpLayers/story.http.js';\r\n\r\n\r\nexport default {\r\n  name: 'StoryChaptersPage',\r\n  components: {\r\n    LbEditableText,\r\n    StoryChapters\r\n  },\r\n  props: {\r\n    storyID: {\r\n      type: String,\r\n    },\r\n    universeID: {\r\n      type: String\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      storyTitle: '',\r\n      storyDescription: '',\r\n      storyLoading: true,\r\n      canShowChapters: false\r\n    };\r\n  },\r\n  computed: {\r\n    storyLoadingVisibility() {\r\n      return this.storyLoading ? 'visibility: hiddden;' : 'visibility: visible';\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    async changeStoryTitle(newTitle) {\r\n      try {\r\n        await updateStory(this.storyID, {title: newTitle});\r\n        this.storyTitle = newTitle;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async changeStoryDescription(newDescription) {\r\n      try {\r\n        await updateStory(this.storyID, {description: newDescription});\r\n        this.storyDescription = newDescription;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async fetchStory() {\r\n      try {\r\n        this.storyLoading = true;\r\n        const fetchedStory = await getStory(this.storyID);\r\n        if (this.universeID != fetchedStory.Universe_id) {\r\n          throw new Error('This story does not belong to this universe');\r\n        } else {\r\n          this.storyDescription = fetchedStory.description;\r\n          this.storyTitle = fetchedStory.title;\r\n          return true;\r\n        }\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n        this.$router.replace({ name: 'UniverseMainPage', params: { universeID: this.universeID }});\r\n      } finally {\r\n        this.storyLoading = false;\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    this.canShowChapters = await this.fetchStory();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.story-chapters-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n  position: relative;\r\n  padding: 1em;\r\n  gap: 1em;\r\n\r\n  .story-chapters-page__header {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n\r\n    .story-chapters-page__title {\r\n      font-weight: 600;\r\n      width: 1000px;\r\n\r\n      .lb-editable-text__text, .lb-editable-text__input {\r\n        font-size: 2rem;\r\n        text-align: center;\r\n      }\r\n    }\r\n\r\n    .story-chapters-page__description {\r\n      margin-top: 2px;\r\n      width: 1000px;\r\n    }\r\n\r\n    .story-chapters-page__header-label {\r\n      width: 100%;\r\n      text-align: start;\r\n      font-size: 0.9rem;\r\n      color: @secondary-color;\r\n    }\r\n  }\r\n\r\n  .story-chapters-page__chapter-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 80%;\r\n    gap: 0.5em;\r\n\r\n    .story-chapters-page__chapter-list-header {\r\n      font-size: 1.7rem;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"story-chapters\">\r\n    <div class=\"story-chapters__content\" v-if=\"chapters.length\">\r\n      <lb-chapter-element v-for=\"(chapter, index) in sortedChapters\" :key=\"index\"\r\n                          :id=\"chapter.id\"\r\n                          :title=\"chapter.title\"\r\n                          :description=\"chapter.description\"\r\n                          :ordinalNumber=\"chapter.ordinalNumber\"\r\n                          :isLast=\"chapter.ordinalNumber == chapters.length-1\"\r\n                          :storyID=\"storyID\"\r\n                          @changeDescription=\"changeDescription\"\r\n                          @deleteChapter=\"removeChapter\"\r\n                          @moveChapter=\"moveChapter\">\r\n\r\n      </lb-chapter-element>\r\n    </div>\r\n    <div class=\"story-chapters__no-content\" v-if=\"chapters.length == 0\">\r\n      No chapters\r\n    </div>\r\n    <div class=\"story-chapters__create-button\">\r\n      <lb-button @click=\"openPopup\" :size=\"1.2\" icon=\"lb-plus\">Create new chapter</lb-button>\r\n    </div>\r\n    <lb-spinner v-if=\"loading\"></lb-spinner>\r\n    <create-chapter-popup v-if=\"isPopupOpen\"\r\n                          :isOpen=\"isPopupOpen\"\r\n                          @close=\"closePopup\"\r\n                          :storyID=\"storyID\"\r\n                          :ordinalNumber=\"newChapterOrdinalNumber\"\r\n                          @onResult=\"addNewChapter\">\r\n    </create-chapter-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CreateChapterPopup from '@/popups/CreateChapterPopup.vue';\r\nimport LbChapterElement from '@/components/LbChapterElement.vue';\r\nimport { mapMutations } from 'vuex';\r\nimport { getStoryChapters, updateChapter, updateChapterPosition, deleteChapter } from '@/httpLayers/chapter.http.js';\r\n\r\nexport default {\r\n  name: 'StoryChapters',\r\n  components: {\r\n    CreateChapterPopup,\r\n    LbChapterElement\r\n  },\r\n  props: {\r\n    storyID: {\r\n      type: String,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isPopupOpen: false,\r\n      chapters: [],\r\n      loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    newChapterOrdinalNumber() {\r\n      return this.chapters.length;\r\n    },\r\n    sortedChapters() {\r\n      return this.chapters.sort((ch1, ch2) => {\r\n        if (ch1.ordinalNumber > ch2.ordinalNumber) return 1;\r\n        if (ch1.ordinalNumber == ch2.ordinalNumber) return 0;\r\n        if (ch1.ordinalNumber < ch2.ordinalNumber) return -1;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    closePopup() {\r\n      this.isPopupOpen = false;\r\n    },\r\n    openPopup() {\r\n      this.isPopupOpen = true;\r\n    },\r\n    async changeDescription(change) {\r\n      const {id, newValue} = change;\r\n      try {\r\n        const chapter = this.chapters.find(ch => ch.id == id);\r\n        await updateChapter(chapter.id, {description: newValue});\r\n        chapter.description = newValue;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    addNewChapter(newChapter) {\r\n      this.chapters.push(newChapter);\r\n    },\r\n    async moveChapter(order) {\r\n      try {\r\n        const chapter1 = this.chapters.find(ch => ch.ordinalNumber == order.oldOrdinalNumber);\r\n        const chapter2 = this.chapters.find(ch => ch.ordinalNumber == order.newOrdinalNumber);\r\n        await updateChapterPosition(chapter1.id, {\r\n          storyID: this.storyID,\r\n          oldOrdinalNumber: order.oldOrdinalNumber,\r\n          newOrdinalNumber: order.newOrdinalNumber\r\n        });\r\n        chapter1.ordinalNumber = order.newOrdinalNumber;\r\n        chapter2.ordinalNumber = order.oldOrdinalNumber;\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async removeChapter(id) {\r\n      try {\r\n        const chapter = this.chapters.find(ch => ch.id == id);\r\n        const position = chapter.ordinalNumber;\r\n        await deleteChapter(chapter.id);\r\n        this.chapters = this.chapters.filter(ch => { return ch.id !== id });\r\n        this.chapters.filter(ch => (ch.ordinalNumber > position))\r\n                  .forEach(ch => {ch.ordinalNumber = ch.ordinalNumber - 1});\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      }\r\n    },\r\n    async fetchChapters() {\r\n      this.loading = true;\r\n      try {\r\n        this.chapters = await getStoryChapters(this.storyID);\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: `Error: ${error.message}`});\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchChapters();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../common.less';\r\n\r\n.story-chapters {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  position: relative;\r\n\r\n  .story-chapters__content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1em;\r\n  }\r\n\r\n  .story-chapters__no-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    align-self: center;\r\n    width: min-content;\r\n    padding: 1.5em 2em;\r\n    background-color: @secondary-color;\r\n    color: @light-text-color;\r\n    font-weight: 500;\r\n    font-size: 1.5rem;\r\n    white-space: nowrap;\r\n    border-radius: 10px;\r\n\r\n  }\r\n\r\n  .story-chapters__create-button {\r\n    margin-top: 1em;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <lb-popup-box :isOpen=\"isOpen\" title=\"Create Chapter\" @close=\"$emit('close')\">\r\n    <div class=\"create-chapter-popup\" :style=\"setVisibilityOnLoading\">\r\n      <div class=\"create-chapter-popup__form\">\r\n        <lb-input name=\"Chapter Title\"\r\n                          :maxLength=\"80\"\r\n                          :value=\"title\"\r\n                          @update:value=\"setTitle\"\r\n                          :error=\"titleError\"></lb-input>\r\n        <lb-input name=\"Description\" type=\"textarea\" v-model:value=\"description\" :maxLength=\"500\"></lb-input>\r\n      </div>\r\n        <div class=\"create-chapter-popup__buttons\">\r\n          <lb-button variant=\"outline\" :size=\"1.4\" @click=\"$emit('close')\">Cancel</lb-button>\r\n          <lb-button variant=\"positive\" :size=\"1.4\" @click=\"create\" :disabled=\"!isFormValid\">Create</lb-button>\r\n        </div>\r\n      </div>\r\n    <lb-spinner size=\"50px\" v-if=\"loading\"></lb-spinner>\r\n  </lb-popup-box>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nimport LbInput from '@/components/LbInput.vue';\r\nimport { createChapter } from '@/httpLayers/chapter.http.js';\r\n\r\nexport default {\r\n  name: 'CreateChapterPopup',\r\n  components: {\r\n    LbInput\r\n  },\r\n  props: {\r\n    isOpen: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    storyID: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    ordinalNumber: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  emits: [\"close\", \"onResult\"],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      title: '',\r\n      titleError: '',\r\n      description: '',\r\n    };\r\n  },\r\n  computed: {\r\n    setVisibilityOnLoading() {\r\n      return this.loading ? 'visibility: hidden;' : 'visibility: visible;';\r\n    },\r\n    isFormValid() {\r\n     if(this.titleError == '') {\r\n        if(this.title.length > 0) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations('notifications', ['notify']),\r\n    setTitle(newTitle) {\r\n      this.titleError = '';\r\n      this.title = newTitle;\r\n      if (this.title.length < 1) {\r\n        this.titleError = 'Title cannot be empty!';\r\n      }\r\n    },\r\n    async create() {\r\n      try {\r\n        this.loading = true;\r\n        const createdChapter = await createChapter(this.title, this.description, this.ordinalNumber, this.storyID);\r\n        createdChapter.ordinalNumber = createdChapter.ordinal_number;\r\n        delete createdChapter.ordinal_number;\r\n        this.$emit('onResult', createdChapter);\r\n        this.$emit('close');\r\n      } catch (error) {\r\n        this.notify({type: 'negative', message: error.message});\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.create-chapter-popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 1em;\r\n  width: 800px;\r\n\r\n  .create-chapter-popup__form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 25px;\r\n  }\r\n\r\n  .create-chapter-popup__buttons {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>","import { render } from \"./CreateChapterPopup.vue?vue&type=template&id=6eaf6626\"\nimport script from \"./CreateChapterPopup.vue?vue&type=script&lang=js\"\nexport * from \"./CreateChapterPopup.vue?vue&type=script&lang=js\"\n\nimport \"./CreateChapterPopup.vue?vue&type=style&index=0&id=6eaf6626&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"lb-chapter-element\">\r\n    <div class=\"lb-chapter-element__header\">\r\n      <div class=\"lb-chapter-element__header-part\">\r\n        <div class=\"lb-chapter-element__title\" @click=\"navigateToChapter\">\r\n          {{ title }}\r\n        </div>\r\n      </div>\r\n      <div class=\"lb-chapter-element__header-part\">\r\n        <div class=\"lb-chapter-element__buttons\">\r\n          <div class=\"lb-chapter-element__position-buttons\">\r\n            <lb-button icon=\"lb-up\" :size=\"1.05\" :disabled=\"ordinalNumber == 0\" @click=\"moveChapter(-1)\"></lb-button>\r\n            <lb-button icon=\"lb-down\" :size=\"1.05\" :disabled=\"isLast\" @click=\"moveChapter(1)\"></lb-button>\r\n          </div>\r\n          <lb-button icon=\"lb-trash\" variant=\"negative\" :size=\"1.05\" @click=\"deleteChapter\"></lb-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"util__horizontal-line--white\"></div>\r\n    <div class=\"lb-chapter-element__content\">\r\n      <label class=\"lb-chapter-element__description-label\">\r\n        Description\r\n      </label>\r\n      <lb-editable-text :maxLength=\"500\"\r\n                        noContent=\"No Description\"\r\n                        type=\"textarea\"\r\n                        width=\"100%\"\r\n                        :value=\"description\"\r\n                        @onSave=\"changeDescription\">\r\n      </lb-editable-text>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LbEditableText from './LbEditableText.vue';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'LbChapterElement',\r\n  components: {\r\n    LbEditableText\r\n  },\r\n  emits: ['changeDescription', 'moveChapter', 'deleteChapter'],\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      require: true\r\n    },\r\n    storyID: {\r\n      type: String\r\n    },\r\n    title: {\r\n      type: String,\r\n    },\r\n    ordinalNumber: {\r\n      type: Number\r\n    },\r\n    description: {\r\n      type: String\r\n    },\r\n    isLast: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('universe', ['universeID'])\r\n  },\r\n  methods: {\r\n    changeDescription(newValue) {\r\n      this.$emit('changeDescription', {\r\n        id: this.id,\r\n        newValue: newValue\r\n      });\r\n    },\r\n    moveChapter(change) {\r\n      this.$emit('moveChapter', {\r\n        oldOrdinalNumber: this.ordinalNumber,\r\n        newOrdinalNumber: this.ordinalNumber + change\r\n      });\r\n    },\r\n    deleteChapter() {\r\n      this.$emit('deleteChapter', this.id);\r\n    },\r\n    navigateToChapter() {\r\n      this.$router.push({\r\n        name: 'ChapterPage',\r\n        params: {\r\n          chapterID: this.id,\r\n          storyID: this.storyID,\r\n          universeID: this.universeID\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-chapter-element {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  background-color: @secondary-color;\r\n  border-radius: 10px;\r\n  padding: 0.5em;\r\n  color: @light-text-color;\r\n\r\n  &:hover {\r\n    .lb-chapter-element__header {\r\n      .lb-chapter-element__buttons {\r\n        visibility: visible;\r\n      }\r\n    }\r\n  }\r\n\r\n  .lb-chapter-element__header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    padding: 0.2em;\r\n\r\n    .lb-chapter-element__header-part {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 5px;\r\n\r\n      .lb-chapter-element__title {\r\n        font-size: 1.5rem;\r\n        font-weight: 500;\r\n        cursor: pointer;\r\n\r\n        &:hover {\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n    }\r\n\r\n    .lb-chapter-element__buttons {\r\n      display: flex;\r\n      gap: 10px;\r\n      visibility: hidden;\r\n\r\n      .lb-chapter-element__position-buttons {\r\n        display: flex;\r\n        gap: 5px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .lb-chapter-element__content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: @light-text-color;\r\n    padding: 0.3em;\r\n\r\n    .lb-chapter-element__description-label {\r\n      font-size: 0.9rem;\r\n      color: @neutral-color;\r\n      font-weight: 300;\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./LbChapterElement.vue?vue&type=template&id=1abc0e22\"\nimport script from \"./LbChapterElement.vue?vue&type=script&lang=js\"\nexport * from \"./LbChapterElement.vue?vue&type=script&lang=js\"\n\nimport \"./LbChapterElement.vue?vue&type=style&index=0&id=1abc0e22&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StoryChapters.vue?vue&type=template&id=7dab2b12\"\nimport script from \"./StoryChapters.vue?vue&type=script&lang=js\"\nexport * from \"./StoryChapters.vue?vue&type=script&lang=js\"\n\nimport \"./StoryChapters.vue?vue&type=style&index=0&id=7dab2b12&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StoryChaptersPage.vue?vue&type=template&id=d41b4634\"\nimport script from \"./StoryChaptersPage.vue?vue&type=script&lang=js\"\nexport * from \"./StoryChaptersPage.vue?vue&type=script&lang=js\"\n\nimport \"./StoryChaptersPage.vue?vue&type=style&index=0&id=d41b4634&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router';\r\nimport store from '../store';\r\nimport MainPage from \"../pages/MainPage.vue\";\r\nimport ChapterPage from \"../pages/ChapterPage.vue\";\r\nimport RegisterPage from \"../pages/RegisterPage.vue\";\r\nimport LoginPage from \"../pages/LoginPage.vue\";\r\nimport UserPage from \"../pages/UserPage.vue\";\r\nimport UniversePage from \"../pages/universePage/UniversePage.vue\";\r\nimport UniverseMainPage from '@/pages/universePage/UniverseMainPage.vue';\r\nimport LbUniverseNav from \"../components/LbUniverseNav.vue\";\r\nimport CategoryPage from '@/pages/universeElementPages/CategoryPage.vue';\r\nimport CategoryElementsPage from '@/pages/universeElementPages/CategoryElementsPage.vue';\r\nimport ElementPage from '@/pages/elementPage/ElementPage.vue';\r\nimport ElementNotFoundPage from '@/pages/ElementNotFoundPage.vue';\r\nimport SearchPage from '@/pages/SearchPage.vue';\r\nimport StoryPage from '@/pages/storyPage/StoryPage.vue';\r\nimport StoryChaptersPage from '@/pages/storyPage/StoryChaptersPage.vue';\r\n\r\nimport { refreshToken } from '../httpLayers/login.http.js';\r\n\r\nconst categoryRoute = {\r\n  path: 'category/:categoryID/',\r\n  name: 'Category',\r\n  props: true,\r\n  components: {\r\n    default: CategoryPage\r\n  },\r\n  children: [\r\n    {\r\n      path: '',\r\n      name: 'CategoryElements',\r\n      component: CategoryElementsPage,\r\n      props: true,\r\n    },\r\n    {\r\n      path: 'element/:elementID',\r\n      name: 'ElementPage',\r\n      component: ElementPage,\r\n      props: true,\r\n    }\r\n  ]\r\n};\r\n\r\nconst universeMainRoute = {\r\n  path: '',\r\n  name: 'UniverseMainPage',\r\n  component: UniverseMainPage,\r\n  props: true\r\n};\r\n\r\nconst elementNotFoundRoute = {\r\n  path: 'not-found',\r\n  name: 'ElementNotFoundPage',\r\n  component: ElementNotFoundPage,\r\n};\r\n\r\nconst searchRoute = {\r\n  path: 'search/',\r\n  name: 'SearchPage',\r\n  component: SearchPage\r\n};\r\n\r\nconst storyPage = {\r\n  path: 'story/:storyID',\r\n  name: 'StoryPage',\r\n  component: StoryPage,\r\n  props: true,\r\n  children: [\r\n    {\r\n      path: 'chapter/:chapterID',\r\n      name: 'ChapterPage',\r\n      component: ChapterPage,\r\n      props: true\r\n    },\r\n    {\r\n      path: '',\r\n      name: 'StoryChaptersPage',\r\n      component: StoryChaptersPage,\r\n      props: true\r\n    }\r\n  ]\r\n};\r\n\r\n\r\n\r\nconst routes = [\r\n  { path: '/', name: 'Main', component: MainPage },\r\n  { path: '/register', name: 'Register', component: RegisterPage, meta: { requiresUnAuth: true }},\r\n  { path: '/login', name: 'Login', component: LoginPage, meta: { requiresUnAuth: true }},\r\n  { path: '/user', name: 'User', component: UserPage, meta: { requiresAuth: true }},\r\n  { path: '/universe/:universeID', name: 'Universe',\r\n    components: {\r\n      default: UniversePage,\r\n      header: LbUniverseNav,\r\n    },\r\n    meta: {\r\n      requiresAuth: true,\r\n      universeRelated: true,\r\n    },\r\n    async beforeEnter(to, from, next) {\r\n      if(!store.getters['universe/universesFetchedFlag']) {\r\n        await store.dispatch('universe/fetchUserUniverses');\r\n      }\r\n      if(store.getters['universe/checkIfUserOwnsUniverse']({ universeID: to.params.universeID })) {\r\n        next();\r\n      } else {\r\n        next('/user');\r\n      }\r\n    },\r\n    children: [\r\n      categoryRoute,\r\n      universeMainRoute,\r\n      elementNotFoundRoute,\r\n      searchRoute,\r\n      storyPage\r\n    ]\r\n  },\r\n  { path: '/:notFound(.*)', redirect: `/` }\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n});\r\n\r\nrouter.beforeEach(async (to, _, next) => {\r\n  if(!store.getters.tokenRefreshedFlag) {\r\n    let user = await refreshToken();\r\n    if (user && user.data.name && user.data.email && user.data.id) {\r\n      store.commit('setUser', user.data);\r\n    }\r\n    store.commit('setTokenRefreshedFlag', true);\r\n  }\r\n\r\n  if(to.meta.requiresAuth && !store.getters.isAuth) {\r\n      next('/login');\r\n  } else if(to.meta.requiresUnAuth && store.getters.isAuth) {\r\n      next('/user');\r\n  } else {\r\n      next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n","<template>\r\n    <div>\r\n        <i :class=\"icon\" :style=\"setSize\"></i>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Icon',\r\n    props: {\r\n        icon: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        size: {\r\n            type: Number,\r\n        }\r\n    },\r\n    computed: {\r\n        setSize() {\r\n            if(this.size) {\r\n                return `font-size: ${this.size}rem`;\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../icons.less';\r\n\r\n</style>\r\n","import { render } from \"./Icon.vue?vue&type=template&id=1091c13e\"\nimport script from \"./Icon.vue?vue&type=script&lang=js\"\nexport * from \"./Icon.vue?vue&type=script&lang=js\"\n\nimport \"./Icon.vue?vue&type=style&index=0&id=1091c13e&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <button :class=\"setStyleClass\"\r\n          :style=\"`font-size: ${this.size}rem;`\"\r\n          :disabled=\"disabled || loading\"\r\n          :tabindex=\"disabled || loading ? -1 : 1\"\r\n          @click=\"onClick\">\r\n    <div class=\"button__content\">\r\n      <icon v-if=\"this.icon\" :icon=\"this.icon\" :size=\"this.size\" />\r\n      <!-- @slot content of the button -->\r\n      <slot/>\r\n    </div>\r\n    <lb-spinner v-if=\"loading\" size=\"20px\" thickness=\"3px\" :variant=\"setSpinnerVariant\"></lb-spinner>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"LbButton\",\r\n  props: {\r\n    variant: {\r\n      type: String,\r\n      default: \"default\",\r\n      validator(value) {\r\n        return [\"default\", \"positive\", \"negative\", \"outline\"].includes(value);\r\n      }\r\n    },\r\n    size: {\r\n      type: Number,\r\n      required: false,\r\n      default: null\r\n    },\r\n    icon: {\r\n      type: String,\r\n      required: false\r\n    },\r\n    disabled: {\r\n        type: Boolean,\r\n        required: false,\r\n        default: false\r\n    },\r\n    loading: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n  },\r\n  emits: ['click'],\r\n  computed: {\r\n    setStyleClass() {\r\n        if(this.disabled) {\r\n          return `button button--disabled`;\r\n        }\r\n        if(this.loading) {\r\n          return `button button--${this.variant} button--loading`;\r\n        }\r\n        return `button button--${this.variant}`;\r\n    },\r\n    setSpinnerVariant() {\r\n      return this.variant === 'outline' ? 'dark' : '';\r\n    }\r\n  },\r\n  methods: {\r\n    onClick() {\r\n      if (!this.loading && !this.disabled) {\r\n        this.$emit('click');\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.button {\r\n  border: 1px solid transparent;\r\n  height: min-content;\r\n  text-align: center;\r\n  align-items: center;\r\n  display: flex;\r\n  border-radius: 10px;\r\n  padding: 0.2em 0.4em;\r\n  color: @light-text-color;\r\n  font-weight: 600;\r\n  font-family: 'Roboto';\r\n  position: relative;\r\n  cursor: pointer;\r\n\r\n  .button__content {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 0.5em;\r\n  }\r\n\r\n  &:active {\r\n    color: @special-color;\r\n  }\r\n\r\n  &--default {\r\n    background-color: @accent-color;\r\n    &:hover:not(.button--loading), &:focus-visible:not(.button--loading) {\r\n      background-color: @accent-brighter-color;\r\n    }\r\n    &:active:not(.button--loading) {\r\n      background-color:@accent-darker-color;\r\n    }\r\n  }\r\n\r\n  &--positive {\r\n    background-color: @positive-color;\r\n    &:hover:not(.button--loading), &:focus-visible:not(.button--loading) {\r\n      background-color: @positive-secondary-color;\r\n    }\r\n  }\r\n\r\n  &--negative {\r\n    background-color: @negative-color;\r\n    &:hover:not(.button--loading), &:focus-visible:not(.button--loading) {\r\n      background-color: @negative-secondary-color;\r\n    }\r\n  }\r\n\r\n  &--outline {\r\n    color: @dark-text-color;\r\n    background-color: transparent;\r\n    border-color: @dark-text-color;\r\n    &:hover:not(.button--loading), &:focus-visible:not(.button--loading) {\r\n      background-color: fade(@neutral-color, 30);\r\n      border-color: transparent;\r\n    }\r\n    &:active:not(.button--loading) {\r\n      border-color: @dark-text-color;\r\n      color: @dark-text-color;\r\n    }\r\n  }\r\n\r\n  &--disabled {\r\n    background-color: @neutral-color;\r\n    color: @neutral-secondary-color;\r\n    cursor: default;\r\n\r\n    &:active {\r\n      color: @neutral-secondary-color;\r\n    }\r\n  }\r\n\r\n  &--loading {\r\n    cursor: default;\r\n    .button__content {\r\n      visibility: hidden;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./LbButton.vue?vue&type=template&id=7405197a\"\nimport script from \"./LbButton.vue?vue&type=script&lang=js\"\nexport * from \"./LbButton.vue?vue&type=script&lang=js\"\n\nimport \"./LbButton.vue?vue&type=style&index=0&id=7405197a&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"lb-spinner\" :class=\"setVariant\">\r\n        <div class=\"lb-spinner__loader\" :style=\"setStyle\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'LbSpinner',\r\n    props: {\r\n        size: {\r\n            type: String,\r\n            default: '35px'\r\n        },\r\n        thickness: {\r\n            type: String,\r\n            default: '5px'\r\n        },\r\n        variant: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    computed: {\r\n        setStyle() {\r\n            return `width: ${this.size}; height: ${this.size}; border-width: ${this.thickness};`\r\n        },\r\n        setVariant() {\r\n            return this.variant.length > 0 ? `lb-spinner--${this.variant}` : '';\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../common.less';\r\n\r\n.lb-spinner {\r\n    display: flex;\r\n    margin: 0;\r\n    align-content: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    margin: auto;\r\n    transform: translate(-50%,-50%);\r\n\r\n    &--dark {\r\n        .lb-spinner__loader {\r\n            border-color: @dark-text-color;\r\n            border-bottom-color: transparent;\r\n        }\r\n    }\r\n}\r\n\r\n.lb-spinner__loader {\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    border: solid @light-text-color;\r\n    border-width: 5px;\r\n    border-bottom-color: transparent;\r\n    border-radius: 50%;\r\n    animation: rotation 1s linear infinite;\r\n}\r\n\r\n@keyframes rotation {\r\n    0% {\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n</style>","import { render } from \"./LbSpinner.vue?vue&type=template&id=52809c72\"\nimport script from \"./LbSpinner.vue?vue&type=script&lang=js\"\nexport * from \"./LbSpinner.vue?vue&type=script&lang=js\"\n\nimport \"./LbSpinner.vue?vue&type=style&index=0&id=52809c72&lang=less\"\n\nimport exportComponent from \"F:\\\\Informatyka\\\\STUDIA\\\\LICENCJAT\\\\Lorebook\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router/router.js';\r\nimport store from './store';\r\n//Common components\r\nimport Icon from './components/Icon.vue';\r\nimport LbButton from './components/LbButton.vue';\r\nimport LbPopupBox from './components/LbPopupBox.vue';\r\nimport LbSpinner from './components/LbSpinner.vue';\r\n\r\nconst app = createApp(App).use(store).use(router);\r\n\r\napp.component(\"Icon\", Icon);\r\napp.component(\"LbButton\", LbButton);\r\napp.component(\"LbPopupBox\", LbPopupBox);\r\napp.component(\"LbSpinner\", LbSpinner);\r\n\r\napp.mount(\"#app\");\r\n\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StoryChaptersPage.vue?vue&type=style&index=0&id=d41b4634&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbContentLink.vue?vue&type=style&index=0&id=1cef9986&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbSmallError.vue?vue&type=style&index=0&id=2e5c1744&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CategoriesPopup.vue?vue&type=style&index=0&id=4c283bad&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbMenuButton.vue?vue&type=style&index=0&id=882bf14c&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CreateStoryPopup.vue?vue&type=style&index=0&id=0d784db4&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbUniverseElementList.vue?vue&type=style&index=0&id=07e324e9&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbSelectList.vue?vue&type=style&index=0&id=5a2331d8&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UniversePage.vue?vue&type=style&index=0&id=6c16bb46&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LocationParentPopup.vue?vue&type=style&index=0&id=a4652b42&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbInput.vue?vue&type=style&index=0&id=443282eb&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbContentElement.vue?vue&type=style&index=0&id=41908fdb&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ChapterPage.vue?vue&type=style&index=0&id=3f9ee5e3&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ElementPage.vue?vue&type=style&index=0&id=319900ad&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbPageNav.vue?vue&type=style&index=0&id=e03864e2&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbListItem.vue?vue&type=style&index=0&id=27e20e16&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbPopper.vue?vue&type=style&index=0&id=6ba9d1aa&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbTextElement.vue?vue&type=style&index=0&id=00b73768&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UniverseElements.vue?vue&type=style&index=0&id=1c84b137&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LinkPopup.vue?vue&type=style&index=0&id=f36f719a&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SearchPage.vue?vue&type=style&index=0&id=1a34e3a6&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbTagContainer.vue?vue&type=style&index=0&id=86c8c6cc&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbChapterLink.vue?vue&type=style&index=0&id=d8f98722&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbContent.vue?vue&type=style&index=0&id=9fa421f2&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbListElement.vue?vue&type=style&index=0&id=7ea91c4e&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbHeader.vue?vue&type=style&index=0&id=7f363eb0&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbButton.vue?vue&type=style&index=0&id=7405197a&lang=less\"","module.exports = __webpack_public_path__ + \"img/edit-universe-title-1.44022736.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbSelect.vue?vue&type=style&index=0&id=f96fc27c&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbPopupBox.vue?vue&type=style&index=0&id=60731b38&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbSearchSelect.vue?vue&type=style&index=0&id=71a85677&lang=less\"","module.exports = __webpack_public_path__ + \"img/edit-universe-title-2.a14da9dd.jpg\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=4fd028d6&lang=less\"","module.exports = __webpack_public_path__ + \"img/search-elements-1.016ec7aa.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbStoryElement.vue?vue&type=style&index=0&id=9c927650&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ElementNotFoundPage.vue?vue&type=style&index=0&id=c3f19056&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./EventDateSection.vue?vue&type=style&index=0&id=b79323fa&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UniverseElementPopup.vue?vue&type=style&index=0&id=e22b5044&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LoginPage.vue?vue&type=style&index=0&id=2b0f60ca&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UniverseMainPage.vue?vue&type=style&index=0&id=5890d9ea&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CategoryElementsPage.vue?vue&type=style&index=0&id=59c75046&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MainPage.vue?vue&type=style&index=0&id=764b54f1&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CreateChapterPopup.vue?vue&type=style&index=0&id=6eaf6626&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UniverseStories.vue?vue&type=style&index=0&id=3316b44e&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LbContentSwapper.vue?vue&type=style&index=0&id=2ec85714&lang=less\""],"sourceRoot":""}